!function a(n,o,l){function c(t,e){if(!o[t]){if(!n[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(d)return d(t,!0);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}var r=o[t]={exports:{}};n[t][0].call(r.exports,function(e){return c(n[t][1][e]||e)},r,r.exports,a,n,o,l)}return o[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(t,i,a){"use strict";var s,E=r(t("babel-runtime/core-js/object/keys")),h=r(t("babel-runtime/core-js/json/stringify")),H=r(t("babel-runtime/helpers/typeof")),q=r(t("babel-runtime/core-js/get-iterator")),n=r(t("babel-runtime/core-js/object/assign"));function r(e){return e&&e.__esModule?e:{"default":e}}s=window,"function"!=typeof CCH5PlayerInnerApi&&(s.CCH5PlayerInnerApi=function(a){return{errorDict:a.errorDict,playerEvent:a.playerEvent,readyH5Play:function(e){a.readyH5Play(e)},getCurrentCopy:function(){return a.currentCopy},setNewCopy:function(e){return this.setOuterApiProps({currentCopiesIdx:e.index}),a.currentCopy=e},toggleCtrlBar:function(){a.toggleCtrlBar()},videoPlay:function(){try{var t=a.oVideo.play();t&&t["catch"](function(e){a.oVideo.pause()})}catch(e){a.oVideo.pause()}},videoPause:function(){return a.oVideo.pause()},toggleVideoPlay:function(){a.togglePlay()},setVideoVolume:function(e){a.oVideo.volume=e},getVideoVolume:function(){return a.oVideo.volume},setCurrentTime:function(e){try{a.oVideo.currentTime=e}catch(t){console.log("innerApi: "+t)}},getCurrentTime:function(){return a.oVideo.currentTime},getTotalTime:function(){return this.duration=a.oVideo.duration||this.duration,this.duration},getLastVideoTime:function(){return a.lastVideoTime},getVideoSrc:function(){return a.currentCopy.playurl},setVideoSrc:function(e){return a.oVideo.src=e},isVideoPlay:function(){return 2!=a.currentCopy.mediatype},setVideoRate:function(e){a.oVideo.playbackRate=e},getVideoRate:function(e){return a.oVideo.playbackRate},fullScreen:function(e){return a.fullScreen(e)},exitFullScreen:function(e){return a.exitFullScreen(e)},registerVideoEvent:function(e,t){return a.addVideoListenner(e,t)},removeVideoEvent:function(e,t){return a.removeVideoListenner(e,t)},resolvePlayState:function(e){a.resolvePlayState(e)},showInfo:function(e){a.oInfo.style.display="block",a.oInfo.innerHTML=e},hideInfo:function(){a.oInfo.style.display="none",a.oInfo.innerHTML=""},showPlayBtn:function(){a.playBtn.className="ccH5PlayBtn",a.playBtn.style.display="block"},hidePlayBtn:function(){a.playBtn.style.display="none"},toggleVideoOrAudio:function(){a.toggleVideoOrAudio()},isEnterFullscreenInWeChat:function(){return a.isEnterFullscreen},getVideostate:function(){return a.oVideo.paused},getVideoBuffered:function(){return a.oVideo.buffered},addPlayerEventListenner:function(e,t){a.addPlayerEventListenner(e,t)},removePlayerEventListenner:function(e,t){a.removePlayerEventListenner(e,t)},triggerPlayerEvent:function(){a.triggerPlayerEvent.call(a,arguments)},showLoading:function(){a.showLoading()},setOuterApiProps:function(e){for(var t in e)a.outerApi[t]=e[t]},getCurrPlayedMaxTime:function(){return a.currPlayedMaxTime},getPlayStartTime:function(){return a.playStartTime},getApiResponseData:function(){return a.apiResponseData},addGlobalEvent:function(e,t,i){a.addGlobalEventListener(e,t,i)},displayingFullscreen:function(){return a.oVideo.webkitDisplayingFullscreen}}}),function(s){if("function"!=typeof CCH5PlayerAdEnd){var n=function n(e,t,i,a,s){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s,this.adVideo=null,this.adPic=null};n.prototype={constructor:n,init:function(){1!=this.params.isSkipAd&&this.registerVideoListener()},registerVideoListener:function(){var e=this;this.playerApi.registerVideoEvent("ended",function(){e.adMaterial?e.initAd():e.loadAdData()})},initAd:function(e){e&&this.initData(e),this.isAdVideo?this.createAdVideoView():this.createPicAdView(),this.ccAdEndBox=R.queryEle(".ccAdEndBox",this.parentEle),this.ccAdEndBox.style.zIndex=this.zIndex,this.adInnerBox=R.queryEle(".adEndInnerBox",this.parentEle),this.adSec=R.queryEle(".adSec",this.parentEle),this.skipAdBtn=R.queryEle(".closeAd",this.parentEle),this.adCloseTime=R.queryEle(".closeTime",this.parentEle),this.waitTime=R.queryEle(".skipNum",this.parentEle),this.adSkipLink=R.queryEle(".adSkipLink",this.parentEle),this.moreDetails=R.queryEle(".moreDetails",this.parentEle),this.isAdVideo?(this.adPlayBtn=R.queryEle(".ccH5EndAdPlayBtn",this.parentEle),this.adVideoVolume=R.queryEle(".adVideoVolume",this.adInnerBox)):this.pSrc=R.queryEle(".pSrc",this.parentEle),this.initAdEvents()},createAdVideoView:function(){var e=document.createElement("div");this.parentEle.appendChild(e),e.outerHTML="<div class='ccAdEndBox'>  <div class='ccH5PlayBtn ccH5EndAdPlayBtn'></div>  <div class='x-advert adEndInnerBox' style='display:none;'>\t\t<a class='skipGg adSkipLink' href='' target='_blank'></a>  \t<div class='x-advert-info'>\t  \t\t<div class='x-advert-skip'>\t\t \t\t<div class='x-advert-txt closeAd'><span class='closeTime'><i class='skipNum'></i>s后可</span>关闭广告</div>\t\t \t\t<div class='x-mask'></div>\t  \t\t</div>\t  \t\t<div class='x-advert-countdown'>\t\t \t\t<div class='x-advert-txt'><span class='adSec'></span>s</div>\t\t \t\t<div class='x-mask'></div>\t  \t\t</div>  \t</div>  \t<div class='x-advert-detail'>\t  \t\t<div class='x-advert-txt'><a class='moreDetails' href=''  target='_blank'>了解详情</a></div>\t  \t\t<div class='x-mask'></div>  \t</div>     <div class='adVideoVolume'></div>  </div>\t</div>",e=R.queryEle(".x-advert",this.parentEle);var t=document.createElement("video");e.parentNode.appendChild(t),t.outerHTML="<video id='cch5playerAdVideo' autoplay x-webkit-airplay='allow' x5-playsinline webkit-playsinline playsinline='true'><source></source></video>",(t=R.queryEle("#cch5playerAdVideo",this.parentEle)).id="cc_ad_"+this.params.vid,t.src=this.adMaterial,t.querySelector("source").src=this.adMaterial;var i=R.getCross(this.params,this.videoPlayData);i&&0<i.length&&(t.crossOrigin=i),this.adVideo=t,this.adVideo.volume=0},createPicAdView:function(){var t=this,i=R.getRandomWinFuncName("cch5player");s[i]=function(e){t.initPicAdStyle(),delete s[i]};var e="<div class='ccAdEndBox'>  <div class='picAd adEndInnerBox' id='picAd' style='display:none;'>     <a class='picBtn adSkipLink' id='picBtn' href='' target='_blank'></a>  \t<div class='x-advert-info'>\t  \t\t<div class='x-advert-skip'>\t\t \t\t<div class='x-advert-txt closeAd'><span class='closeTime'><i class='skipNum'></i>s后可</span>关闭广告</div>\t\t \t\t<div class='x-mask'></div>\t  \t\t</div>\t  \t\t<div class='x-advert-countdown'>\t\t \t\t<div class='x-advert-txt'><span class='adSec'></span>s</div>\t\t \t\t<div class='x-mask'></div>\t  \t\t</div>  \t</div>\t\t<div class='pictab'><img onload='"+i+"();' class='pSrc' src=''/></div>  \t<div class='x-advert-detail'>\t  \t\t<div class='x-advert-txt'><a class='moreDetails' href='' target='_blank'>了解详情</a></div>\t  \t\t<div class='x-mask'></div>  \t</div>\t  </div>\t</div>",a=document.createElement("div");this.parentEle.appendChild(a),a.outerHTML=e},initAdEvents:function(){var t=this;this.adSec.innerHTML=this.adTime,this.adSkipLink.href=R.getAdSrc(this.adId,this.clickurl,this.materialId),this.moreDetails.href=this.adSkipLink.href,""==this.clickurl&&(this.adSkipLink.style.display="none",this.moreDetails.parentNode.parentNode.style.display="none"),0!=this.skipTime&&(this.waitTime.innerHTML=this.skipTime,this.waitCloseBtn()),1==this.canskip?this.skipAdBtn.style.display="block":this.skipAdBtn.parentNode.style.display="none",1==this.canClick&&""!=this.clickurl?this.adSkipLink.style.display="block":this.adSkipLink.style.display="none";if(R.addListener(this.skipAdBtn,"click",function(){t.skipAd()}),!this.isAdVideo)return this.pSrc.src=this.adMaterial,void this.setAdTime();R.addListener(this.adVideoVolume,"click",function(e){1==e.target.classList.contains("active")?(e.target.classList.remove("active"),t.adVideo.volume=0):(e.target.classList.add("active"),t.adVideo.volume=.5)}),R.addListener(this.adVideo,"play",function(){t.adPlayBtn.style.display="none",t.adVideoStared||(t.setAdTime(),t.adVideoStared=!0)}),R.addListener(this.adPlayBtn,"click",function(){t.adVideo.play()})},loadAdData:function(){var t=this;R.ccJsonp({url:"https://imedia.bokecc.com/servlet/mobile/adloader",data:{vid:t.params.vid,uid:t.params.siteid,type:3,t:0},timeOut:3e3,success:function(e){1==e.response.result&&t.initAd(e)},error:function(){}})},initData:function(e){var t=e.response.ad[0].material,i=t.lastIndexOf(".");".mp4"==t.substring(i,t.length).toLowerCase()?this.isAdVideo=!0:this.isAdVideo=!1,-1!=e.response.ad[0].material.indexOf("bokecc.com")?this.adMaterial=e.response.ad[0].material.replace(/http:/i,"https:"):this.adMaterial=e.response.ad[0].material,this.adUrl=e.response.ad[0].material,this.canClick=e.response.canclick,this.videoAd=e.response.result,this.adTime=e.response.time,this.skipTime=e.response.skiptime,this.canskip=e.response.canskip,this.adId=e.response.adid,this.materialId=e.response.ad[0].materialid,this.clickurl=e.response.ad[0].clickurl,e.response.statisUrl&&R.imgLoad(e.response.statisUrl)},setAdTime:function(){var e=this,t=this.adTime;this.adInnerBox.style.display="block",this.adCountDown=function(){t--,0==(e.adSec.innerHTML=t)&&(clearInterval(e.adTimer),e.skipAdBtn.click())},this.adTimer=setInterval(this.adCountDown,1e3)},waitCloseBtn:function(){var e=this.skipTime,t=this;this.adCloseTime.style.display="inline-block",this.skipAdBtn.style.pointerEvents="none",this.closeAdCountDown=function(){e--,0==(t.waitTime.innerHTML=e)&&(clearInterval(t.waitTimer),t.adCloseTime.style.display="none",t.skipAdBtn.style.pointerEvents="auto")},this.waitTimer=setInterval(this.closeAdCountDown,1e3)},skipAd:function(){try{clearInterval(this.waitTimer)}catch(e){}try{clearInterval(this.adTimer)}catch(e){}this.isAdVideo&&(this.adVideo=null),this.ccAdEndBox.parentNode.removeChild(this.ccAdEndBox),this.adVideoStared=!1},initPicAdStyle:function(){var e=this.pSrc.width,t=this.pSrc.height,i=this.parentEle.offsetWidth,a=this.parentEle.offsetHeight,s=(a-i*t/e)/2+"px";e/t<=i/a?this.pSrc.style.height="100%":(this.pSrc.style.width="100%",this.pSrc.style.paddingTop=s)}},s.CCH5PlayerAdEnd=function(e,t,i,a,s){var r=new n(e,t,i,a,s);return{init:function(){r.init()}}}}}(window),function(s){if("function"!=typeof CCH5PlayerAdHeader){var o=function o(e,t,i,a,s,r){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s,this.intervals=[],this.adVideo=null,this.adPic=null,this.hasAd=!1,this.playerTrack=r};o.prototype={constructor:o,init:function(){1!=this.params.isSkipAd?(this.parentEle.innerHTML='<div style="height:100%;width:100%;background-color:#000000;"></div>',this.loadAdData()):this.playerApi.readyH5Play(!1)},initAd:function(e){this.hasAd=!0,this.initData(e),this.isAdVideo?this.playVideoAd():this.playPicAd()},playVideoAd:function(){this.createAdVideoView(),this.initAdVideoView(),this.initAdVideoEvents()},playPicAd:function(){this.createPicAdView(),this.initAdPicView(),this.initAdPicEvents()},createAdVideoView:function(){var e=document.createElement("div");this.parentEle.innerHTML="",this.parentEle.appendChild(e),e.outerHTML="<div class='ccH5playerBox' style='width: 100%; height: 100%;'>  <div class='ccH5PlayBtn'></div>  <div class='x-advert' style='display:none;'>\t\t<a class='skipGg' href='' ></a>  \t<div class='x-advert-info'>\t  \t\t<div class='x-advert-skip'>\t\t \t\t<div class='x-advert-txt closeAd'><span class='closeTime'><i class='skipNum'></i>s后可</span>关闭广告</div>\t\t \t\t<div class='x-mask'></div>\t  \t\t</div>\t  \t\t<div class='x-advert-countdown'>\t\t \t\t<div class='x-advert-txt'><span class='x-advert-sec'></span>s</div>\t\t \t\t<div class='x-mask'></div>\t  \t\t</div>  \t</div>  \t<div class='x-advert-detail'>\t  \t\t<div class='x-advert-txt'><a class='vadSrc' href=''  target='_blank'>了解详情</a></div>\t  \t\t<div class='x-mask'></div>  \t</div>  </div>\t</div>",(e=R.queryEle(".x-advert",this.parentEle)).style.zIndex=this.zIndex;var t=document.createElement("video");e.parentNode.appendChild(t),t.outerHTML="<video id='cch5playerAdVideo' x-webkit-airplay='allow'  x5-playsinline webkit-playsinline playsinline='true'><source></source></video>",(t=R.queryEle("#cch5playerAdVideo",this.parentEle)).id="cc_ad_"+this.params.vid,t.src=this.adMaterial,t.querySelector("source").src=this.adMaterial;var i=R.getCross(this.params,this.videoPlayData);i&&0<i.length&&(t.crossOrigin=i),"true"!==this.params.autoStart||R.isMoble()?t.poster=R.getImgSrc(this.params,this.videoPlayData):t.autoplay="autoplay",t.style.width=this.params.width,this.adVideo=t},createPicAdView:function(){var i=this,a=R.getRandomWinFuncName("cch5player");s[a]=function(e){i.initPicAdStyle(),delete s[a];var t=i.playerApi.getCurrentCopy().playurl;i.playerTrack.sendStartPlayState({code:200,cdn:R.getUrlDomain(t),data:{msg:"片头图片广告"}}),i.playerTrack.setReportedPlaySucc()};var e="<div class='ccH5playerBox' style='width: 100%; height: 100%;'>  <div class='picAd' id='picAd' style='display:none;'>     <a class='picBtn' id='picBtn' href='' ></a>  \t<div class='x-advert-info'>\t  \t\t<div class='x-advert-skip'>\t\t \t\t<div class='x-advert-txt closePicAd'><span class='closePicTime'><i class='skipPicNum'></i>s后可</span>关闭广告</div>\t\t \t\t<div class='x-mask'></div>\t  \t\t</div>\t  \t\t<div class='x-advert-countdown'>\t\t \t\t<div class='x-advert-txt'><span class='adSec'></span>s</div>\t\t \t\t<div class='x-mask'></div>\t  \t\t</div>  \t</div>\t\t<div class='pictab'><img onload='"+a+"();' class='pSrc' src=''/></div>  \t<div class='x-advert-detail'>\t  \t\t<div class='x-advert-txt'><a class='picTxth' href='' target='_blank'>了解详情</a></div>\t  \t\t<div class='x-mask'></div>  \t</div>\t  </div>\t</div>",t=document.createElement("div");this.parentEle.innerHTML="",this.parentEle.appendChild(t),t.outerHTML=e,R.queryEle(".picAd",this.parentEle).style.zIndex=this.zIndex},initAdVideoEvents:function(){this.xAdSec.innerHTML=this.adTime,this.adSrc.href=R.getAdSrc(this.adId,this.clickurl,this.materialId),""==this.clickurl&&(this.adSrc.style.display="none",this.vadSrc.parentNode.parentNode.style.display="none"),0!=this.skipTime&&(this.waitTime.innerHTML=this.skipTime,this.waitCloseBtn()),1==this.canskip?this.skipAdBtn.style.display="block":this.skipAdBtn.parentNode.style.display="none",1==this.canClick&&""!=this.clickurl?this.adSrc.style.display="block":this.adSrc.style.display="none",this.adPlayBtn=R.queryEle(".ccH5PlayBtn",this.parentEle);var i=this;R.addListener(this.skipAdBtn,"click",function(){i.skipAd()}),R.addListener(this.adPlayBtn,"click",function(){i.adVideo.play()}),R.addListener(this.adVideo,"canplay",function(){if(!i.adVideoStared&&"true"==i.params.autoStart)try{var t=i.adVideo.play();t&&t["catch"](function(e){i.adVideo.pause()})}catch(e){i.adVideo.pause()}}),R.addListener(this.adVideo,"play",function(){i.adVideoStared||(i.videoTime(),i.adVideoStared=!0,i.adPlayBtn.style.display="none")}),R.addListener(this.adVideo,"ended",function(){for(var e=cc_js_Player.materialUrl,t=0;t<e.length;t++)if(e[t].material==this.adVideo.src){t==e.length-1?(this.adVideo.src=e[0].material,this.adSrc.href="https://imedia.bokecc.com/servlet/mobile/clickstats?adid="+i.adId+"&clickurl="+encodeURIComponent(e[0].clickurl)+"&materialid="+e[0].materialid,this.vadSrc.href="https://imedia.bokecc.com/servlet/mobile/clickstats?adid="+i.adId+"&clickurl="+encodeURIComponent(e[0].clickurl)+"&materialid="+e[0].materialid):(this.adVideo.src=e[t+1].material,this.adSrc.href="https://imedia.bokecc.com/servlet/mobile/clickstats?adid="+i.adId+"&clickurl="+encodeURIComponent(e[t+1].clickurl)+"&materialid="+e[t+1].materialid,this.vadSrc.href="https://imedia.bokecc.com/servlet/mobile/clickstats?adid="+i.adId+"&clickurl="+encodeURIComponent(e[t+1].clickurl)+"&materialid="+e[t+1].materialid);break}}),R.addListener(this.adVideo,"progress",function(){if(!i.playerTrack.getIsReportedPlaySucc()){var e=i.playerApi.getCurrentCopy().playurl;i.playerTrack.sendStartPlayState({code:200,cdn:R.getUrlDomain(e),data:{msg:"片头视频广告"}}),i.playerTrack.setReportedPlaySucc()}})},initAdPicEvents:function(){this.adSec.innerHTML=this.adTime,this.pSrc.src=this.adMaterial,this.picAdSrc.href=R.getAdSrc(this.adId,this.clickurl,this.materialId),this.picTxth.href=this.picAdSrc.href,""==this.clickurl&&(this.picAdSrc.style.display="none",this.picTxth.style.display="none",this.picTxth.parentNode.parentNode.style.display="none"),this.picAdTime(),0!=this.skipTime&&(this.waitPicTime.innerHTML=this.skipTime,this.waitPicClose()),1==this.canskip?this.skipPicAd.style.display="block":(this.skipPicAd.style.display="none",this.skipPicAd.parentNode.style.display="none"),1==this.canClick&&""!=this.clickurl?this.picAdSrc.style.display="block":this.picAdSrc.style.display="none";var e=this;R.addListener(this.skipPicAd,"click",function(){e.skipAd()})},initAdVideoView:function(){this.adSrc=R.queryEle(".skipGg",this.parentEle),this.adcloseTime=R.queryEle(".closeTime",this.parentEle),this.vadSrc=R.queryEle(".vadSrc",this.parentEle),this.advert=R.queryEle(".x-advert",this.parentEle),this.skipAdBtn=R.queryEle(".closeAd",this.parentEle),this.xAdSec=R.queryEle(".x-advert-sec",this.parentEle),this.waitTime=R.queryEle(".skipNum",this.parentEle)},initAdPicView:function(){this.adSec=R.queryEle(".adSec",this.parentEle),this.imgCloseTime=R.queryEle(".closePicTime",this.parentEle),this.picAdSrc=R.queryEle(".picBtn",this.parentEle),this.waitPicTime=R.queryEle(".skipPicNum",this.parentEle),this.skipPicAd=R.queryEle(".closePicAd",this.parentEle),this.picAd=R.queryEle(".picAd",this.parentEle),this.pSrc=R.queryEle(".pSrc",this.parentEle),this.picTxth=R.queryEle(".picTxth",this.parentEle)},loadAdData:function(){var t=this;R.ccJsonp({url:"https://imedia.bokecc.com/servlet/mobile/adloader",data:{vid:t.params.vid,uid:t.params.siteid,type:1,t:0},timeOut:3e3,success:function(e){1==e.response.result?t.initAd(e):t.playerApi.readyH5Play(!1)},error:function(){t.playerApi.readyH5Play(!1)}})},initData:function(e){var t=e.response.ad[0].material,i=t.lastIndexOf(".");".mp4"==t.substring(i,t.length).toLowerCase()?this.isAdVideo=!0:this.isAdVideo=!1,-1!=e.response.ad[0].material.indexOf("bokecc.com")?this.adMaterial=e.response.ad[0].material.replace(/http:/i,"https:"):this.adMaterial=e.response.ad[0].material,this.adUrl=e.response.ad[0].material,this.canClick=e.response.canclick,this.videoAd=e.response.result,this.adTime=e.response.time,this.skipTime=e.response.skiptime,this.canskip=e.response.canskip,this.materialUrl=e.response.ad,this.adId=e.response.adid,this.materialId=e.response.ad[0].materialid,this.clickurl=e.response.ad[0].clickurl,e.response.statisUrl&&R.imgLoad(e.response.statisUrl),this.isAdTime=!0;var a={adId:this.adId,adTime:this.adTime,canClick:this.canClick,canskip:this.canskip,materialId:this.materialId,isAdTime:this.isAdTime,videoAd:this.videoAd};this.isAdVideo?a.videoSrc=this.adMaterial:a.picSrc=this.adMaterial,this.playerApi.setOuterApiProps(a)},videoTime:function(){var e=this,t=this.adTime;this.advert.style.display="block",this.videoAdCountDown=function(){t--,0==(e.xAdSec.innerHTML=t)&&(clearInterval(e.adTimer),e.skipAdBtn.click())},"undefined"==typeof e.adTimer&&(e.adTimer=setInterval(this.videoAdCountDown,1e3))},picAdTime:function(){var e=this.adTime,t=this;this.picAd.style.display="block",this.picAdCountDown=function(){e--,0==(t.adSec.innerHTML=e)&&(clearInterval(t.adTimer),t.skipPicAd.click())},t.adTimer=setInterval(this.picAdCountDown,1e3)},waitCloseBtn:function(){var e=this.skipTime,t=this;this.adcloseTime.style.display="inline-block",this.skipAdBtn.style.pointerEvents="none",this.closeVideoCountDown=function(){e--,0==(t.waitTime.innerHTML=e)&&(clearInterval(t.waiTimer),t.adcloseTime.style.display="none",t.skipAdBtn.style.pointerEvents="auto")},this.waiTimer=setInterval(this.closeVideoCountDown,1e3)},waitPicClose:function(){var e=this.skipTime,t=this;this.imgCloseTime.style.display="inline-block",this.skipPicAd.style.pointerEvents="none",this.closePicCountDown=function(){e--,0==(t.waitPicTime.innerHTML=e)&&(clearInterval(t.waiTimer),t.imgCloseTime.style.display="none",t.skipPicAd.style.pointerEvents="auto")},t.waiTimer=setInterval(this.closePicCountDown,1e3)},skipAd:function(){try{clearInterval(this.waiTimer)}catch(e){}try{clearInterval(this.adTimer)}catch(e){}this.isAdVideo?this.advert.style.display="none":this.picAd.style.display="none",this.isAdVideo&&(this.params.autoStart="true"),R.invokeWindow("on_CCH5player_adEnd",this.adId,this.params.vid),this.playerApi.readyH5Play(this.hasAd)},initPicAdStyle:function(){var e=this.pSrc.width,t=this.pSrc.height,i=this.parentEle.offsetWidth,a=this.parentEle.offsetHeight,s=(a-i*t/e)/2+"px";e/t<=i/a?this.pSrc.style.height="100%":(this.pSrc.style.width="100%",this.pSrc.style.paddingTop=s)}},s.CCH5PlayerAdHeader=function(e,t,i,a,s,r){var n=new o(e,t,i,a,s,r);return{init:function(){n.init()}}}}}(window),function(n){if("function"!=typeof CCH5PlayerAdPaused){var c=function c(e,t,i,a,s,r,n,o){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s,this.ccPlayerQA=r,this.ccPlayerExercise=n,this.ccPlayerVistor=o};c.prototype={constructor:c,init:function(){1!=this.params.isSkipAd&&(this.initData(),this.registerVideoListener())},createPicView:function(){var t=this,e=R.getRandomWinFuncName("cch5player");n[e]=function(e){t.picPauseAdStyle()};var i="<div class='picAdPaused' id='pausedAdContainer' style='display:none;overflow:hidden;'>\t\t<div class='pictabPaused'><div class='closeBoxPaused pausedVideoAdCloseBtn' style='opacity:0;'>广告</div>       <a id='picBtnPaused' href='' target='_blank'>      <img onload='"+e+"();' class='pausedAdSrc' style='opacity:0;' src=''/></a></div>\t</div>",a=document.createElement("div");this.parentEle.appendChild(a),a.outerHTML=i},createVideoView:function(){var e=document.createElement("div");this.parentEle.appendChild(e),e.outerHTML="<div class='picAdPaused' id='pausedAdContainer' style='display:none;overflow:hidden;'>  <div class='ccH5PlayBtn ccH5PausedAdPlayBtn'></div>\t\t<div class='pictabPaused'>  \t    <div class='closeBoxPaused pausedVideoAdCloseBtn'>广告</div>         <a id='picBtnPaused' href='' target='_blank' style='display:block;font-size:0;'>             <video id='pausedAdVideo' autoplay loop class='pausedAdSrc' style='width: 100%;height:100%;' x-webkit-airplay='allow' x5-playsinline webkit-playsinline playsinline='true'><source></source>             </video>          </a>  \t    <div class='adVideoVolume'></div>     </div>\t</div>"},registerVideoListener:function(){var a=this;this.playerApi.registerVideoEvent("pause",function(){var e=a.ccPlayerExercise&&a.ccPlayerExercise.getExerciseIsShow(),t=a.ccPlayerQA&&a.ccPlayerQA.getIsQuestionsShow(),i=a.ccPlayerVistor&&a.ccPlayerVistor.getVistorIsShow();(!(e||t||i)||R.isMoble()||R.isIPad()||R.isWindowsPhoneOS())&&a.toShowPauseAd()}),this.playerApi.registerVideoEvent("playing",function(){a.pausedAdContainer&&(a.pausedAdContainer.style.display="none",a.pausedAdVideo&&(a.pausedAdVideo.pause(),a.pausedVideoAdVolume.classList.contains("active")&&(a.pausedVideoAdVolume.classList.remove("active"),R.isMoble()||R.isIPad()||(a.pausedAdVideo.volume=0))),a.playEnded=!1,a.isWillShowPauseAd=!1)}),this.playerApi.registerVideoEvent("ended",function(e){a.playEnded=!0})},initAdEvents:function(){var s=this,r=this;R.addListener(this.pausedAdContainer,"click",function(e){var t=e||n.event,i=t.target.id,a=t.target.className;s.isPausedAdVideo&&"pausedAdContainer"!==i||!s.isPausedAdVideo&&"pausedAdContainer"!==i&&"pictabPaused"!==a||r.playerApi.videoPlay()}),R.addListener(this.closeBoxPaused,"click",function(e){r.closePauseAd()}),this.isPausedAdVideo&&(R.addListener(this.pausedVideoAdVolume,"click",function(e){1==e.target.classList.contains("active")?(e.target.classList.remove("active"),s.pausedAdVideo.volume=0):(e.target.classList.add("active"),s.pausedAdVideo.volume=.5)}),R.addListener(this.adPlayBtn,"click",function(){s.pausedAdVideo.play()}),R.addListener(this.pausedAdVideo,"play",function(){s.adPlayBtn.style.display="none"}))},initData:function(){this.isWillShowPauseAd=!1,this.loadingAd=!1,this.hasPauseAd=!0,this.pauseAd=null},initAdData:function(){if(this.pausedAdContainer=R.queryEle("#pausedAdContainer",this.parentEle),this.picBtnPaused=R.queryEle("#picBtnPaused",this.parentEle),this.pausedAdSrc=R.queryEle(".pausedAdSrc",this.parentEle),this.closeBoxPaused=R.queryEle(".closeBoxPaused",this.parentEle),this.pausedInnerBox=R.queryEle(".pictabPaused",this.parentEle),this.pausedAdContainer.style.zIndex=this.zIndex,this.isPausedAdVideo){this.adPlayBtn=R.queryEle(".ccH5PausedAdPlayBtn",this.parentEle),this.pausedAdVideo=R.queryEle("#pausedAdVideo",this.parentEle),R.isMoble()||R.isIPad()||(this.pausedAdVideo.volume=0),this.pausedVideoAdVolume=R.queryEle(".adVideoVolume",this.pausedAdContainer);var e=(.04*this.parentEle.offsetWidth).toFixed(2);this.pausedVideoAdVolume.style.width=e+"px",this.pausedVideoAdVolume.style.height=e+"px"}},toShowPauseAd:function(e){var t=e||20;if(!(this.playerApi.getCurrentTime()<1)){var i=this;this.isWillShowPauseAd=!0,setTimeout(function(){if(!i.loadingAd&&!i.playEnded&&i.isWillShowPauseAd){var e=i.params;if(R.invokeWindow("on_pause_showAd",e.vid),!i.pauseAd)return i.loadingAd=!0,void R.ccJsonp({url:"https://imedia.bokecc.com/servlet/mobile/adloader",data:{vid:e.vid,uid:e.siteid,type:2,t:0},timeOut:5e3,success:function(e){i.loadingAd=!1,i.pauseAdCallback(e)},error:function(){i.loadingAd=!1}});i.hasPauseAd&&i.showPausedAd()}},t)}},showPausedAd:function(){var e=this.pauseAd;if(this.isPausedAdVideo?(this.pausedAdSrc.src=e.material,this.pausedAdSrc.querySelector("source").src=e.material,this.adPlayBtn.style.display="block"):this.pausedAdSrc.src=e.material,""==e.clickurl)this.picBtnPaused.href="javascript:void(0);",this.picBtnPaused.target="";else{var t="https://imedia.bokecc.com/servlet/mobile/clickstats?adid="+e.adId+"&clickurl="+encodeURIComponent(e.clickurl)+"&materialid="+e.materialid;this.picBtnPaused.href=t}this.pausedAdContainer.style.display="block",this.playerApi.hidePlayBtn()},pauseAdCallback:function(e){if(1!=e.response.result)return this.pauseAd={},void(this.hasPauseAd=!1);this.pauseAd=e.response.ad[0],this.pauseAd.adId=e.response.adid,-1!=e.response.ad[0].material.indexOf("bokecc.com")&&(this.pauseAd.material=e.response.ad[0].material.replace(/http:/i,"https:"));var t=this.pauseAd.material,i=t.lastIndexOf(".");".mp4"==t.substring(i,t.length).toLowerCase()?this.isPausedAdVideo=!0:this.isPausedAdVideo=!1,this.isPausedAdVideo?this.createVideoView():this.createPicView(),this.initAdData(),this.initAdEvents(),this.hasPauseAd=!0,e.response.statisUrl&&R.imgLoad(e.response.statisUrl),this.toShowPauseAd(0)},picPauseAdStyle:function(){if(!this.picPauseAdStyleInvoked){this.picPauseAdStyleInvoked=!0,this.pausedAdSrc.width/this.pausedAdSrc.height<=this.parentEle.offsetWidth/this.parentEle.offsetHeight?this.pausedAdSrc.style.height="100%":this.pausedAdSrc.style.width="100%";var e=this.pausedInnerBox.offsetWidth,t=this.pausedInnerBox.offsetHeight,i=(e-this.pausedAdSrc.offsetWidth)/2,a=(t-this.pausedAdSrc.offsetHeight)/2;this.closeBoxPaused.style.right=10+i+"px",this.closeBoxPaused.style.top=10+a+"px",this.closeBoxPaused.style.opacity=1,this.pausedAdSrc.style.opacity=1}},closePauseAd:function(){this.pausedAdContainer.style.display="none",this.playerApi.showPlayBtn(),this.pausedAdVideo&&this.pausedAdVideo.pause()}},n.CCH5PlayerAdPaused=function(e,t,i,a,s,r,n,o){var l=new c(e,t,i,a,s,r,n,o);return{init:function(){l.init()}}}}}(window),function(c){var n=c.document;if("function"!=typeof CCH5PlayerBarrage){var e;(e=n.createElement("link")).href="https://p.bokecc.com/css/html5player/barrage.css",e.rel="stylesheet",e.type="text/css",n.getElementsByTagName("head")[0].appendChild(e);var d=function d(e,t,i,a,s,r,n,o){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s,this.settingIndex=r,this.playerContainer=n,this.ccPlayList=o};d.prototype={hasOpenBarrage:!1,switchOn:!0,showPopupBarrage:!1,barrageColor:"",barrageDur:"",barrageData:null,barragePreloadData:null,barragePreloadSec:-1,lastPt:-1,barrageLoading:!1,barrageSec:-1,isPlaying:!1,ish5:!0,lastIndex:0,intervals:[],init:function(){var a=this;if(this.createBarrageHTML(),this.initData(),this.addEvents(),this.classListIE(),R.isFlashPlay(this.videoPlayData.playtype)){this.ish5=!1;var s=null;"function"==typeof c.on_cc_player_init&&(s=c.on_cc_player_init),c.on_cc_player_init=function(e,t){a.fPlayer=a.getSWF("cc_"+a.params.vid);var i={player_plugins:{BulletCurtain:{color:16777215,font:"微软雅黑",size:20,duration:10,alpha:1,visible:1}}};a.fPlayer.setConfig(i),null!=s&&s(e,t)};var e=null;"function"==typeof c.on_spark_player_ready&&(e=c.on_spark_player_ready),c.on_spark_player_ready=function(){a.isPlaying=!0,null!=e&&e()}}else this.ish5=!0,this.openBarrage(),this.isPlaying=!0;this.barrageDur=4e3,this.move_status=!0;for(var t=0;t<this.ccSli.length;t++)R.addListener(this.ccSli[t],"click",function(){for(var e=0;e<a.ccSli.length;e++)a.ccSli[e].classList.remove("cc_current");this.classList.add("cc_current");var t=this.firstChild.style.backgroundColor;a.barrageColor=a.rgb2hex(t)});this.startShowBarrage()},initData:function(){this.oDiv=R.queryEle(".cc_barrage_container",this.playerContainer),this.ccPopupBarrage=R.queryEle("#cc_popup_barrage",this.playerContainer),this.ccBarrageSettingsColor=R.queryEle(".cc_barrage_settings_color",this.oDiv),this.ccSli=this.ccBarrageSettingsColor.getElementsByTagName("li"),this.ccInpText=R.queryEle(".cc_inp_text",this.oDiv),this.ccBarrageTips=R.queryEle(".cc_barrage_tips",this.oDiv),this.ccBtnType=R.queryEle(".cc_btn_type",this.oDiv),this.ccPopupBarrageType=R.queryEle(".cc_popup_barrage_type",this.oDiv),this.ccSpeedPointer=R.queryEle(".cc_speed_pointer",this.oDiv),this.ccSpeedProgress=R.queryEle(".cc_speed_progress",this.oDiv),this.ccSpeedShow=R.queryEle(".cc_speed_show",this.oDiv),this.ccAlphaPointer=R.queryEle(".cc_alpha_pointer",this.oDiv),this.ccAlphaProgress=R.queryEle(".cc_alpha_progress",this.oDiv),this.ccAlphaShow=R.queryEle(".cc_alpha_show",this.oDiv),this.ccBtnSubmit=R.queryEle(".cc_btn_submit",this.oDiv),this.ccBarrageSwitch=R.queryEle(".cc_barrage_switch",this.oDiv)},addEvents:function(){var e=this;R.addListener(this.ccInpText,"focus",function(){e.ccInpTextFocus()}),R.addListener(this.ccInpText,"blur",function(){e.ccInpTextBlur()}),R.addListener(this.ccPopupBarrage,"mouseenter",function(){e.ccPopupBarrageEnter()}),R.addListener(this.ccPopupBarrage,"mouseleave",function(){e.ccPopupBarrageOut()}),R.addListener(this.ccBtnType,"click",function(){e.ccPopupBarrageTypeShow()}),R.addListener(this.ccBtnType,"mouseenter",function(){e.ccPopupBarrageTypeEnter()}),R.addListener(this.ccBtnType,"mouseleave",function(){e.ccPopupBarrageTypeShowTimer()}),R.addListener(this.ccPopupBarrageType,"mouseenter",function(){e.ccPopupBarrageTypeEnter()}),R.addListener(this.ccPopupBarrageType,"mouseleave",function(){e.ccPopupBarrageTypeShowTimer()}),R.addListener(this.ccBtnSubmit,"click",function(){e.ccSubmitBarrage()}),R.addListener(this.ccBarrageSwitch,"click",function(){e.ish5?e.h5SwitchBarrage():e.flashSwitchBarrage()}),this.dragSpeed(this.ccSpeedPointer),this.dragAlpha(this.ccAlphaPointer)},openBarrage:function(e,t,i){var a=this;if(this.CCStyle={size:20,col:16777215,dur:1e4},void 0!==e&&null!=e&&(this.CCStyle.size=e),void 0!==t&&null!=t&&("string"==typeof t&&"#"==t.charAt(0)&&(t="0x"+t.substring(1),t=parseInt(t,"0x")),this.CCStyle.col=t),void 0!==i&&null!=i&&(this.CCStyle.dur=i),!this.hasOpenBarrage){this.hasOpenBarrage=!0;var s=n.createElement("div");s.innerHTML=this.createBarrageBox(),this.parentEle.appendChild(s),R.queryEle(".abp",this.parentEle).style.zIndex=this.zIndex;var r=R.queryEle("#ccBarrage",this.parentEle);R.loadScript("https://p.bokecc.com/js/player/CommentCoreLibrary.js",function(){a.CM=new CommentManager(r),a.CM.init(),a.CM.start()}),R.addListener(r,"click",function(e){a.params.listid&&a.ccPlayList.isShowing()?a.ccPlayList.hidePlayList():"ccBarrage"===e.target.id&&a.playerApi.toggleVideoPlay()})}},sendBarrage:function(e,t,i,a){this.hasOpenBarrage?this.CM&&void 0!==e&&("string"==typeof i&&"#"==i.charAt(0)&&(i="0x"+i.substring(1),i=parseInt(i,"0x")),i=parseInt(i),this.CM.send({mode:1,text:e,size:t||this.CCStyle.size,color:i||this.CCStyle.col,dur:a||this.CCStyle.dur})):this.openBarrage()},showBarrage:function(){this.hasOpenBarrage?R.queryEle(".abp",this.parentEle).style.visibility="visible":this.openBarrage()},hideBarrage:function(){this.hasOpenBarrage&&(R.queryEle(".abp",this.parentEle).style.visibility="hidden")},createBarrageBox:function(){return'<div class="abp" style="position:absolute; width:100%; height:100%; z-index:3;top:0px;"><div id="ccBarrage" class="container" style="perspective: 227.217px;"></div></div>'},rgb2hex:function(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}return"0x"+t((e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+t(e[2])+t(e[3])},startShowBarrage:function(){var s=this,r=setInterval(function(){if(0!=s.isPlaying)if(s.playerContainer.getElementsByClassName("cc_barrage_container").length<1)clearInterval(r);else{var e;if(s.ish5)e=s.playerApi.getCurrentTime();else{if(!s.fPlayer.getPosition||!s.fPlayer.addBullet)return void c.clearInterval(r);e=s.fPlayer.getPosition()}var t=parseInt(10*e);if(s.lastPt!=t){var i=parseInt(e/60);if(null===s.barrageData||s.barrageSec!=i&&(s.barragePreloadSec!=i||null===s.barragePreloadData)?s.barrageLoading||s.ccObtainBarrage(i):58<=parseInt(e%60)&&null===s.barragePreloadData&&(s.barrageLoading||s.ccObtainBarrage(i+1)),i!=s.barrageSec&&null!=s.barragePreloadData&&(s.barrageData=s.barragePreloadData,s.barragePreloadData=null,s.barrageSec=i,s.barrageLoading=!1,s.lastIndex=0),null!==s.barrageData){s.lastPt=t,0!=s.lastIndex&&parseInt(s.barrageData[s.lastIndex].pt/100)>t&&(s.lastIndex=0);for(var a=s.lastIndex;a<s.barrageData.length;a++){t==parseInt(s.barrageData[a].pt/100)&&(s.lastIndex=a,s.ish5?s.sendBarrage(s.barrageData[a].content,20,s.barrageData[a].fc,Math.floor(4e3*Math.random()+s.barrageDur)):("#"==s.barrageData[a].fc.charAt(0)&&(s.barrageData[a].fc="0x"+s.barrageData[a].fc.substring(1)),s.fPlayer.addBullet({text:s.barrageData[a].content,color:s.barrageData[a].fc,type:0,size:20,borderColor:-1,speedTime:Math.floor(4e3*Math.random()+s.barrageDur)})))}}}}},100);this.intervals.push(r)},ccSubmitBarrage:function(){var e=this.ccInpText.value;if(""!=e){var t;""==this.barrageColor&&(this.barrageColor="0xffffff"),t=this.ish5?parseInt(1e3*this.playerApi.getCurrentTime()):parseInt(1e3*this.fPlayer.getPosition()),this.ccSendBarrageTxt();var i={vid:this.params.vid,content:e,pt:t,fc:this.barrageColor};"function"==typeof c.on_CCH5player_barrage_send?R.invokeWindow("on_CCH5player_barrage_send",i):this.ccSubmitBarrageDefaultApi(i)}},ccSubmitBarrageDefaultApi:function(e){R.ccJsonp({url:"https://barrage.bokecc.com/receive.bo",data:e,success:function(e){},error:function(){}})},ccSendBarrageTxt:function(){var e=this,t=this.ccInpText.value;this.ish5?this.sendBarrage(t,20,parseInt(this.barrageColor),Math.floor(4e3*Math.random()+this.barrageDur)):this.fPlayer.addBullet({text:t,color:this.barrageColor,type:0,size:20,borderColor:-1,speedTime:Math.floor(4e3*Math.random()+this.barrageDur)}),this.ccInpText.value="",this.ccBtnSubmit.classList.add("cc_disabled"),this.ccBtnSubmit.innerHTML="发表(5)";var i=5,a=setInterval(function(){i--,e.ccBtnSubmit.innerHTML="发表("+i+")",0==i&&(clearInterval(a),e.ccBtnSubmit.classList.remove("cc_disabled"),e.ccBtnSubmit.innerHTML="发表")},1e3);this.intervals.push(a)},ccObtainBarrage:function(e){var t=this;if(this.switchOn){this.barrageLoading=!0,this.barragePreloadSec=e,this.lastLoadingTime=(new Date).getTime();var i=this;"function"==typeof c.on_CCH5Player_barrage_query?R.invokeWindow("on_CCH5Player_barrage_query",this.params.vid,e,function(e){i.handleGetBarrageDataSucc(e)}):this.ccObtainBarrageDefaultApi(this.params.vid,e,function(e){i.handleGetBarrageDataSucc(e)});setTimeout(function(){t.barrageLoading&&3e3<=(new Date).getTime()-t.lastLoadingTime&&(t.barrageLoading=!1)},3e3)}},ccObtainBarrageDefaultApi:function(e,t,i){R.ccJsonp({url:"https://barrage.bokecc.com/query.bo",data:{vid:e,sec:t},success:function(e){e.success&&i(e.data)},error:function(){}})},handleGetBarrageDataSucc:function(e){this.barragePreloadData=e,this.barrageLoading=!1},h5SwitchBarrage:function(){this.ccBarrageSwitch.classList.contains("cc_open")?(this.hideBarrage(),this.ccBarrageSwitch.classList.remove("cc_open"),this.switchOn=!1):(this.showBarrage(),this.ccBarrageSwitch.classList.add("cc_open"),this.switchOn=!0)},flashSwitchBarrage:function(){this.ccBarrageSwitch.classList.contains("cc_open")?(this.fPlayer.setBulletCurtainVisible(0),this.ccBarrageSwitch.classList.remove("cc_open"),this.switchOn=!1):(this.fPlayer.setBulletCurtainVisible(1),this.ccBarrageSwitch.classList.add("cc_open"),this.switchOn=!0)},dragAlpha:function(e){var t=this;e.ontouchstart=e.onmousedown=function(e){e.preventDefault(),n.ontouchmove=n.onmousemove=function(e){e.preventDefault(),t.posAlpha(e)},n.ontouchend=n.onmouseup=function(){n.ontouchend=n.onmouseup=n.ontouchmove=n.onmousemove=null}}},posAlpha:function(e){var t=R.queryEle("#ccBarrage",this.parentEle),i=R.getMousePos(e).x-c.pageXOffset-R.getPos(this.ccAlphaProgress).left;i<0?(i=0,this.ccAlphaPointer.style.left="0%",this.ccAlphaProgress.style.width="0%",this.ccAlphaShow.innerHTML="20%"):180<i?(i=180,this.ccAlphaPointer.style.left="100%",this.ccAlphaProgress.style.width="100%",this.ccAlphaShow.innerHTML="100%"):(this.ccAlphaPointer.style.left=(i/180*100).toFixed(0)+"%",this.ccAlphaProgress.style.width=(i/180*100).toFixed(0)+"%",this.ccAlphaShow.innerHTML=(i/180*80+20).toFixed(0)+"%",this.ish5?t.style.opacity=(i/180*80+20).toFixed(0)/100:this.fPlayer.setBulletCurtainAlpha((i/180*80+20).toFixed(0)/100))},dragSpeed:function(e){var t=this;e.ontouchstart=e.onmousedown=function(e){e.preventDefault(),n.ontouchmove=n.onmousemove=function(e){e.preventDefault(),t.posSpeed(e)},n.ontouchend=n.onmouseup=function(){n.ontouchend=n.onmouseup=n.ontouchmove=n.onmousemove=null}}},posSpeed:function(e){var t=R.getMousePos(e).x-c.pageXOffset-R.getPos(this.ccSpeedProgress).left;t<0?(t=0,this.ccSpeedPointer.style.left="0%",this.ccSpeedProgress.style.width="0%",this.ccSpeedShow.innerHTML="50%"):180<t?(t=180,this.ccSpeedPointer.style.left="100%",this.ccSpeedProgress.style.width="100%",this.ccSpeedShow.innerHTML="150%"):(this.ccSpeedPointer.style.left=(t/180*100).toFixed(0)+"%",this.ccSpeedProgress.style.width=(t/180*100).toFixed(0)+"%",this.ccSpeedShow.innerHTML=(t/180*100+50).toFixed(0)+"%",this.barrageDur=(200-(t/180*100+50)).toFixed(0)/100*4e3)},ccPopupBarrageTypeEnter:function(){clearTimeout(c.timerBarrageType)},ccPopupBarrageTypeShowTimer:function(){var e=this;c.timerBarrageType=setTimeout(function(){e.ccPopupBarrageType.style.display="none"},1e3)},ccPopupBarrageTypeShow:function(){clearTimeout(c.timerBarrageType),"block"==this.ccPopupBarrageType.style.display?this.ccPopupBarrageType.style.display="none":(this.ccPopupBarrageType.style.display="block",this.ccPopupBarrage.classList.add("cc_none"))},ccInpTextFocus:function(){this.ccPopupBarrage.classList.remove("cc_none"),this.ccPopupBarrageType.style.display="none",this.ccBarrageTips.classList.add("cc_none")},ccInpTextBlur:function(){this.showPopupBarrage||this.ccPopupBarrage.classList.add("cc_none"),""==this.ccInpText.value&&this.ccBarrageTips.classList.remove("cc_none")},ccPopupBarrageEnter:function(){clearTimeout(c.timerbarrage),this.showPopupBarrage=!0},ccPopupBarrageOut:function(){this.showPopupBarrage=!1;var e=this;c.timerbarrage=setTimeout(function(){e.ccPopupBarrage.classList.add("cc_none")},1e3)},classListIE:function(){"classList"in n.documentElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var s=this;function e(a){return function(e){var t=s.className.split(/\s+/g),i=t.indexOf(e);a(t,i,e),s.className=t.join(" ")}}return{add:e(function(e,t,i){~t||e.push(i)}),remove:e(function(e,t){~t&&e.splice(t,1)}),toggle:e(function(e,t,i){~t?e.splice(t,1):e.push(i)}),contains:function(e){return!!~s.className.split(/\s+/g).indexOf(e)},item:function(e){return s.className.split(/\s+/g)[e]||null}}}})},getSWF:function(e){return c.document[e]?c.document[e]:-1!=navigator.appName.indexOf("Microsoft")?R.queryEle("#"+e,this.playerContainer):n.embeds&&n.embeds[e]?n.embeds[e]:void 0},createBarrageHTML:function(){var e=n.createElement("div");e.className="cc_barrage_container",e.style.width="100%",e.innerHTML=this.barrageHTML(),this.playerContainer.appendChild(e),this.params.disable_barrage_input&&"true"==String(this.params.disable_barrage_input)&&(R.queryEle(".cc_barrage_form",this.playerContainer).style.display="none"),R.queryEle(".cc_barrage_container",this.playerContainer).style.zIndex=this.settingIndex},barrageHTML:function(){return"<div class='cc_mod_barrage'>\t\t<div class='cc_barrage_switch cc_open'>\t\t\t<div class='cc_btn_toggle'>\t\t\t\t<i class='cc_btn_inner'></i>\t\t\t</div>\t\t\t<div class='cc_btn_text'>弹</div>\t\t</div>\t\t<div class='cc_barrage_form cc_barrage_form_nohotbtn'>\t\t\t<div class='cc_barrage_inp cc_barrage_inp_whole'>\t\t\t\t<input type='text' class='cc_inp_text' data-role='input' maxlength='30'>\t\t\t\t<div class='cc_barrage_tips' data-role='input-tips'>一起吐槽吧！</div>\t\t\t</div>\t\t\t<a class='cc_btn_type'>\t\t\t\t<i class='cc_icon cc_icon_type'>\t\t\t\t\t<svg class='cc_svg_icon cc_svg_icon_type' viewBox='0 0 20 20' style='width:20px;height:20px;'>\t\t\t\t\t\t<use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#cc_svg_icon_type'>\t\t\t\t\t\t\t<svg id='cc_svg_icon_type' viewBox='0 0 20 20' width='100%' height='100%'>\t\t\t\t\t\t\t\t<path d='M19.9 13.9c-0.1 0.4-0.3 0.7-0.6 0.7 0 0 0 0 0 0h-0.1c-1 0-1.7 0.8-1.7 1.8 0 0.3 0.2 0.7 0.2 0.7 0.1 0.4 0 0.8-0.3 1l0 0 -1.7 1 0 0c-0.1 0-0.2 0.1-0.3 0.1 -0.2 0-0.5-0.1-0.6-0.3 -0.2-0.2-0.9-0.9-1.4-0.9 -0.5 0-1.2 0.6-1.4 0.9 -0.2 0.2-0.4 0.3-0.6 0.3 -0.1 0-0.2 0-0.3-0.1l0 0 -1.6-1 0 0c-0.3-0.2-0.4-0.7-0.3-1 0 0 0.2-0.4 0.2-0.7 0-1-0.8-1.8-1.7-1.8H7.4c0 0 0 0 0 0 -0.3 0-0.5-0.3-0.6-0.7 0 0-0.1-0.8-0.1-1.4 0-0.6 0.1-1.4 0.1-1.4 0.1-0.4 0.3-0.7 0.6-0.7 0 0 0 0 0 0h0.1c1 0 1.7-0.8 1.7-1.8C9.2 8.3 9 7.9 9 7.9c-0.1-0.4 0-0.8 0.3-1l0 0 1.7-1 0 0c0.1 0 0.2-0.1 0.3-0.1 0.2 0 0.5 0.1 0.6 0.3 0.2 0.2 0.9 0.8 1.4 0.8 0.5 0 1.2-0.6 1.4-0.8 0.2-0.2 0.4-0.3 0.6-0.3 0.1 0 0.2 0 0.3 0.1l0 0 1.7 1 0 0c0.3 0.2 0.4 0.7 0.3 1 0 0-0.2 0.4-0.2 0.7 0 1 0.8 1.8 1.7 1.8h0.1c0 0 0 0 0 0 0.3 0 0.5 0.3 0.6 0.7 0 0 0.1 0.8 0.1 1.4C20 13.1 19.9 13.8 19.9 13.9zM18.1 12.1c-1.4-0.5-2.5-1.9-2.5-3.5 0-0.2 0-0.4 0-0.5l-0.2-0.1c-0.5 0.4-1.3 0.8-2.1 0.8 -0.9 0-1.6-0.4-2.1-0.8L11 8.1c0 0.2 0 0.4 0 0.5 0 1.6-1 3-2.5 3.5 0 0.1 0 0.2 0 0.4 0 0.1 0 0.2 0 0.4 1.4 0.5 2.5 1.9 2.5 3.5 0 0.2 0 0.4 0 0.6l0.2 0.1c0.5-0.4 1.3-0.9 2.2-0.9 0.9 0 1.7 0.5 2.2 0.9l0.2-0.1c0-0.2 0-0.4 0-0.5 0-1.6 1-3 2.5-3.5 0-0.1 0-0.2 0-0.4C18.1 12.4 18.1 12.2 18.1 12.1zM13.3 14.4c-1 0-1.9-0.9-1.9-1.9s0.9-1.9 1.9-1.9 1.9 0.9 1.9 1.9C15.2 13.5 14.4 14.4 13.3 14.4zM13.4 11.8L13.4 11.8c-0.4 0-0.7 0.3-0.7 0.6 0 0.4 0.3 0.6 0.7 0.6s0.7-0.3 0.7-0.6C14 12.1 14 11.8 13.4 11.8zM5.7 12.5C5.7 12.5 5.7 12.5 5.7 12.5l-1.9 0c-0.5 0-1-0.4-1-1 0-0.5 0.4-1 1-1H6c0 0.1-0.1 0.2-0.1 0.3C5.9 10.9 5.7 11.8 5.7 12.5zM8.6 8c0 0.2 0 0.4-0.1 0.6H5.7c-0.5 0-1-0.4-1-1 0-0.5 0.4-1 1-1h2.6c0 0.2 0 0.3 0.1 0.5C8.4 7.2 8.6 7.6 8.6 8zM16 4.9c-0.1-0.1-0.2-0.1-0.4-0.1 -0.3 0-0.5 0.1-0.7 0.3 -0.1 0.1-0.4 0.4-0.6 0.5V3.9H1.9v11.4h6c0.4 0.4 0.7 0.9 0.7 1.6 0 0.1 0 0.2 0 0.3H1.9c-1.1 0-1.9-0.9-1.9-1.9V3.9C0 2.8 0.9 2 1.9 2h12.4c1.1 0 1.9 0.9 1.9 1.9V5L16 4.9 16 4.9z'></path>\t\t\t\t\t\t\t</svg>\t\t\t\t\t\t</use>\t\t\t\t\t</svg>\t\t\t\t</i>\t\t\t</a>\t\t\t<button type='submit' class='cc_btn_submit' data-role='submit'>发表</button>\t\t\t<div class='cc_popup_barrage cc_popup_barrage_type' style='display:none;'>\t\t\t\t<div class='cc_popup_barrage_inner'>\t\t\t\t\t<div class='cc_barrage_settings'>\t\t\t\t\t\t<div class='cc_barrage_settings_title'>滚动速度</div>\t\t\t\t\t\t<div class='cc_barrage_progress'>\t\t\t\t\t\t\t<div class='cc_barrage_progress_bar' data-role='speed'>\t\t\t\t\t\t\t\t<div class='cc_barrage_progress_play cc_speed_progress' style='width: 50%;' data-role='speed-progress'></div>\t\t\t\t\t\t\t\t<div class='cc_barrage_progress_handler cc_speed_pointer' style='left: 50%;' data-role='speed-pointer'></div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class='cc_barrage_progress_value cc_speed_show' data-role='speed-show'>100%</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class='cc_barrage_settings'>\t\t\t\t\t\t<div class='cc_barrage_settings_title'>不透明度</div>\t\t\t\t\t\t<div class='cc_barrage_progress'>\t\t\t\t\t\t\t<div class='cc_barrage_progress_bar' data-role='alpha'>\t\t\t\t\t\t\t\t<div class='cc_barrage_progress_play cc_alpha_progress' style='width: 100%;' data-role='alpha-progress'></div>\t\t\t\t\t\t\t\t<div class='cc_barrage_progress_handler cc_alpha_pointer' style='left: 100%;' data-role='alpha-pointer'></div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class='cc_barrage_progress_value cc_alpha_show' data-role='alpha-show'>100%</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class='cc_popup_barrage cc_none' data-status='0' id='cc_popup_barrage'>\t\t\t\t<div class='cc_popup_barrage_inner' style='height: 100px;'>\t\t\t\t\t<div class='cc_popup_barrage_text'>\t\t\t\t\t\t<div class='cc_barrage_settings' style='width:168px;'>\t\t\t\t\t\t\t<div class='cc_barrage_settings_title'>颜色</div>\t\t\t\t\t\t\t<ul class='cc_barrage_settings_color' data-role='color-list'>\t\t\t\t\t\t\t\t<li class='cc_list_item cc_current'><span style='background-color:#ffffff'></span></li>\t\t\t\t\t\t\t\t<li class='cc_list_item'><span style='background-color:#999999'></span></li>\t\t\t\t\t\t\t\t<li class='cc_list_item'><span style='background-color:#e6151e'></span></li>\t\t\t\t\t\t\t\t<li class='cc_list_item'><span style='background-color:#9d22b1'></span></li>\t\t\t\t\t\t\t\t<li class='cc_list_item'><span style='background-color:#6738b8'></span></li>\t\t\t\t\t\t\t\t<li class='cc_list_item'><span style='background-color:#3d50b6'></span></li>\t\t\t\t\t\t\t\t<li class='cc_list_item'><span style='background-color:#03a9f4'></span></li>\t\t\t\t\t\t\t\t<li class='cc_list_item'><span style='background-color:#009688'></span></li>\t\t\t\t\t\t\t\t<li class='cc_list_item'><span style='background-color:#259b24'></span></li>\t\t\t\t\t\t\t\t<li class='cc_list_item'><span style='background-color:#8bc34a'></span></li>\t\t\t\t\t\t\t</ul>\t\t\t\t\t\t</div>\t\t\t\t\t</div> \t\t\t\t</div>\t\t\t</div>\t\t</div>\t</div>"}},c.CCPlayerBarrage=function(e,t,i,a,s,r,n,o){var l=new d(e,t,i,a,s,r,n,o);return{init:function(){l.init()},startShowBarrage:function(){l.startShowBarrage()},openBarrage:function(e,t,i){l.openBarrage(e,t,i)},sendBarrage:function(e,t,i,a){l.sendBarrage(e,t,i,a)},destroy:function(){for(var e in l.intervals)c.clearInterval(e)}}}}}(window),function(i){if("function"!=typeof CCH5PlayerTrack){var t;(t=document.createElement("script")).type="text/javascript",t.src="//class.csslcloud.net/cctrack/ccTrack.js",document.getElementsByTagName("head")[0].appendChild(t);var r=function r(e,t,i,a){this.playerApi=e,this.params=t,this.parentEle=i,this.version=a,this.videoData={loadStartCount:0,isWaiting:!1,isChangeURL:!1},this.ccTrack=null,this.heartTimer=null,this.blockData={},this.blockTimes=0,this.timerCount=0,this.isReportedPlaySucc=!1};r.prototype={constructor:r,initEvent:function(){this.registerVideoListener()},initTrack:function(){if(!this.ccTrack)try{if(i.ccTrack){var t={appver:this.version,business:"1001",userid:this.params.clientUserId,appid:this.params.siteid};this.ccTrack=i.ccTrack,this.ccTrack.init(t)}}catch(e){}},registerVideoListener:function(){var n=this;this.playerApi.registerVideoEvent("progress",function(){var e=n.playerApi.getVideoBuffered();if(e&&!(e&&e.length<1)&&!(e.end(0)<1||(n.heartBeat(),n.isReportedPlaySucc))){n.isReportedPlaySucc=!0;var t=n.playerApi.getCurrentCopy().playurl;n.sendStartPlayState({code:200,cdn:R.getUrlDomain(t)})}}),this.playerApi.registerVideoEvent("error",function(e){if(n.stopHeartBeat(),!(!n.videoData.loadStartCount<=1)){var t="未知错误";if(e.target.error){if(e.target.error&&e.target.error.code)switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:t="客户端主动终止视频加载";break;case e.target.error.MEDIA_ERR_NETWORK:t="播放过程中视频加载失败";break;case e.target.error.MEDIA_ERR_DECODE:t="解码错误";break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:t="服务器端视频资源不存在";break;default:t="未知错误"}if(!n.isReportedPlaySucc){var i=n.playerApi.getCurrentCopy().playurl;n.sendStartPlayState({code:401,cdn:R.getUrlDomain(i),data:{msg:t,responseData:n.playerApi.getApiResponseData()}})}}}}),this.playerApi.registerVideoEvent("waiting",function(e){if(n.isReportedPlaySucc&&!n.videoData.isChangeURL){var t=n.playerApi.getLastVideoTime(),i=n.playerApi.getCurrentTime(),a=n.playerApi.getTotalTime(),s=i-t;if(!(i<=0&&a<=t||1<s||s<-1)){n.videoData.isWaiting=!0,n.blockData[++n.blockTimes]={start:(new Date).getTime()};for(var r=1;r<n.blockTimes;r++)n.blockData[r].start&&!n.blockData[r].end&&(n.blockData[r].end=(new Date).getTime())}}}),this.playerApi.registerVideoEvent("playing",function(e){n.isReportedPlaySucc&&n.setBlockEndTime(),n.videoData.isWaiting=!1,n.videoData.isChangeURL=!1}),this.playerApi.registerVideoEvent("pause",function(e){n.setBlockEndTime(),n.videoData.isWaiting=!1}),this.playerApi.registerVideoEvent("loadstart",function(e){n.videoData.loadStartCount++,n.isReportedPlaySucc&&(n.videoData.isChangeURL=!0)});var e=this.playerApi.getCurrentCopy().playurl;(-1<e.indexOf(".mp4")||-1<e.indexOf(".mp3"))&&this.handleCanplay()},handleCanplay:function(){var i=this;this.playerApi.registerVideoEvent("canplay",function(e){if(!i.isReportedPlaySucc){var t=i.playerApi.getCurrentCopy().playurl;i.isReportedPlaySucc=!0,i.sendStartPlayState({code:200,cdn:R.getUrlDomain(t)})}})},setBlockEndTime:function(){this.videoData.isWaiting&&this.blockData[this.blockTimes]&&this.blockData[this.blockTimes].start&&(this.blockData[this.blockTimes].end=(new Date).getTime())},sendStartPlayState:function(t){this.initTrack();var i=this.playerApi.getPlayStartTime(),a={event:"play",vid:this.params.vid,nodeip:"",retry:0,et:(new Date).getTime()-i};a=(0,n["default"])({},a,t);try{this.ccTrack.tragger(a)}catch(e){}},stopHeartBeat:function(){this.heartTimer&&clearInterval(this.heartTimer),this.heartTimer=null},heartBeat:function(){if(!this.heartTimer){var c=this;this.heartTimer=setInterval(function(){c.timerCount++;for(var t=c.playerApi.getCurrentCopy().playurl,i=c.playerApi.getVideostate(),a=c.blockData,s=0,r=c.blockTimes,n=1;n<=r;n++){s+=a[n].end?a[n].end-a[n].start:(new Date).getTime()-a[n].start}1e4<s?s=1e4:s<0&&(s=0);var o={event:"heartbeat",vid:c.params.vid,retry:0,code:200,cdn:R.getUrlDomain(t),heartinter:10,num:c.timerCount,playerstatus:i?0:1,blocktimes:c.blockTimes,blockduration:s};try{this.ccTrack.tragger(o)}catch(e){}c.blockTimes=0,c.blockData={};var l=c.playerApi.getVideostate();c.videoData.isWaiting&&!l&&(c.blockTimes=1,c.blockData[c.blockTimes]={start:(new Date).getTime()})},1e4)}},getIsReportedPlaySucc:function(){return this.isReportedPlaySucc},setReportedPlaySucc:function(){this.isReportedPlaySucc=!0}},i.CCH5PlayerTrack=function(e,t,i,a){var s=new r(e,t,i,a);return{initEvent:function(){s.initEvent()},sendStartPlayState:function(e){s.sendStartPlayState(e)},destroy:function(){s.heartTimer&&(clearInterval(s.heartTimer),s.heartTimer=null,this.blockData={},this.blockTimes=0)},getIsReportedPlaySucc:function(){return s.getIsReportedPlaySucc()},setReportedPlaySucc:function(){s.setReportedPlaySucc()}}}}}(window);var o,l,c,v,d,u,f,p,y,m,R={isPlayerDomin:function(e){return-1!==e.indexOf("http://union.bokecc.com/player")||-1!==e.indexOf("http://p.bokecc.com/player")||-1!==e.indexOf("https://union.bokecc.com/player")||-1!==e.indexOf("https://p.bokecc.com/player")},addBrowseStyle:function(){if(!document.querySelector(".ccH5videoStyleTag"))try{var t=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("style");i.classList.add("ccH5videoStyleTag"),i.innerHTML="body .uc-video-toolbar{display:none !important;}",t.appendChild(i)}catch(e){}},isCustomFunction:function(e){return-1<["479645DF56640DE7","8AFF601CCB8448F7"].indexOf(e)},isSougou:function(){return-1<navigator.userAgent.indexOf("MetaSr")},isLieBao:function(){return-1<navigator.userAgent.indexOf("LBBROWSER")},isTV08:function(){return-1<navigator.userAgent.indexOf("YC-3N")},isTV04:function(){return/(iPad; CPU OS 5_0_1 like Mac OS X)/i.test(navigator.userAgent)||/Chrome\/30\.0\.0\.0 Safari\/537\.36/i.test(navigator.userAgent)},isXiaoMi:function(){return-1<navigator.userAgent.indexOf("MiuiBrowser")},isHuaWei:function(){return-1<navigator.userAgent.toLowerCase().indexOf("huawei")},isUC:function(){return-1<navigator.userAgent.indexOf("UCBrowser")},isDingTalk:function(){return-1<navigator.userAgent.indexOf("DingTalk")},isQQ:function(){return-1<navigator.userAgent.indexOf("MQQBrowser")},isWeixin:function(){return-1<navigator.userAgent.indexOf("MicroMessenger")},isIE:function(){return!!window.ActiveXObject||"ActiveXObject"in window},isIPad:function(){return null!=navigator.userAgent.match(/iPad/i)},isIPhone:function(e){return!!(e&&e.isCustomedUA+""=="true"&&-1<navigator.userAgent.indexOf("iOS"))||null!=navigator.userAgent.match(/iPhone/i)},isAndroid:function(){return null!=navigator.userAgent.match(/Android/i)},isAndroid2:function(){return null!=navigator.userAgent.match(/Android 2/i)},isSymbianOS:function(){return null!=navigator.userAgent.match(/SymbianOS/i)},isWindowsPhoneOS:function(){return null!=navigator.userAgent.match(/Windows Phone/i)},isMoble:function(){return/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i.test(navigator.userAgent)},isSafari:function(){return navigator.userAgent.toLowerCase().match(/version\/([\d.]+).*safari/)},isWin:function(){return-1!=navigator.platform.indexOf("Win")},is360:function(){var e=navigator.userAgent;return-1<e.indexOf("QihooBrowser")||-1<e.indexOf("QHBrowser")},get_android_version:function(){var e=navigator.userAgent.toLowerCase(),t=null;if(0<e.indexOf("android")){t=(e.match(/android [\d._]+/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),t=parseInt(t.split(".")[0])}return t},canFunScreen:function(){return!(this.isWeixin()&&this.isAndroid()&&(0<navigator.userAgent.indexOf("Redmi")||navigator.userAgent.match(/Linux; Android \d; MI \d Explorer /)))&&((!this.isXiaoMi()||!this.isAndroid())&&(this.isAndroid()||this.isIPhone()||this.isIPad()||this.isWindowsPhoneOS()))},getParam:function(e){for(var t=e.split("&"),i={mediatype:1},a=0;a<t.length;a+=1){var s=t[a].split("=");i[(s[0]+"").replace(/(^\s*)|(\s*$)/g,"")]=s[1]}return i},getUserAgent:function(){var e=navigator.userAgent.match(/MSIE|Firefox|iPad|iPhone|Android|SymbianOS/),t=navigator.userAgent.match(/Windows Phone/);return"Windows Phone"==t&&(e=t),e||"other"},isByReplaced:function(){return this.isMoble()&&this.isWeixin()&&/(v1[8|9]\d+|vivo)/i.test(navigator.userAgent)},isRealtimePlay:function(e){return 1==e.originalplay&&2==e.status},isAudioPlay:function(e,t){if(2==e.mediatype)return!0;for(var i=0;i<t.copies.length;i++)if(2!=t.copies[i].mediatype)return!1;return!0},getAudioSrc:function(e){var t=[];return e.copies.forEach(function(e){2===e.mediatype&&t.push(e)}),0===t.length?"":t[0].playurl.replace(/http:/i,"https:")},getImgSrc:function(e,t){return e.img_path?e.img_path:(this.isRealtimePlay(t),t.img.replace(/http:/i,"https:"))},getCross:function(e,t){return this.isRealtimePlay(t)?"":"anonymous"},checkFlash:function(){var t=!0;if(this.isIE())try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){t=!1}else navigator.plugins["Shockwave Flash"]||(t=!1);return t},isCanPlayDomain:function(e){if("undefined"==typeof e.H5domain)return!0;var t=window.location.host,i=e.H5domain.blacklist,a=e.H5domain.whitelist;if(i&&0<i.length){var s=!0,r=!1,n=undefined;try{for(var o,l=(0,q["default"])(i);!(s=(o=l.next()).done);s=!0){var c=o.value;if(String(t).length>c.length){if(String(t).endsWith("."+c.toLowerCase()))return!1}else if(String(t).length==c.length&&String(t)==c.toLowerCase())return!1}}catch(m){r=!0,n=m}finally{try{!s&&l["return"]&&l["return"]()}finally{if(r)throw n}}return!0}if(a&&0<a.length){var d=!0,h=!1,u=undefined;try{for(var p,y=(0,q["default"])(a);!(d=(p=y.next()).done);d=!0){c=p.value;if(String(t).length>c.length){if(String(t).endsWith("."+c.toLowerCase()))return!0}else if(String(t).length==c.length&&String(t)==c.toLowerCase())return!0}}catch(m){h=!0,u=m}finally{try{!d&&y["return"]&&y["return"]()}finally{if(h)throw u}}return!1}return!0},createTips:function(e,t,i){var a=e.height;isNaN(e.height)||(a=e.height+"px");var s="";if(i&&i.text&&(s="<a class='ccH5TipBtn' href='javascript:;'>"+i.text+"</a>",i.url)){var r=R.isIPhone()&&R.is360()?"":"target='_blank'";s="<a class='ccH5TipBtn' href='"+i.url+"' "+r+">"+i.text+"</a>"}return"<div style='width: 100%; height:"+a+"; background: #000;color: #fff; text-align: center; font-size: 18px; display:table;'>   <div style='display:table-cell; vertical-align: middle;'>   <span id='pcmTips' class='ccH5TipText'>"+t+"</span>"+s+"   </div></div>"},imgLoad:function(e,t){var i=document.createElement("img");i.src=e;var a=setInterval(function(){i.complete&&(void 0!==t&&t(i),clearInterval(a))},50)},timeFormat:function(e){isNaN(e)&&(e=0);var t,i,a,s=parseInt(e);return(t=(t=Math.floor(s/3600))?t+":":"")+(i=9<(i=t?Math.floor(s%3600/60):Math.floor(s/60))?i:"0"+i)+":"+(a=9<(a=Math.floor(s%60))?a:"0"+a)},addCssByStyle:function(e,t){var i=document,a=i.createElement("style");a.setAttribute("type","text/css"),a.id=t||"ccVttStyle";var s=i.createTextNode(e);a.appendChild(s);var r=i.getElementsByTagName("head");r.length?r[0].appendChild(a):i.documentElement.appendChild(a)},getPos:function(t){if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return{left:i.left,top:i.top}}for(var a=e.offsetLeft,s=e.offsetTop;e=e.offsetParent;)a+=e.offsetLeft,s+=e.offsetTop;return{left:a,top:s}},getMousePos:function(e,t){var i="ontouchstart"in window,a=0,s=0,r=document.documentElement,n=document.body;if(e=e||window.event,s=window.pageYoffset?(a=window.pageXOffset,window.pageYOffset):(a=(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),i&&e.touches&&(this.isIPad()||this.isAndroid()||this.isIPhone(t))&&!this.isTV08()){var o=e.touches.item(0);a=o.pageX,s=o.pageY}else a+=e.clientX,s+=e.clientY;return{x:a,y:s}},ccJsonp:function(t){var r=t.url,i=t.data,a=t.success,n=t.error,o=t.timeOut;if("object"===(void 0===i?"undefined":(0,H["default"])(i))){var s=[];for(var l in i)s.push(l+"="+encodeURIComponent(i[l]));r=-1<r.indexOf("?")?r+"&"+s.join("&"):r+"?"+s.join("&")}var c=a;"function"==typeof a&&(c=this.getRandomWinFuncName("cc_jsonp_callback"),window[c]=function(e){a(e);try{delete window[c+""]}catch(t){console.log(t)}});var d=(new Date).getTime();setTimeout(function(){var i=document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script");a.src=r+"&callback="+c+"&r="+1e7*Math.random();var s=!1;a.onload=a.onreadystatechange=function(e){this.readyState&&!/loaded|complete/.test(a.readyState)||(s=!0,a.onload=a.onreadystatechange=null,i&&a.parentNode&&i.removeChild(a));var t=(new Date).getTime();window.playApiTime=Math.floor(t-d)},a.onerror=function(){s||(s=!0,n&&n())},o&&"number"==typeof o&&setTimeout(function(){try{delete window[c+""]}catch(e){console.log(e)}s||(s=!0,n&&n("timeOut")),i&&a.parentNode&&i.removeChild(a)},o);try{i.insertBefore(a,i.firstChild)}catch(e){console.error(e)}},0)},getRandomWinFuncName:function(e){for(var t=e+"_"+parseInt(1e6*Math.random());"undefined"!=typeof window[t];)t=e+"_"+parseInt(1e6*Math.random());return t},stringFormat:function(e){var t=[];2==arguments.length&&arguments[1]instanceof Array?t=arguments[1]:1<arguments.length&&(t=Array.prototype.slice.apply(arguments).slice(1));for(var i=0;i<t.length;i++)e=e.replace("{"+i+"}",t[i]);return e=e.replace(/\{\d+\}/g,"")},unifyApiMethods:function(){"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)})},invokeWindow:function(t){if("function"==typeof window[t])try{return window[t].apply(window,Array.prototype.slice.call(arguments,1))}catch(e){console.error(e)}return null},isFlashPlay:function(e){return!(!R.isWin()||!R.isSafari()||R.isIPhone()||this.isIPad())||(R.isIE()?!(9<=R.IEVersion()&&1==e):!(this.isAndroid()||1==e||this.isIPad()||R.isWindowsPhoneOS()||this.isIPhone()))},checkH5Play:function(e,a,r){if(0==a.status)return{error:"抱歉，视频服务出现异常，请联系网站管理员",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.VIDEO_ERROR};if(2==a.status&&!this.isRealtimePlay(a))return{error:"视频处理中……",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.VIDEO_DOING};if(4==a.status)return{error:"抱歉，网络连接失败，请刷新重试或联系网站管理员。",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.NET_ERROR};if(5==a.status)return{error:"抱歉，视频正在上传中，请耐心等待",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.VIDEO_DOING};if(6==a.status)return{error:a.opreason||"视频已删除",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.VIDEO_ERROR};if(7==a.status)return{error:"视频转码失败",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.VIDEO_ERROR};if(8==a.status||9==a.status||10==a.status)return{error:"参数错误，视频资源加载失败",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.VIDEO_ERROR};if(1!=a.status&&2!=a.status)return{error:"抱歉，暂不支持本设备，请选择其他设备观看",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.VIDEO_ERROR};var s=this;function n(e,t){var i=r,a=i.lastIndexOf("."),s=i.length;return i.substring(a,s).substring(e,t)}return this.isCanPlayDomain(a)?function t(){return 1==a.status&&".pcm"==n(0,4)}()?{error:"此视频已加密，请在其他设备上观看",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.AUTH_ERROR}:function o(){var e=0<=navigator.userAgent.indexOf("Firefox")&&".m3u8"==n(0,5)&&s.isAndroid();if(s.isDingTalk())return!1;var t=(s.isAndroid()||s.isIPad())&&s.isQQ()&&!s.isWeixin()&&1==a.disableQQ,i=(s.isAndroid()||s.isIPad())&&s.isUC()&&1==a.disableUC;return s.isXiaoMi()&&1==a.disableXiaoMi||i||t||e}()?{error:"请切换其他浏览器观看视频",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.VIDEO_DISABLE}:null:{error:"当前域名未获得播放授权",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.AUTH_ERROR}},loadScript:function(e,t){this.loadJsArr={},"string"==typeof e&&(e=[e]);for(var i=0;i<e.length;i++)this.loadJsArr[e[i]]=0;var a=this;!function s(){a.getScript(e.shift(),function(){e.length?s():t&&t()})}()},getScript:function(e,t){var i=document.createElement("script");i.src=e;var a=!1;i.onload=i.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,t&&t())},document.body.appendChild(i)},createFlashView:function(e){var t="",i="";e.img_path&&(t="<param name='flashvars' value='img_path="+e.img_path+"' />",i=" flashvars='img_path="+e.img_path+"'");var a="https://p.bokecc.com/flash";e.listid?a=a+("/list/"+e.siteid+"_"+e.listid+"_list_"+e.autoStart+"_"+e.playerid+"_"+e.playertype)+"/player.swf":a=a+"/player.swf"+("?vid="+e.vid+"&siteid="+e.siteid+"&playerid="+e.playerid+"&playertype="+e.playertype+"&autoStart="+e.autoStart+"&mediatype="+e.mediatype);return"<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000' codebase='http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,0,0' width='"+e.width+"' height='"+e.height+"' id='cc_"+e.vid+"'><param name='movie' value='"+a+"' /><param value='transparent' name='wmode' /><param name='allowFullScreen' value='true' /><param name='allowScriptAccess' value='always' />"+t+"<embed src='"+a+"' width='"+e.width+"' height='"+e.height+"' name='cc_"+e.vid+"' wmode='transparent' allowFullScreen='true' allowScriptAccess='always' pluginspage='http://www.macromedia.com/go/getflashplayer' "+i+"type='application/x-shockwave-flash'/></object>"},createFlashInstallTip:function(e){return"<div style='width: 100%; background: #000; color: #fff; text-align: center; font-size: 18px;'>   <div style='line-height:"+e.height+"px;'>   <span style='font-size:18px'>"+decodeURIComponent("%E6%82%A8%E8%BF%98%E6%B2%A1%E6%9C%89%E5%AE%89%E8%A3%85flash%E6%92%AD%E6%94%BE%E5%99%A8%EF%BC%8C%E8%AF%B7%E7%82%B9%E5%87%BB")+"<a style='color:#06a7e1' href='http://www.adobe.com/go/getflash' target='_blank'>"+decodeURIComponent("%E8%BF%99%E9%87%8C")+"</a>"+decodeURIComponent("%E5%AE%89%E8%A3%85")+"</span>   </div></div>"},addListener:function(e,t,i){e.addEventListener(t,i,!1)},queryEle:function(e,t){return t.querySelector(e)},queryEleAll:function(e,t){return t.querySelectorAll(e)},getPlayerScript:function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t+=1){var i=e[t];if(this.isPlayerDomin(i.src))return i}return null},preventEvent:function(e){try{e.preventDefault&&e.preventDefault()}catch(t){}try{e.stopPropagation&&e.stopPropagation()}catch(t){}},getAdSrc:function(e,t,i){return"https://imedia.bokecc.com/servlet/mobile/clickstats?adid="+e+"&clickurl="+encodeURIComponent(t)+"&materialid="+i},IEVersion:function(){var e=navigator.userAgent,t=-1<e.indexOf("compatible")&&-1<e.indexOf("MSIE"),i=(e.indexOf("Edge"),-1<e.indexOf("Trident")&&-1<e.indexOf("rv:11.0"));if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var a=parseFloat(RegExp.$1);return 7===a?7:8===a?8:9===a?9:10===a?10:6}return i?11:-1},getUrlDomain:function(e){if(e){var t=e.split("/");if(t[2])return t[2]}return""}};function g(e,t,i,a,s,r){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s,this.oVideo=r,this.lastCheckTime=0}!function(o){var l=o.document;R.unifyApiMethods();var c={},d="2.5.11",s=function s(){this.errorDict={netErr:"网络繁忙，请刷新页面重试。"},this.playerEvent={changeQuality:"changeQuality",changeSpeed:"changeSpeed",readyComplete:"readyComplete"},this.playerInnerApi=new CCH5PlayerInnerApi(this),this.init()},r=100,a=101,e=120,t=122,n=125,i=127,h=130,u=2001,p=10005,y=150,m=200,f=205,v=208,g=210,A=2050,P=1e3,E=1500,x=2e3,b=2010,T=2100,w=3e3,k=5e3,C=5001,S=5002,B=9e3,_=1e4,I=10001,D=10005,L={InvalidParameter:1e3,NotExistVidOrSiteId:1001,NoMatchVidAndSiteId:1002,InvalidVidOrSiteId:1003,BeforePlayError:2001,PlayingError:2002,NetworkUnavaiable:3e3,LoadingTimeout:3001,ServerAPIError:3002},V={InvalidParameter:"No video url, please check the parameters",NotExistVidOrSiteId:"The vid or siteId does not exist",NoMatchVidAndSiteId:"The vid does not match the siteId",InvalidVidOrSiteId:"The format of vid or siteId is incorrect ",BeforePlayError:"The video file loaded failed",PlayingError:"Error occured while playing",NetworkUnavaiable:"The network is unreachable, please click Refresh",LoadingTimeout:"A network request timed out",ServerAPIError:"Error occurred while requesting server"};function M(){var n=new s,e=function e(){this.exitFullScreen=function(){n.playerInnerApi.exitFullScreen()},this.play=function(){n.playerInnerApi.videoPlay()},this.sendBarrage=function(e,t,i,a){n&&n.ccPlayerBarrage&&n.ccPlayerBarrage.sendBarrage(e,t,i,a)},this.openBarrage=function(e,t,i){n&&n.ccPlayerBarrage&&n.ccPlayerBarrage.openBarrage(e,t,i)}};e.prototype=n.outerDom,o.oPlayer=new e;var t={showPlayer:function(){var e=new s;e.showPlayer(),e.params.vid&&""!=e.params.vid&&(n=e)},showPlayerDirect:function(e){n.showPlayerDirect(e)},play:function(){n.playerInnerApi.videoPlay()},pause:function(){n.playerInnerApi.videoPause()},jumpToTime:function(e){n.jumpToTime(e)},getPosition:function(){return n.playerInnerApi.getCurrentTime()},getDuration:function(){return n.playerInnerApi.getTotalTime()},getQualities:function(){return n.ccPlayerCtrol.getQualities()},setQuality:function(e){n.ccPlayerCtrol.setQuality(e)},setVolume:function(e){n.ccPlayerCtrol.setVolume(e)},normalScreen:function(){n.playerInnerApi.exitFullScreen()},fullScreen:function(){n.fullScreen("request")},fast_forward_time:function(e){n.setFastForwardTime(e)},isFullScreen:function(){return n.isFullScreen()},getCurrRate:function(){return n.playerInnerApi.getVideoRate()},getCurrDf:function(){var e=n.playerInnerApi.getCurrentCopy();return e?e.quality:null},getVideoState:function(){return n.playerInnerApi.getVideostate()?"pause":"play"},isIPhone:function(){return R.isIPhone()},isIPad:function(){return R.isIPad()},isAndroid:function(){return R.isAndroid()},isAudioPlay:function(e,t){return R.isAudioPlay(e,t)},isCustomFunction:function(e){return R.isCustomFunction(e)},showBarrageItem:function(e,t,i,a){n&&n.ccPlayerBarrage&&n.ccPlayerBarrage.sendBarrage(e,t,i,a)},jsonp:function(e,t,i){var a={url:e,data:{},success:t,error:i};R.ccJsonp(a)},getPlayedPausedTimes:function(){return{playedTimes:n.playedTimes,pausedTimes:n.pausedTimes}},destroy:function(){n.destroy()},setVideoMarks:function(e){n.ccPlayerCtrol.setVideoMarks(e)},showMarkDesc:function(e){n.ccPlayerCtrol.showMarkDesc(e)},setQA:function(e,t){if(e=e||[],delete n.videoPlayData.exercises,n.ccPlayerExercise&&n.ccPlayerExercise.resetDom(),n.videoPlayData.questions=e,!n.ccPlayerQA&&n.playerInnerApi.isVideoPlay()?(n.ccPlayerQA=new CCH5PlayerQA(n.playerInnerApi,n.params,n.videoPlayData,n.videoBox,A),n.ccPlayerQA.init()):n.ccPlayerQA.setQA(),e&&e[0]&&e[0].showTime&&t){var i=e&&e[0]&&e[0].showTime;n.jumpToTime(i)}},viewPointQA:function(e){n.ccPlayerQA.viewPointQA(e)},setQuestions:function(e){for(var t=0;t<e.length;t++)e[t].createTime=(new Date).getTime();this.setQA(e)},changeQuestionItem:function(e){e.createTime=(new Date).getTime(),n.videoPlayData.questions||(n.videoPlayData.questions=[]);var t=n.videoPlayData.questions;if(t.length<1)t[0]=e,!n.ccPlayerQA&&n.playerInnerApi.isVideoPlay()&&(n.ccPlayerQA=new CCH5PlayerQA(n.playerInnerApi,n.params,n.videoPlayData,n.videoBox,A),n.ccPlayerQA.init());else for(var i=0;i<t.length;i++)if(t[i].showTime==e.showTime){t[i]=e;break}},setExercise:function(e,t){if(e=e||[],delete n.videoPlayData.questions,n.ccPlayerQA&&n.ccPlayerQA.setQA(),n.ccPlayerCtrol.setVideoMarks(),n.videoPlayData.exercises=e,!n.ccPlayerExercise&&n.playerInnerApi.isVideoPlay()?n.ccPlayerExercise=new CCH5PlayerExercise(n.playerInnerApi,n.params,n.videoPlayData,n.videoBox,T):n.ccPlayerExercise.resetDom(),n.ccPlayerExercise.init(),e&&e[0]&&e[0].showTime&&t){var i=e&&e[0]&&e[0].showTime;n.jumpToTime(i)}},viewPointExercise:function(e){n.ccPlayerExercise.viewPointExercise(e)},setCutSection:function(e){n.ccPlayerCtrol.setCutSection(e)},setVtt:function(e){var t=l.getElementById("ccVttStyle");t&&t.parentNode.removeChild(t);for(var i=["vtt","vtt2","bilingual"],a=0;a<i.length;a++){var s=i[a];n.videoPlayData[s]&&delete n.videoPlayData[s]}for(var r in n.videoPlayData.defaultvtt=0,e)n.videoPlayData[r]=e[r],"vtt2"==r&&e[r]&&(n.videoPlayData.defaultvtt=2);n.ccPlayerMore?(n.ccPlayerMore.resetVttDom(),n.ccPlayerMore.initSwitchVtt()):(n.ccPlayerMore=new CCH5PlayerMore(n.playerInnerApi,n.params,n.videoPlayData,n.videoBox,_,n.oVideo),n.ccPlayerMore.init(),n.extralFuncs.push(n.ccPlayerMore))}},i=function i(){for(var e in t)this[e]=t[e]};i.prototype=n.outerApi;var a=new i;return n.playerApiObj=a}s.prototype={constructor:s,outerApi:{isAdTime:!1},outerDom:{playEnded:!1},resolveStateTime:0,init:function(){this.params={},this.playerContainer=null,this.videoPlayData={},this.apiResponseData={},this.intervals=[],this.currentCopy={},this.isUseBackupUrl=!1,this.extralFuncs=[],this.isEnterFullscreen=!1,this.wechatCount=0,this.lastVideoTime=0,this.isPlaying=!1,this.plyerEventListenners={},this.inited=!1,this.playEnded=!1,this.playedTimes=0,this.pausedTimes=0,this.currPlayedMaxTime=0,this.lastPlayTime=0,this.globalEvents=[],this.playLoopTimes=0},showPlayer:function(){var e=R.getPlayerScript();if(null!=e){var t=R.getParam(e.src.split("?")[1]);if(t.listid||t.vid&&""!=t.vid){this.params=t;var i=R.invokeWindow("cc_h5player_config",this.params.vid)||{};for(var a in i)this.params[a]=i[a]+"";this.preDoParams(),!this.params.listid||this.ccPlayList?(this.createPlayerContainer(),e.parentNode.replaceChild(this.playerContainer,e),this.playerContainer=l.getElementById(this.params.divid),this.outerDom.oDiv=this.playerContainer,this.loadVideoPlayData()):this.createPlayListWrapper(e,e.parentNode)}}else this.handleLog("not find player js script!")},showPlayerDirect:function(e){if(e)if(e.parentNode||(e.parentNode="body"),this.params=e,"string"==typeof this.params.parentNode&&(this.params.parentNode=l.querySelector(this.params.parentNode)),this.params.parentNode.tagName)if(this.preDoParams(),!this.params.listid||this.ccPlayList){if(this.createPlayerContainer(),this.params.listid){var t=this.params.parentNode.getElementsByClassName("CCH5playerContainer")[0];t?this.params.parentNode.replaceChild(this.playerContainer,t):this.params.parentNode.appendChild(this.playerContainer)}else this.params.parentNode.innerHTML="",this.params.parentNode.appendChild(this.playerContainer);this.playerContainer=l.getElementById(this.params.divid),this.outerDom.oDiv=this.playerContainer,this.loadVideoPlayData()}else this.createPlayListWrapper();else this.handleLog("params parentNode is not found!")},switchVideo:function(e,t){this.setStorageConfig(t);var i=this.params;i.vid=e,this.playLoopTimes=0,this.destroy(),this.showPlayerDirect(i)},loadVideoPlayData:function(){if(this.params.playtype+""!="0"){this.addIESupport(),this.outerApi.videoInfo=new Array(this.params),this.outerApi.params=this.params,this.outerApi.paramsObj=this.params;var e=this.params.vc,t={vid:this.params.vid,siteid:this.params.siteid,width:this.params.width,useragent:this.params.userAgent,version:20140214,hlssupport:1,vc:e,mediatype:this.params.mediatype,divid:this.params.divid},i=this.params.playtype+"";"0"!=i&&"1"!=i||(t.playtype=i),1*this.params.tpl&&(t.tpl=this.params.tpl),"1"===this.params.isSys&&(t.sys="1");var a=(new Date).getTime(),s=this;this.playerTrack=new CCH5PlayerTrack(s.playerInnerApi,s.params,s.playerContainer,d),R.ccJsonp({url:"https://p.bokecc.com/servlet/getvideofile",data:t,timeOut:15e3,success:function(e){s.loadDataTimes=(new Date).getTime()-a,s.apiResponseData=e,s.preDealServerData(e),s.gotoPlay()},error:function(e){s.loadDataTimes=(new Date).getTime()-a,new CCH5PlayerStatistic(s.playerInnerApi,s.params,{},s.playerContainer,d).sendReadyPlayState(!1,s.loadDataTimes,CCH5PlayerStatistic.PLAY_FAIL_REASONS.NET_ERROR),s.playerTrack.sendStartPlayState({code:400,data:{failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.NET_ERROR,requestParmas:t}}),s.loadCss(function(){s.playerInnerApi.showInfo(s.errorDict.netErr)}),"timeOut"===e?s.triggerPlayerError("LoadingTimeout"):s.triggerPlayerError("ServerAPIError")}})}else this.gotoFlashPlay()},gotoPlay:function(){null!==l.getElementById(this.videoPlayData.divid)&&(R.isFlashPlay(this.videoPlayData.playtype)?this.gotoFlashPlay():this.gotoH5Play())},gotoFlashPlay:function(){var e="";R.checkFlash()?(e=R.createFlashView(this.params),this.playerContainer.innerHTML=e,this.createBarrage()):(e=R.createFlashInstallTip(this.params),this.playerContainer.innerHTML=e)},gotoH5Play:function(){var n=this;for(this.playerId=this.params.vid+"_0";c[this.playerId];)this.playerId=this.params.vid+"_"+(parseInt(this.playerId.substring(this.params.vid.length+1))+1);c[this.playerId]=this.playerApiObj,R.addBrowseStyle(),this.loadCss(function(){if(n.params.skinColor&&"#ff920a"!==n.params.skinColor.toLowerCase())n.setCustomSkin();else{var e=l.getElementById("skinStyle");e&&e.parentNode.removeChild(e)}n.initCurrentCopy(),n.outerApi.currentCopiesIdx=n.currentCopy&&n.currentCopy.index;var t=n.currentCopy&&n.currentCopy.playurl,i=R.checkH5Play(n.params,n.videoPlayData,t);if(n.videoPlayData&&n.videoPlayData.status!=undefined){var a=n.videoPlayData.status;0==a?n.triggerPlayerError("InvalidParameter"):8==a?n.triggerPlayerError("NoMatchVidAndSiteId"):9==a?n.triggerPlayerError("InvalidVidOrSiteId"):10==a&&n.triggerPlayerError("NotExistVidOrSiteId")}if(i){var s=R.createTips(n.params,i.error);return n.playerContainer.innerHTML=s,n.playerTrack.sendStartPlayState({code:400,cdn:R.getUrlDomain(t),data:{msg:i.error,failReason:i.failReason,responseData:n.apiResponseData}}),void new CCH5PlayerStatistic(n.playerInnerApi,n.params,n.videoPlayData,n.playerContainer,d).sendReadyPlayState(!1,n.loadDataTimes,i.failReason)}if(0==n.videoPlayData.authenable&&0==n.videoPlayData.freetime){var r=n.videoPlayData.authmessage;return""==r&&(r=decodeURIComponent("%E4%B8%8D%E5%85%81%E8%AE%B8%E8%A7%82%E7%9C%8B%E6%88%96%E8%AF%95%E7%9C%8B%E6%97%B6%E9%97%B4%E7%94%A8%E5%B0%BD")),n.playerContainer.innerHTML=R.createTips(n.params,r),""!=n.videoPlayData.callback&&R.invokeWindow(n.videoPlayData.callback,n.params.vid),n.playerTrack.sendStartPlayState({code:400,cdn:R.getUrlDomain(t),data:{msg:"授权验证没通过",failReason:CCH5PlayerStatistic.PLAY_FAIL_REASONS.AUTH_ERROR,responseData:n.apiResponseData}}),void new CCH5PlayerStatistic(n.playerInnerApi,n.params,n.videoPlayData,n.playerContainer,d).sendReadyPlayState(!1,n.loadDataTimes,CCH5PlayerStatistic.PLAY_FAIL_REASONS.AUTH_ERROR)}new CCH5PlayerStatistic(n.playerInnerApi,n.params,n.videoPlayData,n.playerContainer,d).sendReadyPlayState(!0,n.loadDataTimes,null),n.ccPlayerAdHeader=new CCH5PlayerAdHeader(n.playerInnerApi,n.params,n.videoPlayData,n.playerContainer,h,n.playerTrack),n.ccPlayerAdHeader.init()})},readyH5Play:function(e){if(!this.videoPlayData.passwd||this.videoPlayData.passwdValid)this.outerApi.isAdTime=!1,this.startH5Play(e);else if(new CCH5PlayerPwd(this.playerInnerApi,this.params,this.videoPlayData,this.playerContainer,P).init(),!this.playerTrack.getIsReportedPlaySucc()){var t=this.currentCopy.playurl;this.playerTrack.sendStartPlayState({code:200,cdn:R.getUrlDomain(t),data:{msg:"密码播放"}}),this.playerTrack.setReportedPlaySucc()}},startH5Play:function(e){var t=this.getH5PlayerHtml();this.playerContainer.innerHTML=t,this.initPlayerBase(),R.isAudioPlay(this.params,this.videoPlayData)?this.createAudioView(e):this.createVideoView(!1,e),this.initBasePlayEvents(),this.initVideoPlayEvents(),this.initWindowEvents(),this.initExtral(),this.initHistoryTimeShow(),"true"===this.params.realAutoPlay?this.realAutoPlay():this.tryAutoPlay(),0<this.params.watchStartTime&&this.initWatchStartTime(),this.params.loadingPic&&!this.ccPlayerLoadingPic&&(this.ccPlayerLoadingPic=new CCH5PlayerLoadingPic(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,i),this.ccPlayerLoadingPic.init()),this.authFreeTimePlay(),R.invokeWindow("on_cc_h5player_init",this.videoPlayData.vid),this.inited=!0,R.invokeWindow("on_CCH5player_ready",{videoElement:this.oVideo,container:this.playerContainer,vid:this.params.vid}),this.startPlayAndPauseStatis()},initExtral:function(){var e=this.videoPlayData.config;if(!(e&&e.rightmenu&&e.rightmenu.rightmenu&&e.rightmenu.rightmenu.length)||"false"===this.params.isShowRightMenu||R.isMoble()||R.isIPad()||(this.ccPlayerRightMenu=new CCH5PlayerRightMenu(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,w),this.ccPlayerRightMenu.init()),R.isMoble()||R.isIPad()||(this.ccPlayerMouseMenu=new CCH5PlayerMouseMenu(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,D),this.ccPlayerMouseMenu.init()),"true"!=String(this.params.isShare)||R.isMoble()||R.isIPad()||(this.ccPlayerShare=new CCH5PlayerShare(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,w),this.ccPlayerShare.init(),this.extralFuncs.push(this.ccPlayerShare)),this.ccPlayerMore=new CCH5PlayerMore(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,_,this.oVideo),this.ccPlayerMore.init(),this.extralFuncs.push(this.ccPlayerMore),this.videoPlayData.exercises!==undefined&&this.playerInnerApi.isVideoPlay()&&(this.ccPlayerExercise=new CCH5PlayerExercise(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,T),this.ccPlayerExercise.init()),this.videoPlayData.questions&&this.playerInnerApi.isVideoPlay()&&(this.ccPlayerQA=new CCH5PlayerQA(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,A),this.ccPlayerQA.init()),this.ccPlayerCtrol=new CCH5PlayerCtrol(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,m,this.ccPlayerShare,this.ccPlayerMore,this.ccPlayerExercise,this.ccPlayerQA,this.ccPlayList,this.ccPlayerRightMenu),this.ccPlayerCtrol.init(),this.extralFuncs.push(this.ccPlayerCtrol),this.outerDom.fullsBtn=this.ccPlayerCtrol.getCtrolDom().fullsBtn,this.outerDom.progressBar=this.ccPlayerCtrol.getCtrolDom().progressBar,this.videoPlayData.marquee&&(this.ccPlayerMarquee=new CCH5PlayerMarquee(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,y,this.oVideo),this.ccPlayerMarquee.init(),this.extralFuncs.push(this.ccPlayerMarquee)),this.videoPlayData.vrmode&&this.playerInnerApi.isVideoPlay()){var t=new CCH5PlayerVr(this.playerInnerApi,this.params,this.videoPlayData,this.playerContainer,a,this.oVideo);t.init(),this.oVideo.style.position="absolute",this.extralFuncs.push(t)}this.videoPlayData.visitor&&this.playerInnerApi.isVideoPlay()&&(this.ccPlayerVistor=new CCH5PlayerVistor(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,b),this.ccPlayerVistor.init()),this.ccPlayerAdPaused=new CCH5PlayerAdPaused(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,u,this.ccPlayerQA,this.ccPlayerExercise,this.ccPlayerVistor),this.ccPlayerAdPaused.init(),this.initStatistic(),this.createBarrage();var i=this.videoPlayData.config&&this.videoPlayData.config.logo;i&&i.url&&(this.ccPlayerLogo=new CCH5PlayerLogo(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,n),this.ccPlayerLogo.init()),this.playerTrack.initEvent(),this.extralFuncs.push(this.playerTrack),this.ccPlayerAdEnd=new CCH5PlayerAdEnd(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,p),this.ccPlayerAdEnd.init()},initStatistic:function(){this.ccH5PlayerStatistic=new CCH5PlayerStatistic(this.playerInnerApi,this.params,this.videoPlayData,this.playerContainer,d),this.ccH5PlayerStatistic.init(),this.extralFuncs.push(this.ccH5PlayerStatistic)},createBarrage:function(){"true"==this.params.open_barrage&&(this.ccPlayerBarrage=new CCPlayerBarrage(this.playerInnerApi,this.params,this.videoPlayData,this.videoBox,e,f,this.playerContainer,this.ccPlayList),this.ccPlayerBarrage.init(),this.extralFuncs.push(this.ccPlayerBarrage))},initPlayerBase:function(){this.oLoading=R.queryEle(".ccH5Loading",this.playerContainer),this.cch5SpeedTips=R.queryEle(".cch5SpeedTips",this.playerContainer),this.oInfo=R.queryEle(".ccH5Info",this.playerContainer),this.videoBox=R.queryEle(".ccH5playerBox",this.playerContainer),this.audioBg=R.queryEle(".ccH5AudioBg",this.playerContainer),this.switchVideoBtn=R.queryEle(".ccbgButton",this.playerContainer),this.switchVideoBtn.style.zIndex=B,this.ccMask=R.queryEle("#ccMask",this.playerContainer),this.playBtn=R.queryEle("#replaybtn",this.playerContainer),this.historyTimeBox=R.queryEle("#ccH5historyTimeBox",this.playerContainer),this.outerDom.historyTimeBox=this.historyTimeBox,this.cch5TipToast=R.queryEle(".cch5TipToast",this.playerContainer),this.oLoading.style.zIndex=C,this.cch5SpeedTips.style.zIndex=k,this.oInfo.style.zIndex=S,this.ccMask.style.zIndex=x,this.playBtn.style.zIndex=E,this.historyTimeBox.style.zIndex=v,this.poster=R.queryEle(".ccH5Poster",this.playerContainer);var e=R.getImgSrc(this.params,this.videoPlayData);R.queryEle(".ccH5Poster>img",this.playerContainer).src=e,this.poster.style.zIndex=g,this.poster.style.textAlign="center",this.audioBg.style.zIndex=t,this.playerInnerApi.isVideoPlay()?this.audioBg.style.display="none":this.audioBg.style.display="block",this.inited||(this.playBtn.style.display="block",this.historyTimeBox.style.display="flex","true"!==this.params.playReadyShowCtrol&&this.playerInnerApi.isVideoPlay()&&(this.poster.style.display="flex")),0==this.videoPlayData.videoCopies.length&&(this.switchVideoBtn.style.display="none")},createTempBufferVidio:function(){var e=l.createElement("video");this.playerContainer.appendChild(e),e.outerHTML=" <video style='display: none;' width='100%' preload='auto' x-webkit-airplay='allow'  x5-playsinline webkit-playsinline playsinline='true'></video>",e.src=this.currentCopy.playurl;var t=R.getCross(this.params,this.videoPlayData);t&&0<t.length&&(e.crossOrigin=t),this.oVideoTemp=e},createVideoView:function(e,t){var i=R.queryEle("video",this.playerContainer);i&&this.videoBox.removeChild(i),i=l.createElement("video"),this.videoBox.appendChild(i);var a="<video x-webkit-airplay='allow' x5-playsinline webkit-playsinline playsinline='true'><source></source></video>";this.params.useX5Play+""=="true"&&R.isAndroid()&&R.isWeixin()&&-1<this.currentCopy.playurl.indexOf(".mp4")&&(a="<video webkit-playsinline='' playsinline='' x5-video-player-type='h5-page'><source></source></video>"),i.outerHTML=a,(i=R.queryEle("video",this.playerContainer)).id="cc_"+this.params.vid,i.poster="",e||t||(i.poster=R.getImgSrc(this.params,this.videoPlayData)),i.src=this.currentCopy.playurl,i.querySelector("source").src=this.currentCopy.playurl;var s=R.getCross(this.params,this.videoPlayData);s&&0<s.length&&(i.crossOrigin=s),"true"!==this.params.autoStart||R.isMoble()||(i.autoplay="autoplay"),"true"===this.params.loop&&this.params.loopTimes<=0&&(i.loop="loop"),i.style.width="100%",i.style.height="100%",i.style.zIndex=r,this.params.objectFit&&(i.style.objectFit=this.params.objectFit),this.oVideo=i,this.outerDom.oVideo=this.oVideo,this.oVideoTemp&&(this.oVideoTemp.remove(),this.oVideoTemp=null)},createAudioView:function(e){if(-1==this.currentCopy.playurl.indexOf(".m3u8")){this.adVideo=null;var t=R.queryEle("audio",this.playerContainer);t&&this.videoBox.removeChild(t),t=l.createElement("audio"),this.videoBox.appendChild(t),t.outerHTML=" <audio><source src ='"+R.getAudioSrc(this.videoPlayData)+"'></source></audio>",(t=R.queryEle("audio",this.playerContainer)).id="cc_"+this.params.vid,"true"!==this.params.autoStart||R.isMoble()||(t.autoplay="autoplay"),"true"===this.params.loop&&this.params.loopTimes<=0&&(t.loop="loop"),t.style.zIndex=r;var i=R.getCross(this.params,this.videoPlayData);i&&0<i.length&&(t.crossOrigin=i),-1!==(this.params.height+"").indexOf("%")&&this.videoBox.clientHeight<1&&(this.videoBox.style.height="200px"),this.oVideo=t,this.outerDom.oVideo=this.oVideo}else this.createVideoView(!0,e)},setCustomSkin:function(){var e=this.params.skinColor,t=this.colorRGB(e),i=".ccH5vmbarPro,.ccH5CurrentPro,.ccbgButton,.ccH5vmbarPro,#ccH5-share-box .rows .btn{background:"+e+"!important;}.switchVttBox ul li.active,.ccbgButton,.ccH5TipBtn{border-color:"+e+"!important;}.ccH5DragVmBtn:active {box-shadow:0px 0px 3px 3px "+e+"!important;}.ccH5hdul li.selected,.ccH5spul li.selected,.switchVttBox ul li.active,#share-btn:hover, #ccH5RightMenu .ccH5RightMenuBtn:hover,.ccH5FreeTimeTipBox a,.freeTimeDuration,.ccH5TipBtn{color:"+e+"!important;}span.ccH5Btn-hover{background:rgba("+t+",.6)}";if(R.isAndroid()||R.isIPhone()||(i+=".ccH5DragBtn:active{box-shadow:0px 0px 5px 5px "+e+"!important;}"),"true"===this.params.open_barrage){var a=".cc_open .cc_btn_text,.cc_btn_type:hover{color:"+e+"!important;} .cc_open .cc_btn_toggle,.cc_barrage_progress_bar .cc_barrage_progress_play, .cc_barrage_progress_bar .cc_barrage_progress_handler,.cc_barrage_progress_bar .cc_barrage_progress_handler:hover:after {background:"+e+"!important;}",s=".cc_mod_barrage .cc_btn_submit:hover{background: "+e+";background: linear-gradient(to right,rgba("+t+",0.7) 0,"+e+" 60%)!important;}";(R.isIPad()||R.isWindowsPhoneOS()||R.isAndroid()||R.isIPhone())&&(s=".cc_mod_barrage .cc_btn_submit,"+s),i=i+a+s}this.params.listid&&(i+=".ccH5-plist-ul .plist-li-right:hover, .ccH5-plist-ul .selected-item .plist-li-right {color:"+e+"!important;}.ccH5-plist-ul .selected-item .plist-li-left {border-color:"+e+"!important;}.ccH5ListBtn:hover{background:rgba("+t+",0.6)!important;}");R.addCssByStyle(i,"skinStyle")},setConfigRightMenu:function(e){this.params.rightMenu&&"string"==typeof this.params.rightMenu&&(this.params.rightMenu=JSON.parse(this.params.rightMenu));var t=this.params.rightMenu;if(8!==R.IEVersion()&&t&&!(t.length<1)){var i=e.filter(function(e){return-1<t.indexOf(1*e.index+1)});this.videoPlayData.config.rightmenu.rightmenu=i}},setConfigDefinitions:function(){if(this.params.definitions&&"string"==typeof this.params.definitions&&(this.params.definitions=JSON.parse(this.params.definitions)),8!==R.IEVersion()&&this.params.definitions&&this.params.definitions instanceof Array&&!(this.params.definitions.length<1)){var e=this.videoPlayData.videoCopies,t=this.params.definitions,i=e.filter(function(e){return-1<t.indexOf(e.quality)});0<i.length&&(this.videoPlayData.videoCopies=i)}},setDefaultDefinition:function(){this.isValidDefinition(this.params.allowMaxDf)||(this.params.allowMaxDf=""),this.isValidDefinition(this.params.defaultDf)||(this.params.defaultDf=""),2!=this.params.mediatype&&(this.params.defaultDf?(this.params.allowMaxDf&&this.params.defaultDf>this.params.allowMaxDf&&(this.params.defaultDf=this.params.allowMaxDf),this.videoPlayData.defaultquality=this.params.defaultDf):this.params.allowMaxDf&&this.videoPlayData.defaultquality>this.params.allowMaxDf&&(this.videoPlayData.defaultquality=this.params.allowMaxDf))},isValidDefinition:function(e){for(var t=this.videoPlayData.videoCopies,i=0;i<t.length;i++)if(e==t[i].quality)return!0;return!1},initCurrentCopy:function(){var e=this.videoPlayData.videoCopies,t=this.videoPlayData.audioCopies;if(R.isAudioPlay(this.params,this.videoPlayData)){for(i=0;i<t.length;i++)if(this.videoPlayData.defaultquality==t[i].quality)return this.currentCopy=t[i],void(this.currentCopy.index=i);0<t.length&&(this.currentCopy=t[0],this.currentCopy&&(this.currentCopy.index=0))}else{for(var i=0;i<e.length;i++)if(this.videoPlayData.defaultquality==e[i].quality)return this.currentCopy=e[i],void(this.currentCopy.index=i);0<e.length&&(this.currentCopy=e[0],this.currentCopy&&(this.currentCopy.index=0))}},setStorageConfig:function(e){if(o.sessionStorage){var t=JSON.parse(o.sessionStorage.getItem("ccH5PlayerStorage"))||{};!e&&this.params.defaultDf||!t.df||(this.params.defaultDf=t.df),!e&&this.params.rate||!t.rate||(this.params.rate=t.rate),!e&&this.params.volumn||t.volume===undefined||(this.params.volumn=t.volume)}},preDealServerData:function(t){var i=this,e=t.config;if(e&&(this.params.autoStart=this.params.autoStart||(1==e.autoplay)+"",this.params.isShare=this.params.isShare||(1==e.share)+"",this.params.banDrag=this.params.banDrag||(1==e.bandrag)+"",this.params.forward===undefined&&e.fastforwardtime&&(0==e.fastforwardtype?this.forwardSecond=parseInt(e.fastforwardtime):1==e.fastforwardtype&&(this.forwardSecond=e.fastforwardtime+"%")),this.params.playListStyle=this.params.playListStyle||e.playliststyle,this.params.playListExpand===undefined&&(this.params.playListExpand=e.playlistextend),this.params.loadingPic=this.params.loadingPic||e.loadingpic,this.params.skinColor===undefined&&e.skincolor&&(this.params.skinColor=e.skincolor)),this.params.isOpenLoadingPic+""=="false"&&(this.params.loadingPic=""),this.params.isShowRightMenu=this.params.isShowRightMenu+"",this.params.banDrag=this.params.banDrag+"",this.params.open_barrage==undefined?this.params.open_barrage=1==t.isopenbarrage?"true":"false":this.params.open_barrage=this.params.open_barrage+"",this.params.subtitleModel!==undefined&&(t.subtitlemodel=this.params.subtitleModel),this.params.mobileFullsMarquee=this.params.mobileFullsMarquee+"",this.params.playReadyShowCtrol=this.params.playReadyShowCtrol+"",this.params.closeHistoryTime=this.params.closeHistoryTime+"",this.params.progressbar_enable=this.params.progressbar_enable+"",this.params.realAutoPlay=this.params.realAutoPlay+"",this.params.watchStartTime=1*this.params.watchStartTime?1*this.params.watchStartTime:0,this.params.loop=this.params.loop+"",this.params.loopTimes=1*this.params.loopTimes?1*this.params.loopTimes:0,this.params.showHdBtn=this.params.showHdBtn+"",this.params.allowSelectHd=this.params.allowSelectHd+"",this.params.defaultDf=1*this.params.defaultDf,this.params.allowMaxDf=1*this.params.allowMaxDf,this.setStorageConfig(),this.params.isShowExercise+""=="false"&&delete t.exercises,t.exercises&&this.params.exercises&&("string"==typeof this.params.exercises&&(this.params.exercises=JSON.parse(this.params.exercises)),8!==R.IEVersion()&&this.params.exercises instanceof Array&&0<this.params.exercises.length)){var a=this.params.exercises,s=t.exercises.filter(function(e,t){return-1<a.indexOf(t+1)});0<s.length&&(t.exercises=s)}if((this.params.isShowQuestions+""=="false"||t.exercises!==undefined&&t.questions!==undefined)&&delete t.questions,(this.params.watchStartTime&&t.visitor&&this.params.watchStartTime>=t.visitor.appearTime||this.params.isShowVisitor+""=="false")&&delete t.visitor,this.params.watchStartTime&&8!==R.IEVersion()&&(t.exercises&&(t.exercises=t.exercises.filter(function(e){return 1*e.showTime>i.params.watchStartTime})),t.questions&&(t.questions=t.questions.filter(function(e){return 1*e.showTime>i.params.watchStartTime}))),this.params.canSkipExercises+""=="true"&&t.exercises&&t.exercises.forEach(function(e){e.isJump=1}),this.params.logo&&this.params.logo.url&&(t&&!t.config&&(t.config={}),t.config.logo||(t.config.logo={}),t.config.logo.url=this.params.logo.url,this.params.logo.opacity!==undefined?t.config.logo.opacity=this.params.logo.opacity:t.config.logo.opacity!==undefined&&(t.config.logo.opacity=100),this.params.logo.position?t.config.logo.position=this.params.logo.position:t.config.logo.position||(t.config.logo.position=1),this.params.logo.linkUrl!==undefined&&(t.config.logo.linkurl=this.params.logo.linkUrl),this.params.logo.posX=1*this.params.logo.posX?1*this.params.logo.posX:0,this.params.logo.posY=1*this.params.logo.posY?1*this.params.logo.posY:0,this.params.logo.size=1*this.params.logo.size?1*this.params.logo.size:0),t.copies&&0!=t.copies.length){if(R.isRealtimePlay(t)){var r=t.copies[0];r.desp="",t.copies=[r]}}else t.copies=[];1*this.params.freeTime?this.params.freeTime=60<=this.params.freeTime?60*parseInt(this.params.freeTime/60):1*this.params.freeTime:this.params.freeTime=0,0===t.authenable&&0===t.freetime||(0<this.params.freeTime?t.freetime=this.params.freeTime:t.freetime=60<=t.freetime?60*parseInt(t.freetime/60):t.freetime),t.copies&&0==t.authenable&&t.freetime&&-1!==t.copies[0].playurl.indexOf(".m3u8")&&t.copies.forEach(function(e){e.playurl=e.playurl+"&freetime="+t.freetime,e.backupurl=e.backupurl+"&freetime="+t.freetime});var n=this.params.customerId;n&&(n=encodeURIComponent(n),t.copies.forEach(function(e){e.playurl=e.playurl+"&custom_id="+n,e.backupurl=e.backupurl+"&custom_id="+n}));var o=[],l=[];t.copies.forEach(function(e,t){R.isTV04()?(e.playurl&&(e.playurl=e.playurl.replace(/https:/i,"http:")),e.backupurl&&(e.backupurl=e.backupurl.replace(/https:/i,"http:"))):(e.playurl&&(e.playurl=e.playurl.replace(/http:/i,"https:")),e.backupurl&&(e.backupurl=e.backupurl.replace(/http:/i,"https:"))),2===e.mediatype?l.push(e):o.push(e)}),this.videoPlayData=t,this.videoPlayData.audioCopies=this.resortCopies(l),this.videoPlayData.videoCopies=this.resortCopies(o),this.setConfigDefinitions(),this.setDefaultDefinition(),e&&e.rightmenu&&e.rightmenu.rightmenu&&0<e.rightmenu.rightmenu.length&&this.setConfigRightMenu(e.rightmenu.rightmenu)},addVideoListenner:function(e,t){this.addListener(this.oVideo,e,t)},removeVideoListenner:function(e,t){this.oVideo.removeEventListener&&this.oVideo.removeEventListener(e,t)},addGlobalEventListener:function(e,t,i){this.globalEvents.push({ele:e,type:t,handle:i}),e.addEventListener(t,i,!1)},removeGlobalEventListener:function(){var e=this.globalEvents,t=!0,i=!1,a=undefined;try{for(var s,r=(0,q["default"])(e);!(t=(s=r.next()).done);t=!0){var n=s.value;n.ele.removeEventListener(n.type,n.handle)}}catch(o){i=!0,a=o}finally{try{!t&&r["return"]&&r["return"]()}finally{if(i)throw a}}this.globalEvents=[]},resolvePlayState:function(e){this.resolveStateTime=e,this.fixCurrentTime();var t=this;setTimeout(function(){t.ccPlayerCtrol.resetSp()},500)},fixCurrentTime:function(e){if(e||!this.hls){R.isIPhone()&&this.playerInnerApi.videoPlay();var a=this,t=function t(){a.removeVideoListenner("canplay",t),a.oVideo.currentTime=a.resolveStateTime,setTimeout(function(){a.playerInnerApi.videoPlay()},300)},s=function s(){var e="number"==typeof a.lastPlayTime?parseInt(a.lastPlayTime):0,t="number"==typeof a.resolveStateTime?parseInt(a.resolveStateTime):0,i="number"==typeof a.oVideo.currentTime?parseInt(a.oVideo.currentTime):0;e<t||1<i-e?setTimeout(function(){a.oVideo.currentTime=a.resolveStateTime},100):a.removeVideoListenner("timeupdate",s)};R.isAndroid()&&R.isWeixin()?(this.playerInnerApi.videoPlay(),this.oVideo.currentTime=this.resolveStateTime,this.addVideoListenner("timeupdate",s)):this.addVideoListenner("canplay",t)}},initVideoPlayEvents:function(){var i=this;this.addVideoListenner("loadedmetadata",function(){R.invokeWindow("on_player_loadedmetadata",i.oVideo,i.params.vid)}),this.addVideoListenner("loadeddata",function(){R.invokeWindow("on_player_loadeddata",i.oVideo,i.params.vid)}),this.addVideoListenner("canplay",function(){i.handleCanplay()}),this.addVideoListenner("play",function(){i.handlePlay()}),this.addVideoListenner("playing",function(){i.handlePlaying()}),this.addVideoListenner("pause",function(){i.handlePause()}),this.addVideoListenner("timeupdate",function(e){i.handleTimeupdate(),i.handleProgress(),R.invokeWindow("on_player_timeupdate",i.oVideo.currentTime,i.params.vid)}),this.addVideoListenner("progress",function(){i.handleProgress()}),this.addVideoListenner("ended",function(){i.handleEnded()}),this.addVideoListenner("seeking",function(){i.handleSeeking()}),this.addVideoListenner("seeked",function(){i.handleSeeked()}),this.addVideoListenner("waiting",function(){i.handleWaiting()}),this.addVideoListenner("canplaythrough",function(){i.handleCanplaythrough()}),this.addVideoListenner("error",function(e){i.handleError(e)}),this.addVideoListenner("gesturechange",function(e){1<e.scale&&i.fullScreen(e)}),this.addVideoListenner("touchstart",function(e){2==e.touches.length&&(i.ctrlBar.className="ccH5FadeIn",i.oVideo.ontouchend=function(){i.togglePlay(),i.oVideo.ontouchend=null})}),this.addVideoListenner("touchend",function(e){1==e.changedTouches.length&&i.toggleCtrlBar()}),this.audioBg&&this.addListener(this.audioBg,"touchend",function(e){1==e.changedTouches.length&&i.toggleCtrlBar()}),this.addVideoListenner("loadstart",function(){var e="9DD53F70C341DB9B"===i.params.siteid&&R.isHuaWei()&&R.isWeixin();"1"==i.params.wx_hls_type&&R.isWeixin()||e||i.oVideo.src&&-1!=i.oVideo.src.indexOf(".m3u8")&&i.hlsPlay()}),this.addListener(o,"orientationchange",function(){i.autoProgressBar()}),this.addListener(this.switchVideoBtn,"click",function(e){i.toggleVideoOrAudio()}),R.isMoble()||R.isIPad()||(this.addVideoListenner("click",function(){i.params.listid&&i.ccPlayList.isShowing()?i.ccPlayList.hidePlayList():i.playerInnerApi.toggleVideoPlay()}),this.playerContainer.addEventListener("dblclick",function(e){if("video"===e.target.nodeName.toLowerCase()||"ccBarrage"===e.target.id){var t=l.fullscreenElement||l.msFullscreenElement||l.mozFullScreenElement||l.webkitFullscreenElement||!1;"true"!==i.params.noDblClick&&(t?i.exitFullScreen():i.fullScreen(i.videoBox))}})),R.isIPhone()&&this.addVideoListenner("webkitendfullscreen",function(){R.invokeWindow("on_player_fullscreen",0,i.params.vid)})},initWindowEvents:function(){var e=this,r=this;this.addListener(o,"resize",function(){var e=r.videoBox.style.width,t=r.videoBox.style.position,i=r.videoBox.style.zIndex,a=r.videoBox.style.textIndent,s=r.videoBox.style.backgroundColor;"100%"==e&&"fixed"==t&&"9999"==i&&"0px"==a&&"rgb(0, 0, 0)"==s&&(r.videoBox.innerHTML="视频不支持录屏模式下播放",r.videoBox.style.color="#ffffff",r.videoBox.style.textAlign="center",r.videoBox.style.lineHeight="490px"),R.isWeixin()&&R.isAndroid()&&(2==++r.wechatCount?r.isEnterFullscreen=!0:r.isEnterFullscreen=!1),4===r.wechatCount&&(r.wechatCount=0),r.autoProgressBar()}),this.addListener(o,"keydown",function(e){32!==e.keyCode||-1!==e.target.toString().indexOf("Input")||-1!==e.target.toString().indexOf("TextArea")||e.target.getAttribute("contenteditable")||e.preventDefault(),37!==e.keyCode&&39!==e.keyCode||-1!==e.target.toString().indexOf("Input")||-1!==e.target.toString().indexOf("TextArea")||e.preventDefault(),27==e.keyCode&&r.exitFullScreen()}),this.addListener(o,"keyup",function(e){var t=0;e.preventDefault();var i=-1===e.target.toString().indexOf("Input")&&-1===e.target.toString().indexOf("TextArea")&&!e.target.getAttribute("contenteditable");if(32===e.keyCode&&i&&r.params.allowKeyBoardTogglePlay+""!="false")r.togglePlay();else if((37===e.keyCode||39===e.keyCode)&&-1===e.target.toString().indexOf("Input")&&-1===e.target.toString().indexOf("TextArea")){if(39===e.keyCode&&"true"==r.params.banDrag)return;if("number"!=typeof r.forwardSecond&&r.forwardSecond.endsWith("%")&&(r.forwardSecond=parseInt(r.playerInnerApi.getTotalTime()*parseInt(r.forwardSecond)/100)),0==r.forwardSecond)return;t=37===e.keyCode?r.oVideo.currentTime-r.forwardSecond:r.oVideo.currentTime+r.forwardSecond,r.oVideo.currentTime=t}}),this.params.isAddQuit+""=="true"&&R.isAndroid()&&R.isWeixin()&&this.addListener(o,"blur",function(){e.isFullScreen()||e.oVideo&&!e.oVideo.paused&&e.playerInnerApi.videoPause()})},initBasePlayEvents:function(){var e=this;R.addListener(this.playBtn,"touchend",function(){e.playerInnerApi.videoPlay(),R.isIPhone()&&R.isQQ()&&setTimeout(function(){e.playerInnerApi.getVideostate()&&e.playerInnerApi.videoPlay()},500)}),R.addListener(this.playBtn,"click",function(){e.checkShowListExpand(!0),e.playerInnerApi.videoPlay()})},tryAutoPlay:function(){"function"!=typeof Hls&&("true"!=this.params.autoStart+""||R.isIPad()||R.isIPhone()||R.isAndroid()||this.playerInnerApi.videoPlay())},realAutoPlay:function(){if(!(R.isIPad()||R.isIPhone()||R.isAndroid())){var e=this;this.playerInnerApi.hidePlayBtn(),this.ccPlayerCtrol.setVolume(0),this.poster.style.display="none",this.showLoading();var t=function t(){e.playerInnerApi.videoPlay(),e.removeVideoListenner("canplay",t)};this.addVideoListenner("canplay",t)}},initWatchStartTime:function(){var e=this,t=function t(){e.playerInnerApi.getTotalTime()&&("true"!=e.params.autoStart?(e.setWatchStartTime(),e.checkWatchStartTime()):setTimeout(function(){e.setWatchStartTime(),e.checkWatchStartTime()},500),e.removeVideoListenner("timeupdate",t))};this.addVideoListenner("timeupdate",t)},setWatchStartTime:function(){var e=this.playerInnerApi.getTotalTime(),t=this.playerInnerApi.getCurrentTime()||0;this.params.watchStartTime<e&&t<=3&&(this.lastVideoTime=this.params.watchStartTime,this.oVideo.currentTime=this.params.watchStartTime)},checkWatchStartTime:function(){var e=this;this.startTimer||(this.startTimer=setInterval(function(){e.params.watchStartTime<=1||e.params.watchStartTime<=e.playerInnerApi.getCurrentTime()?clearInterval(e.startTimer):e.setWatchStartTime()},1e3),this.intervals.push(this.startTimer))},initHistoryTimeShow:function(){if(o.localStorage)if(this.currPlayedMaxTime=parseInt(localStorage.getItem(this.params.vid)||0),this.params.freeTime||!this.params.freeTime&&0==this.videoPlayData.authenable&&this.videoPlayData.freetime||"1"===this.params.closeHistoryTime&&o.localStorage&&o.localStorage.getItem(this.params.vid))o.localStorage.removeItem(this.params.vid);else if(!this.historyTimeOvered&&!R.isCustomFunction(this.videoPlayData.uid)&&(this.historyTime=parseInt(localStorage.getItem(this.params.vid)||0),0!=this.historyTime)){var i=this;i.oVideo.addEventListener("timeupdate",function a(){i.oVideo.removeEventListener("timeupdate",a),i.historyTimeBox&&i.historyTimeBox.classList&&i.historyTimeBox.classList.add("fade"),setTimeout(function(){var e=R.queryEle("#ccH5historyTimeBox",i.playerContainer);e&&i.videoBox.removeChild(e),i.historyTimeBox=null,i.historyTimeOvered=!0,i.outerDom.historyTimeBox=null},15e3);var e=R.queryEle("#ccH5jumpInto",i.historyTimeBox),t=R.queryEle("#ccH5delBox",i.historyTimeBox);e.querySelector("i").innerHTML=R.timeFormat(i.historyTime),t.onclick=function(){i.videoBox.removeChild(i.historyTimeBox),i.historyTimeBox=null,i.historyTimeOvered=!0,i.outerDom.historyTimeBox=null},e.onclick=function(){i.lastVideoTime=i.historyTime,i.oVideo.currentTime=i.historyTime,i.historyTimeBox.classList.remove("fade"),i.videoBox.removeChild(i.historyTimeBox),i.historyTimeOvered=!0}})}},toggleVideoOrAudio:function(){this.playerInnerApi.isVideoPlay()?this.switchToAudioPlay():this.switchToVideoPlay()},switchToAudioPlay:function(){this.params.mediatype=2,this.rerender()},switchToVideoPlay:function(){this.params.mediatype=1,this.rerender()},rerender:function(){this.resolveStateTime=this.lastVideoTime,this.destroy(),this.params.rate=this.playerInnerApi.getVideoRate(),this.videoPlayData.defaultquality=this.currentCopy.quality,this.initCurrentCopy(),this.outerApi.currentCopiesIdx=this.currentCopy&&this.currentCopy.index,this.playerContainer.innerHTML,this.startH5Play(),this.fixCurrentTime()},hlsPlay:function(){var r=this;if("function"==typeof Hls)if(Hls.isSupported()){var t=this.resolveStateTime;r.cch5DestroyHls&&r.cch5DestroyHls();var e=this.oVideo.src,n=new Hls;n.loadSource(e),n.attachMedia(this.oVideo),this.hls=n,this.hls.isLoadedSucc=null,(0<t||"true"==this.params.autoStart)&&(this.hls.on(Hls.Events.ERROR,function(e,t){if(console.error(t),("78665FEF083498AB"===r.params.siteid||"6214E2AB82B9E50D"===r.params.siteid||"169A751C6B4BE3F6"===r.params.siteid||r.params.isSys)&&t.type==Hls.ErrorTypes.MEDIA_ERROR&&!R.isWeixin()&&"bufferStalledError"==t.details){var i=r.playerInnerApi.getVideoBuffered(),a=r.playerInnerApi.getCurrentTime()||0,s=0;if(1<=i.length&&(s=i.end(i.length-1)),1<s-a)return;return console.log("Media error encountered, try to recover"),n.stopLoad(),r.playerInnerApi.hidePlayBtn(),void setTimeout(function(){n.recoverMediaError(),r.oVideo.currentTime=a,r.playerInnerApi.videoPlay(),r.ccPlayerCtrol.resetSp()},200)}if("checkBufferError"==t.details&&R.isWeixin()&&R.isAndroid()&&!r.resetM3u8Play)return r.playerInnerApi.hidePlayBtn(),r.resetM3u8Play=!0,r.cch5DestroyHls(),void setTimeout(function(){0<r.oVideo.currentTime||(r.playerInnerApi.setVideoSrc(r.currentCopy.playurl),r.resetM3u8Play=!1)},1e3);r.playerInnerApi.videoPlay(),r.hls.isLoadedSucc||r.triggerPlayerError("BeforePlayError")}),this.hls.on(Hls.Events.MANIFEST_PARSED,function(){r.hls.isLoadedSucc=!0;var e=R.isSafari()&&!R.isIPhone()||!1;if(R.isWeixin()&&R.isAndroid()||11===R.IEVersion()||e)r.jumpToTimeWhenPlayed(t),r.playerInnerApi.videoPlay();else{if("4391A77DC14C5D2F"===r.params.siteid&&t<=0)return;r.playerInnerApi.videoPlay(),r.jumpToTime(t),r.ccPlayerCtrol.resetSp()}})),r.cch5DestroyHls=function(){null!==r.hls&&(r.hls.destroy(),r.hls.bufferTimer&&(clearInterval(r.hls.bufferTimer),r.hls.bufferTimer=undefined),r.hls=null)}}else this.handleLog("hls is not support!");else R.loadScript("https://p.bokecc.com/js/player/hls.js?v=1",function(){r.hlsPlay()})},jumpToTimeWhenPlayed:function(e){if(!this.jumpToTimeWhenPlayedInvoking){this.jumpToTimeWhenPlayedInvoking=!0;var t=this;e=parseInt(e);var i=function i(){t.removeVideoListenner("timeupdate",i),setTimeout(function(){t.lastVideoTime=e,t.oVideo.currentTime=e,t.ccPlayerCtrol.resetSp(),t.oVideo.rate=2,t.jumpToTimeWhenPlayedInvoking=!1},500)};this.addVideoListenner("timeupdate",i)}},handleTimeupdate:function(){this.oVideo.paused||this.playerInnerApi.hidePlayBtn(),"true"===this.params.banDrag&&2<parseInt(this.oVideo.currentTime-this.lastVideoTime)&&this.oVideo.currentTime>this.currPlayedMaxTime?this.oVideo.currentTime=this.lastVideoTime:(this.lastVideoTime=this.oVideo.currentTime,this.lastPlayTime=this.oVideo.currentTime,this.lastVideoTime>this.currPlayedMaxTime&&(this.currPlayedMaxTime=this.lastVideoTime),10<this.oVideo.currentTime&&o.localStorage!==undefined&&null!==o.localStorage&&"1"!==this.params.closeHistoryTime&&localStorage.setItem(this.params.vid,this.lastVideoTime))},handlePause:function(){this.isPlaying=!1,this.hideLoading(),this.playerInnerApi.showPlayBtn(),R.invokeWindow("on_CCH5player_pause",this.oVideo,this.params.vid)},handlePlay:function(){this.checkShowListExpand(),this.isPlaying=!0,this.playerInnerApi.hidePlayBtn(),this.poster.style.display="none",R.invokeWindow("on_CCH5player_play",this.oVideo,this.params.vid)},handlePlaying:function(){this.isPlaying=!0,this.playerInnerApi.hidePlayBtn(),this.playEnded=!1,this.outerDom.playEnded=this.playEnded},handleEnded:function(){this.playEnded=!0,this.outerDom.playEnded=this.playEnded,this.ccPlayerCtrol.exitFulls(),this.isPlaying=!1,this.playerInnerApi.showPlayBtn(),this.playBtn.className="adrPlayBtn",this.playBtn.style.display="block",R.invokeWindow("on_CCH5player_ended",this.oVideo,this.params.vid),"true"===this.params.loop&&this.playLoopTimes<this.params.loopTimes&&(this.playLoopTimes++,this.oVideo.play())},handleError:function(e){var t=this;this.handleLog(e),console.log("video error:",e.target.error&&e.target.error.code);var i=this.oVideo.currentTime;if(this.oVideo.src&&-1!=this.currentCopy.playurl.indexOf(".m3u8")&&0<i)!this.resetM3u8Play&&3==e.target.error.code&&R.isWeixin()&&R.isAndroid()&&(this.resetM3u8Play=!0,this.playerInnerApi.hidePlayBtn(),this.cch5DestroyHls(),setTimeout(function(){0<t.oVideo.currentTime||(t.playerInnerApi.setVideoSrc(t.currentCopy.playurl),t.resetM3u8Play=!1)},800));else if(this.playerInnerApi.videoPause(),e&&e.target&&e.target.error){var a="BeforePlayError";0<i&&(a="PlayingError"),this.triggerPlayerError(a)}},handleSeeking:function(){this.showLoading()},handleSeeked:function(){this.hideLoading()},handleWaiting:function(){var t=this,e=this.playerInnerApi.getVideoBuffered(),i=this.playerInnerApi.getCurrentTime()||0,a=0;1<=e.length&&(a=e.end(e.length-1)),a-i<5&&this.showLoading(),this.isWaiting=1;var s=this;setTimeout(function(){var e=s.playerContainer.querySelector(".cch5SpeedTips");e&&e.style&&(1===s.isWaiting&&(e.style.display="block"),setTimeout(function(){e.style.display="none"},2e3))},5e3),0<a&&!o.navigator.onLine&&setTimeout(function(){if(t.isWaiting&&!o.navigator.onLine){var e=R.createTips(t.params,"code："+L.NetworkUnavaiable+"  网络不可用，请稍后刷新重试");t.destroy(),t.playerContainer.innerHTML=e,t.triggerPlayerError()}},2e4),R.invokeWindow("on_player_buffering",{vid:this.params.vid,flag:1})},handleCanplaythrough:function(){this.isWaiting&&R.invokeWindow("on_player_buffering",{vid:this.params.vid,flag:0}),this.isWaiting=0;var e=R.queryEle(".cch5SpeedTips",this.playerContainer);e&&e.style&&(e.style.display="none")},handleCanplay:function(){this.hideLoading()},handleProgress:function(){this.progress()},progress:function(){var e=this.oVideo.currentTime||0;if(this.oVideo.buffered&&!(this.oVideo.buffered.length<=0)){for(var t=this.oVideo.buffered.end(0),i=0;i<this.oVideo.buffered.length;i++)if(e<this.oVideo.buffered.end(i)){t=this.oVideo.buffered.end(i);break}15<t-e&&this.hideLoading(),this.ccPlayerCtrol&&(this.ccPlayerCtrol.updateLoadBar(t,this.oVideo.duration),this.ccPlayerCtrol.autoFitProgressBar())}},autoProgressBar:function(){var e=this;setTimeout(function(){e.progress()},300)},showLoading:function(){this.oVideo.paused||(this.playerInnerApi.hidePlayBtn(),this.oLoading.style.display="block")},hideLoading:function(){this.oLoading.style.display="none"},checkShowListExpand:function(e){if(!R.isMoble()&&!R.isIPad()){var t=this.params.listid&&this.ccPlayList&&1==this.params.playListExpand&&this.ccPlayList.getListExpandNum()<1;e||(t=t&&"none"===this.playBtn.style.display),t&&this.ccPlayList.showPlayList()}},getH5PlayerHtml:function(){return"<div class='ccH5playerBox' style='height: 100%;width:100%;'><div class=\"cch5TipToast\" style=\"display:none\"></div>  <p class=\"cch5SpeedTips\" style=\"width:auto;min-width:5%;max-width: 80%;text-overflow:ellipsis;overflow: hidden;white-space: nowrap;text-align:center;\">当前网络不佳，建议切换清晰度或暂停一会</p> <div class='ccMask' id='ccMask' style='display:none'></div> <div  id='ccH5historyTimeBox' style='display:none;min-width:184px;line-height:20px;'>\t\t<span id='ccH5jumpInto' >上次观看到<i>00:00</i><b>点击继续</b></span>\t\t<span id='ccH5delBox' >&times;</span> </div>\t<div class='ccH5Info'></div>\t<div class='ccH5Loading'></div>\t<div class='ccH5Poster' style='display: none;'><img src=''/></div><div id='replaybtn' class='ccH5PlayBtn' style='display: none;'></div><div class='ccH5PlayBtn2'></div><div class='ccH5AudioBg' style='z-index: 3;'>    <img src='https://p.bokecc.com/images/html5player/ccH5AudioBg.png'>    <p class='ccbgText'>音频播放中</p>    <div class='ccbgButton'>切回视频</div></div></div>"},loadCss:function(e){var t=l.createElement("link"),i="v20191118";t.classList.add("ccH5vidoeLinkTag"),t.href="https://p.bokecc.com/css/html5player/skin_pc.css?"+i,(R.isIPad()||R.isWindowsPhoneOS())&&(t.href="https://p.bokecc.com/css/html5player/skin2.css?"+i),(R.isAndroid()||R.isIPhone(this.params))&&(t.href="https://p.bokecc.com/css/html5player/skin_Android.css?"+i,"231986"==this.videoPlayData.uid&&(t.href="https://p.bokecc.com/css/html5player/canon_Android.css?"+i),"240837"==this.videoPlayData.uid&&(t.href="https://p.bokecc.com/css/html5player/zyrs_Android.css?"+i)),R.isIPad()&&"231986"==this.videoPlayData.uid&&(t.href="https://p.bokecc.com/css/html5player/canon_ipad.css?"+i),o.isCCPlayerTest&&(t.href="./vendor/css/html5player/skin_pc.css?"+i),t.rel="stylesheet",t.type="text/css";var a=l.querySelector(".ccH5vidoeLinkTag");if(a&&"object"===(void 0===a?"undefined":(0,H["default"])(a))&&a.href==t.href)e&&e();else{var s=!1;9==R.IEVersion()||10==R.IEVersion()?t.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,e&&e())}:t.onload=function(){s||(s=!0,e&&e())},l.head.appendChild(t)}},addListener:function(e,t,i){e.addEventListener&&e.addEventListener(t,i,!1)},toggleCtrlBar:function(){this.ccPlayerCtrol.toggleCtrlBar()},togglePlay:function(){this.cch5SpeedTips.style.display="none",this.oVideo.paused?9===R.IEVersion()?this.oVideo.play():this.playerInnerApi.videoPlay():this.playerInnerApi.videoPause()},createPlayerContainer:function(){var e=l.createElement("div"),t=Math.ceil(1e7*Math.random()),i=this.params.width||"100%",a=this.params.height||"100%";this.params.listid&&(a=i="100%"),/^\d+$/.test(i)&&(i+="px"),/^\d+$/.test(a)&&(a+="px"),e.id="cc_video_"+this.params.vid+"_"+t,this.params.divid=e.id,e.style.width=i,e.style.height=a,R.isMoble()&&(e.style.position="relative"),e.innerHTML="<div class='ccH5Info'></div>",e.className="CCH5playerContainer",this.playerContainer=e,this.oInfo=R.queryEle(".ccH5Info",this.playerContainer),this.playStartTime=(new Date).getTime()},createPlayListWrapper:function(e,t){var i=l.createElement("div");t?t.replaceChild(i,e):this.params.parentNode.appendChild(i),i.className="cclist_wrapper_"+this.params.listid;var a=this.params.width||"100%",s=this.params.height||"100%";/^\d+$/.test(a)&&(a+="px"),/^\d+$/.test(s)&&(s+="px"),i.style.width=a,i.style.height=s,i.style.position="relative",i.style.background="#000",this.playerWrapper=i,this.params.parentNode=this.playerWrapper,this.ccPlayList=new CCH5PlayList(this.playerInnerApi,this.params,I,this.playerWrapper,this),this.ccPlayList.init()},resortCopies:function(e){for(var t,i,a=0;a<e.length;a++)if(15==e[a].quality){i=e[a],e.splice(a,1);break}for(var s=0;s<e.length-1;s++)for(var r=s+1;r<e.length;r++)e[s].quality<e[r].quality&&(t=e[s],e[s]=e[r],e[r]=t);return i&&e.push(i),e},preDoParams:function(){var e=this.params.width+"",t=this.params.height+"";/^\d+$/.test(e)&&(e+="px"),/^\d+$/.test(t)&&(t+="px"),this.params.showWidth=e,this.params.showHeight=t,this.params.userAgent=R.getUserAgent(),this.forwardSecond=5,this.params.forward!==undefined&&(/^\d+%$/.test(this.params.forward)?this.forwardSecond=this.params.forward:/^\d+$/.test(this.params.forward)&&(this.forwardSecond=parseInt(this.params.forward))),this.params.isSkipAd=this.params.isSkipAd||0,this.params.isSkipAd=R.invokeWindow("is_skip_ad",this.params.vid)||this.params.isSkipAd,this.params.vc=this.params.vc||"",this.params.vc=R.invokeWindow("get_cc_verification_code",this.params.vid)||this.params.vc,this.params.customerId=this.params.customerId||"",this.params.customerId=R.invokeWindow("get_custom_id")||this.params.customerId,this.params.clientUserId=this.params.clientUserId||R.invokeWindow("get_client_user_id")||""},fullScreen:function(e){var t=this,i=this.playerInnerApi.getCurrentTime()||0;if("true"===this.params.mobileFullsMarquee&&R.isMoble()&&i<=0)return this.cch5TipToast.innerHTML="提示：请播放后全屏",this.cch5TipToast.style.display="block",void setTimeout(function(){t.cch5TipToast.style.display="none"},1e3);if(this.params.allowFullScreen+""!="false"){if("request"===e){if(!this.videoBox)return;e=this.videoBox}var a=!1;if(this.videoPlayData.vrmode||(a=R.canFunScreen()),a)this.oVideo.requestFullscreen?this.oVideo.requestFullscreen():this.oVideo.msRequestFullscreen?this.oVideo.msRequestFullscreen():this.oVideo.mozRequestFullScreen?this.oVideo.mozRequestFullScreen():this.oVideo.webkitSupportsFullscreen&&this.oVideo.webkitEnterFullscreen();else{this.params.listid&&(e=this.playerWrapper);var s=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;void 0!==s&&s&&s.call(e),11==R.IEVersion()&&(this.params.listid?this.playerWrapper.msRequestFullscreen():this.playerContainer.msRequestFullscreen()),this.params.listid&&(this.playerWrapper.style.width="100%",this.playerWrapper.style.height="100%",this.ccPlayList.fullScreenFixedList(!0)),this.videoBox.classList.add("ccH5PlayerBoxFixed"),this.ccPlayerCtrol.switchFullsBtnStyle(!0),this.progress(),this.ccPlayerExercise&&this.ccPlayerExercise.changeTestStyle("")}1==this.videoPlayData.subtitlemodel&&this.ccPlayerMore&&this.ccPlayerMore.setVttFontSize(),this.ccPlayerMarquee&&"true"===this.params.mobileFullsMarquee&&R.isMoble()&&this.ccPlayerMarquee.toggleVttMarquee(!0),R.invokeWindow("on_player_fullscreen",1,this.params.vid)}},exitFullScreen:function(e){if(this.params.allowFullScreen+""!="false"){var t=!1;if(this.videoPlayData.vrmode||(t=R.canFunScreen()),t)this.oVideo.exitFullscreen?this.oVideo.exitFullscreen():this.oVideo.msExitFullscreen?this.oVideo.msExitFullscreen():this.oVideo.mozExitFullScreen?this.oVideo.mozExitFullScreen():this.oVideo.webkitExitFullscreen?this.oVideo.webkitExitFullscreen():l.mozCancelFullScreen&&l.mozCancelFullScreen();else{var i=(e=l).cancelFullScreen||e.webkitCancelFullScreen||e.mozCancelFullScreen||e.exitFullScreen;if(void 0!==i&&i&&i.call(e),11==R.IEVersion()&&l.msExitFullscreen&&l.msExitFullscreen(),this.params.listid){var a=this.params.width||"100%",s=this.params.height||"100%";/^\d+$/.test(a)&&(a+="px"),/^\d+$/.test(s)&&(s+="px"),this.playerWrapper.style.width=a,this.playerWrapper.style.height=s,this.ccPlayList.fullScreenFixedList()}this.videoBox.classList.remove("ccH5PlayerBoxFixed"),this.ccPlayerCtrol.switchFullsBtnStyle(),this.progress(),this.ccPlayerExercise&&this.ccPlayerExercise.changeTestStyle("small")}1==this.videoPlayData.subtitlemodel&&this.ccPlayerMore&&this.ccPlayerMore.setVttFontSize(),this.ccPlayerMarquee&&"true"===this.params.mobileFullsMarquee&&R.isMoble()&&this.ccPlayerMarquee.toggleVttMarquee(!1),R.invokeWindow("on_player_fullscreen",0,this.params.vid)}},isFullScreen:function(){return!!(l.fullscreenElement||l.msFullscreenElement||l.mozFullScreenElement||l.webkitFullscreenElement||this.videoBox.classList.contains("ccH5PlayerBoxFixed"))},authFreeTimePlay:function(){var a=this;if(this.params.freeTime||0==this.videoPlayData.authenable&&0!=this.videoPlayData.freetime){var e=function e(){s.createFreeTimeTip(),s.removeVideoListenner("canplay",e)};this.addVideoListenner("canplay",e);var s=this,r=setInterval(function(){if(s.oVideo.currentTime>=s.videoPlayData.freetime){s.destroy();var e=s.videoPlayData.authmessage||"";""==e&&(e=decodeURIComponent("%E4%B8%8D%E5%85%81%E8%AE%B8%E8%A7%82%E7%9C%8B%E6%88%96%E8%AF%95%E7%9C%8B%E6%97%B6%E9%97%B4%E7%94%A8%E5%B0%BD")),a.params.freeTimeEndTip&&a.params.freeTimeEndTip.msg&&(e=decodeURIComponent(a.params.freeTimeEndTip.msg));var t=a.params.freeTimeEndTip&&a.params.freeTimeEndTip.linkText,i=a.params.freeTimeEndTip&&a.params.freeTimeEndTip.linkUrl;s.playerContainer.innerHTML=R.createTips(s.params,e,{text:t&&decodeURIComponent(t)||"",url:i}),clearTimeout(r),""!=s.videoPlayData.callback&&R.invokeWindow(s.videoPlayData.callback,s.params.vid)}},1e3);this.intervals.push(r)}},createFreeTimeTip:function(){this.params.freeTime>this.playerInnerApi.getTotalTime()&&(this.params.freeTime=60*parseInt(this.playerInnerApi.getTotalTime()/60),this.videoPlayData.freetime=this.params.freeTime);var e="",t="";if(this.params.freeTimeTip&&this.params.freeTimeTip.linkText&&(e="<a href='javascript:;'>"+decodeURIComponent(this.params.freeTimeTip.linkText)+"</a>",this.params.freeTimeTip.linkUrl)){var i=R.isIPhone()&&R.is360()?"":"target='_blank'";e="<a href='"+this.params.freeTimeTip.linkUrl+"' "+i+">"+decodeURIComponent(this.params.freeTimeTip.linkText)+"</a>"}this.params.freeTimeTip&&this.params.freeTimeTip.msg&&(t="，"+decodeURIComponent(this.params.freeTimeTip.msg));var a=l.createElement("div"),s='<div class="ccH5FreeTimeTipBox">试看<span class="freeTimeDuration"></span>'+(60<=this.videoPlayData.freetime?"分钟":"秒")+'<div class="freeTimeTipMsg">'+t+"</div>"+e+'<div class="closeFreeTimeTip"></div></div>';this.videoBox.appendChild(a),a.outerHTML=s;var r=R.queryEle(".ccH5FreeTimeTipBox",this.playerContainer),n=R.queryEle(".freeTimeDuration",this.playerContainer),o=R.queryEle(".closeFreeTimeTip",this.playerContainer);n.innerHTML=60<=this.videoPlayData.freetime?this.videoPlayData.freetime/60:this.videoPlayData.freetime,o.onclick=function(){r.style.display="none"}},colorRGB:function(e){if(e=e.toLowerCase(),/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var t="#",i=1;i<4;i+=1)t+=e.slice(i,i+1).concat(e.slice(i,i+1));e=t}var a=[];for(i=1;i<7;i+=2)a.push(parseInt("0x"+e.slice(i,i+2)));return a.join(",")}return e},addPlayerEventListenner:function(e,t){var i=this.plyerEventListenners[e];i&&0!=i.length?this.plyerEventListenners[e].push(t):this.plyerEventListenners[e]=[t]},removePlayerEventListenner:function(e,t){var i=this.plyerEventListenners[e];if(i&&0!=i.length){var a=[],s=!0,r=!1,n=undefined;try{for(var o,l=(0,q["default"])(i);!(s=(o=l.next()).done);s=!0){var c=o.value;c!=t&&a.push(c)}}catch(d){r=!0,n=d}finally{try{!s&&l["return"]&&l["return"]()}finally{if(r)throw n}}this.plyerEventListenners[e]=a}},triggerPlayerEvent:function(t){var e=t[0];if(e){var i=this.plyerEventListenners[e];i&&i.forEach(function(e){setTimeout(function(){return e.apply(o,Array.prototype.slice.call(t,1))},0)})}},startPlayAndPauseStatis:function(){var e=this,t=setInterval(function(){if(e.oVideo.paused){if(0==e.playedTimes)return;e.pausedTimes++}else e.playedTimes++},1e3);this.intervals.push(t)},jumpToTime:function(e){var t=this;if(!R.isByReplaced()&&this.lastVideoTime<1&&this.oVideo.currentTime<1&&this.lastPlayTime<1)return this.resolveStateTime=e,this.oVideo.currentTime=e,this.lastVideoTime=e,void this.fixCurrentTime("fix");this.lastVideoTime=e;try{this.oVideo.currentTime=e}catch(i){this.playerInnerApi.videoPlay(),setTimeout(function(){t.handleLog("jumpToTime: ",i),t.oVideo.currentTime=e},1e3)}},destroy:function(){this.cch5DestroyHls&&this.cch5DestroyHls();var e=!0,t=!(this.plyerEventListenners={}),i=undefined;try{for(var a,s=(0,q["default"])(this.intervals);!(e=(a=s.next()).done);e=!0){var r=a.value;o.clearInterval(r)}}catch(n){t=!0,i=n}finally{try{!e&&s["return"]&&s["return"]()}finally{if(t)throw i}}this.extralFuncs.forEach(function(e){"function"==typeof e.destroy&&e.destroy()}),this.removeGlobalEventListener(),this.playerContainer&&(this.playerContainer.innerHTML=""),this.oVideo={play:function(){},pause:function(){}},c[this.playerId]=null},handleLog:function(e){R.isMoble()?console.log("log:",e):console.log(e)},setFastForwardTime:function(e){/^\d+(\.\d+)?$/.test(e)?this.forwardSecond=0<=e&&e<=1?parseInt(this.playerInnerApi.getTotalTime()*e):parseInt(e):this.handleLog("设置快进快退的值不合法")},classListIE:function(){"classList"in l.documentElement||(o.HTMLElement=o.HTMLElement||o.Element,Object.defineProperty(o.HTMLElement.prototype,"classList",{get:function(){var s=this;function e(a){return function(e){var t=s.className.split(/\s+/g),i=t.indexOf(e);a(t,i,e),s.className=t.join(" ")}}return{add:e(function(e,t,i){~t||e.push(i)}),remove:e(function(e,t){~t&&e.splice(t,1)}),toggle:e(function(e,t,i){~t?e.splice(t,1):e.push(i)}),contains:function(e){return!!~s.className.split(/\s+/g).indexOf(e)},item:function(e){return s.className.split(/\s+/g)[e]||null}}}}))},addIESupport:function(){this.classListIE(),"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e.apply(this,[this[t],t,this])}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),o.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||o;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)})},triggerPlayerError:function(e){if(o.navigator.onLine){var t={siteId:this.params.siteid,vid:this.params.vid,errCode:L[e],errMsg:V[e]};R.invokeWindow("on_h5player_error",t)}else R.invokeWindow("on_h5player_error",{siteId:this.params.siteid,vid:this.params.vid,errCode:L.NetworkUnavaiable,errMsg:V.NetworkUnavaiable})}},o.cc_js_Player=M(),o.createCCH5Player=function(e){if(e){if(e.parentNode){var t=M();return t.showPlayerDirect(e),o.cc_js_Player=t}console.log("Api createCCH5Player param config mask contains parentNode")}else console.log("Api createCCH5Player need one param config")},o.getCCH5Player=function(e,t){return t=t||"0",console.log(c),c[e+"_"+t]},R.invokeWindow("onCCH5PlayerLoaded")}(window),function(u){var d=u.document;if("function"!=typeof CCH5PlayerCtrol){var p=function p(e,t,i,a,s,r,n,o,l,c,d){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s,this.ccPlayerShare=r,this.ccPlayerMore=n,this.ccPlayerExercise=o,this.ccPlayerQA=l,this.ccPlayList=c,this.ccPlayerRightMenu=d,this.intervals=[],this.params.controlBarNode&&(this.parentEle=this.params.controlBarNode)};p.prototype={constructor:p,ccPlayerShare:null,ccPlayerMore:null,rates:[2,1.5,1.2,1,.8],defaultRate:1,rateAllowChange:!0,startPlayed:!1,triggerPlayTimes:0,init:function(){this.initParamsConfig(),this.createView(),this.initData(),this.addEvents(),this.registerVideoListener()},initParamsConfig:function(){if(this.params.rate_array&&"string"==typeof this.params.rate_array&&(this.params.rate_array=JSON.parse(this.params.rate_array)),this.params.rate_array&&this.params.rate_array instanceof Array&&0<this.params.rate_array.length)if(7<this.params.rate_array.length)console.error("params rates length exceed, rates length max length is 7");else{for(var e=this.params.rate_array,t=!0,i=!1,a=0;a<e.length;a++){if(e[a]<.1||16<e[a]){t=!1;break}e[a]==this.defaultRate&&(i=!0)}if(t){if(this.rates=e,!i){var s=e.length;this.defaultRate=1<s?e[s-1]:e[0]}}else console.error("params rates is now allow, rate value must between 0.1 and 16.")}if(this.params.rate){for(var r=!1,n=0;n<this.rates.length;n++)if(this.rates[n]==this.params.rate){r=!0;break}r?this.defaultRate=this.params.rate:console.error("params rate is not in rates list")}if(this.params.rate_allow_change!=undefined){var o=String(this.params.rate_allow_change);"true"==o||"false"==o?"false"==o&&(this.rateAllowChange=!1,this.rates=[this.defaultRate]):console.error("params rate_allow_change can only be true or false")}},registerVideoListener:function(){var t=this;this.playerApi.registerVideoEvent("canplay",function(e){t.volume=e.target.volume,e.target.duration&&e.target.duration!==Infinity&&(t.timeTotal.innerHTML=R.timeFormat(e.target.duration)),t.startPlayed||R.isIPad()||R.isIPhone()||R.isAndroid()||(t.startPlayed=!0,t.hightlightsInit(),t.playerApi.setOuterApiProps({startPlayed:t.startPlayed})),t.isSwitchingQuality&&(t.isSwitchingQuality=!1)}),this.playerApi.registerVideoEvent("play",function(){t.triggerPlayTimes++,t.toggleBtn.className="ccH5TogglePause",t.autoFitProgressBar()}),this.playerApi.registerVideoEvent("pause",function(){t.toggleBtn.className="ccH5TogglePlay"}),this.playerApi.registerVideoEvent("playing",function(){t.toggleBtn.className="ccH5TogglePause"}),this.playerApi.registerVideoEvent("canplay",function(){t.playerApi.getCurrentTime()<1&&setTimeout(function(){t.playerApi.getVideostate()&&(t.playerApi.showPlayBtn(),t.toggleBtn.className="ccH5TogglePlay")},100)}),this.playerApi.registerVideoEvent("timeupdate",function(e){R.isIE()&&t.playerApi.getVideoRate()!=t.defaultRate&&t.playerApi.setVideoRate(t.defaultRate),"00:00"==t.timeTotal.innerHTML&&e.target.duration&&e.target.duration!==Infinity&&(t.timeTotal.innerHTML=R.timeFormat(e.target.duration)),t.playerApi.getVideostate()||(t.toggleBtn.className="ccH5TogglePause"),t.params.control_enable+""=="0"&&(t.ctrlBar.style.visibility="hidden"),t.isOnDrag||t.isSwitchingQuality||(t.timeCurrent.innerHTML=R.timeFormat(e.target.currentTime),t.proCurrent.style.width=e.target.currentTime/e.target.duration*t.ctrlWidth+"px")}),this.playerApi.registerVideoEvent("ended",function(e){t.toggleBtn.className="ccH5TogglePlay",t.show()}),this.playerApi.registerVideoEvent("touchend",function(e){1==e.changedTouches.length&&t.toggleCtrlBar()})},addEvents:function(){var t=this,e=this;R.addListener(this.toggleBtn,"click",function(){e.playerApi.toggleVideoPlay()}),this.initQualityEvent(),this.toggleFade(),this.initVmEvent(),this.initPlayRateEvent(),this.initFullscreenEvent(),this.initProgressDragEvent(this.dragBtn),this.initProgressBarMoveEvent(),R.addListener(u,"online",function(){var e=t.hdUL.querySelector(".selected");e&&e.click()}),R.isIPad()||R.isMoble()||R.addListener(this.playListBtn,"click",function(){e.ccPlayList.isShowing()?e.ccPlayList.hidePlayList():e.ccPlayList.showPlayList()})},initPlayRateEvent:function(){var a=this,s=this;u.CCH5playerSwitchQSpeed=function(e){var t=a.rates.length-e;try{a.spUL.querySelectorAll("li")[t].click()}catch(i){console.error("设置倍速的值不合法")}},"ontouchstart"in u&&!R.isTV08()?R.addListener(this.spBtn,"touchstart",function(){s.isShowSpBtn?(s.isShowSpBtn=!1,s.toggleSpHide()):(s.isShowSpBtn=!0,s.toggleSp())}):(R.addListener(this.spBtn,"mouseover",function(){s.toggleSp()}),R.addListener(this.spBtn,"mouseout",function(){s.toggleSpHide()}),R.addListener(this.spUL,"mouseover",function(){s.toggleSp()}),R.addListener(this.spUL,"mouseout",function(){s.toggleSpHide()}));for(var r=this.defaultRate,n=this.rates,e=0;e<n.length;e++)this.spLi[e].index=e,R.addListener(this.spLi[e],"click",function(){for(var e=n[this.index],t=0;t<n.length;t++)s.spLi[t].className="";this.className="selected",R.isIPad()&&s.playerApi.videoPause(),s.playerApi.setVideoRate(e);var i=s.playerApi.getVideoSrc();if(s.playerApi.triggerPlayerEvent(s.playerApi.playerEvent.changeSpeed,r,n[this.index],i),s.banSwitchSpeedCallback||R.invokeWindow("on_switch_rate",s.videoPlayData.vid,e),s.banSwitchSpeedCallback=!1,u.sessionStorage){var a=JSON.parse(u.sessionStorage.getItem("ccH5PlayerStorage"))||{};a.rate=e,u.sessionStorage.setItem("ccH5PlayerStorage",(0,h["default"])(a))}r=e,s.defaultRate=e,s.spUL.style.display="none",s.spBtn.classList.remove("ccH5Btn-hover"),s.isShowSpBtn=!1,s.spBtn.innerHTML=this.innerHTML,R.isIPad()&&setTimeout(function(){s.playerApi.videoPlay()},300)});this.resetSp();var t=function t(){a.playerApi.setVideoRate(a.defaultRate),0<a.playerApi.getCurrentTime()&&a.playerApi.getVideoRate()==a.defaultRate&&a.playerApi.removeVideoEvent("timeupdate",t)};this.playerApi.registerVideoEvent("timeupdate",t)},initVmEvent:function(){var e=this,t=this;R.addListener(this.vmBtn,"click",function(){e.mute()}),this.dragVm(),R.addListener(this.vmBtn,"mouseover",function(){t.vmShow()}),R.addListener(this.vmBtn,"mouseout",function(){t.vmHide()}),R.addListener(this.vmDiv,"mouseover",function(){t.vmShow()}),R.addListener(this.vmDiv,"mouseout",function(){t.vmHide()})},vmShow:function(){this.vmDiv.style.display="block",clearTimeout(this.vmTimer)},vmHide:function(){var e=this;this.vmTimer=setTimeout(function(){e.vmDiv.style.display="none"},300)},initFullscreenEvent:function(){var t=this,e=!1;if(this.params.listid){var i=d.fullscreenElement||d.msFullscreenElement||d.mozFullScreenElement||d.webkitFullscreenElement||!1;(e=i)?(this.fullsBtn.style.display="none",this.exitFullsBtn.style.display="block"):(this.fullsBtn.style.display="block",this.exitFullsBtn.style.display="none")}this.isClickExitFulls=!1;for(var a=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],s=0;s<a.length;s++){var r=a[s];this.playerApi.addGlobalEvent(d,r,function(){0==(e=!e)&&t.exitFullsBtn.click()})}R.addListener(this.fullsBtn,"click",function(e){t.playerApi.fullScreen(t.parentEle),t.ctrlWidth=t.parentEle.clientWidth}),R.addListener(this.exitFullsBtn,"click",function(e){t.isClickExitFulls||(t.playerApi.exitFullScreen(e),t.ctrlWidth=t.parentEle.clientWidth)})},initQualityEvent:function(){if("false"!==this.params.allowSelectHd){var t=this;"ontouchstart"in u&&!R.isTV08()?R.addListener(this.hdBtn,"touchstart",function(){t.isShowHDBtn?(t.isShowHDBtn=!1,t.toggleHdHide()):(t.isShowHDBtn=!0,t.toggleHd())}):(R.addListener(this.hdBtn,"mouseover",function(){t.toggleHd()}),R.addListener(this.hdBtn,"mouseout",function(){t.toggleHdHide()}),R.addListener(this.hdUL,"mouseover",function(){t.toggleHd()}),R.addListener(this.hdUL,"mouseout",function(){t.toggleHdHide()})),u.CCH5playerSwitchQuality=function(e){t.setQuality(e)},this.initSwitchQualityEvent()}},initData:function(){if(this.ctrlBar=R.queryEle("section",this.parentEle),this.loadBar=R.queryEle(".ccH5LoadBar",this.parentEle),this.toggleBtn=R.queryEle(".ccH5TogglePlay",this.parentEle),this.progressBar=R.queryEle(".ccH5ProgressBar",this.parentEle),this.dragBtn=R.queryEle(".ccH5DragBtn",this.parentEle),this.proCurrent=R.queryEle(".ccH5CurrentPro",this.parentEle),this.timeCurrent=R.queryEle(".ccH5TimeCurrent",this.parentEle),this.timeTotal=R.queryEle(".ccH5TimeTotal",this.parentEle),this.fullsBtn=R.queryEle(".ccH5FullsBtn",this.parentEle),this.exitFullsBtn=R.queryEle(".ccH5ExitFullsBtn",this.parentEle),this.hdBtn=R.queryEle(".ccH5hd",this.parentEle),this.hdUL=R.queryEle(".ccH5hdul",this.parentEle),this.spBtn=R.queryEle(".ccH5sp",this.parentEle),this.spUL=R.queryEle(".ccH5spul",this.parentEle),this.spLi=R.queryEleAll("li",this.spUL),this.vmBtn=R.queryEle(".ccH5vm",this.parentEle),this.vmDiv=R.queryEle(".ccH5vmdiv",this.parentEle),this.vmDragBtn=R.queryEle(".ccH5DragVmBtn",this.parentEle),this.vmBar=R.queryEle(".ccH5vmbar",this.parentEle),this.vmPro=R.queryEle(".ccH5vmbarPro",this.parentEle),this.preViewTime=R.queryEle("#cch5CurrentTime",this.parentEle),this.preViewTimeTips=R.queryEle("span",this.preViewTime),R.queryEle(".ccH5hd",this.parentEle).innerHTML=this.playerApi.getCurrentCopy().desp,u.sessionStorage){var e=JSON.parse(u.sessionStorage.getItem("ccH5PlayerStorage"))||{};this.params.defaultDf&&e.df&&this.params.defaultDf!=e.df&&(e.df=this.params.defaultDf,u.sessionStorage.setItem("ccH5PlayerStorage",(0,h["default"])(e)))}this.playListBtn=R.queryEle(".ccH5ListBtn",this.parentEle),this.params.listid&&!R.isIPad()&&!R.isMoble()||(this.playListBtn.style.display="none"),this.autoFitProgressBar(),(/(iPad; CPU OS 5_0_1 like Mac OS X)/i.test(navigator.userAgent)||/Chrome\/30\.0\.0\.0 Safari\/537\.36/i.test(navigator.userAgent))&&(this.spBtn.style.display="none",this.fullsBtn.style.display="none"),this.params.showRateBtn+""=="false"&&(this.spBtn.style.display="none"),this.params.showFullScreenBtn+""!="false"&&!R.isAudioPlay(this.params,this.videoPlayData)||(this.fullsBtn.style.display="none"),"false"===this.params.showHdBtn||0==this.videoPlayData.videoCopies.length||R.isRealtimePlay(this.videoPlayData)?this.hdBtn.style.display="none":this.initQuality(),this.params.volumn===undefined||isNaN(parseFloat(this.params.volumn))||("string"==typeof this.params.volumn&&(this.params.volumn=parseFloat(this.params.volumn)),this.setVolume(this.params.volumn))},createView:function(){var e="<section class='"+("true"===this.params.playReadyShowCtrol?"":"ccH5FadeOut")+"'>\t\t<div class='ccH5ProgressBar'>\t\t\t<div class='cch5CurrentTime' id='cch5CurrentTime'>\t\t\t\t<p></p>\t\t\t\t<span></span>\t\t\t\t<div class='trangel'></div>\t\t\t</div>\t\t\t<div class='ccH5LoadBar'>\t\t\t\t<div class='ccH5CurrentPro' style='width: 0;'>\t\t\t\t\t<span class='ccH5DragBtn'></span>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t\t<span class='ccH5TogglePlay'></span>\t\t<div class='ccH5Time'>\t\t\t<em class='ccH5TimeCurrent'>00:00</em><span>/</span><em class='ccH5TimeTotal'>00:00</em>\t\t</div>\t\t<span class='ccH5vm'>T</span>\t\t<div class='ccH5vmdiv'>\t\t\t<div class='ccH5vmbar'>\t\t\t\t<div class='ccH5vmbarPro'>\t\t\t\t\t<span class='ccH5DragVmBtn'></span>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t\t<span class='ccH5sp'>"+decodeURIComponent("%E6%AD%A3%E5%B8%B8")+"</span>     <div class='ccH5ListBtn'>列表</div>\t\t<ul class='ccH5spul' style='bottom:36px;top:auto;'>\t\t</ul>\t\t<span class='ccH5hd'></span>\t\t<ul class='ccH5hdul'>\t\t</ul>\t\t<em class='ccH5FullsBtn'>B</em>\t\t<em class='ccH5ExitFullsBtn'>B</em></section>",t=d.createElement("section");this.parentEle.appendChild(t),t.outerHTML=e,R.queryEle("section",this.parentEle).style.zIndex=this.zIndex,this.createCutTime();for(var i=R.queryEle(".ccH5spul",this.parentEle),a="",s=0;s<this.rates.length;s++)a=a+'<li data-sp="'+this.rates[s]+'">'+(1==this.rates[s]?"正常":this.rates[s]+"倍")+"</li>";i.innerHTML=a},createCutTime:function(){var i=this;if(!R.isMoble()&&!R.isIPad()&&"cut"===this.params.previewMode){var e=d.createElement("div");R.queryEle("section",this.parentEle).appendChild(e),e.outerHTML='<div class="ccCutSetting" style="width:50%;min-width:240px;height:30px;line-height:30px;position:absolute;top:5px;right:0;background:#000;text-align:right"><span class="ccCutStartTime" style="background:#ff920a;color:#fff;margin-right:10px;padding:2px 4px">设为开始时间</span><span class="ccCutEndTime" style="background:#ff920a;color:#fff;margin-right:10px;padding:2px">设为结束时间</span></div>';var t=R.queryEle(".ccCutStartTime",this.parentEle),a=R.queryEle(".ccCutEndTime",this.parentEle);t.onclick=function(e){var t=i.playerApi.getCurrentTime();R.invokeWindow("setStartTime",t)},a.onclick=function(e){var t=i.playerApi.getCurrentTime();R.invokeWindow("setEndTime",t)}}},toggleHd:function(){this.hdUL.style.display="block",this.hdBtn.classList.add("ccH5Btn-hover"),this.spUL.style.display="none",this.spBtn.classList.remove("ccH5Btn-hover"),this.isShowHDBtn=!0,clearTimeout(this.hdtimer)},toggleHdHide:function(){var e=this;this.hdtimer=setTimeout(function(){e.hdUL.style.display="none",e.hdBtn.classList.remove("ccH5Btn-hover"),e.isShowHDBtn=!1},200)},toggleSp:function(){this.rateAllowChange&&(this.spUL.style.display="block",this.hdBtn.classList.remove("ccH5Btn-hover"),this.spBtn.classList.add("ccH5Btn-hover"),clearTimeout(this.sptimer))},toggleSpHide:function(){var e=this;this.sptimer=setTimeout(function(){e.spUL.style.display="none",e.spBtn.classList.remove("ccH5Btn-hover")},200)},findQualityIdx:function(){for(var e=this.hdUL.getElementsByTagName("li"),t=0;t<e.length;t++)if("selected"===e[t].className)return t},findSpeedIdx:function(){for(var e=this.spUL.getElementsByTagName("li"),t=0;t<e.length;t++)if("selected"===e[t].className)return t},initQuality:function(){this.hdUL.innerHTML="";var e=[];e=this.playerApi.isVideoPlay()?this.videoPlayData.videoCopies:this.videoPlayData.audioCopies;for(var t=0;t<e.length;t++){this.hdUL.style.top=30*-e.length+"px";var i=d.createElement("li"),a=d.createTextNode(e[t].desp);i.appendChild(a),this.hdUL.appendChild(i),this.hdUL.style.top=30*-e.length+"px"}},initSwitchQualityEvent:function(){var n=this.hdUL.getElementsByTagName("li");if(!(n.length<1))for(var e=0;e<n.length;e++){var o=this;if(n[e].index=e,n[e].innerHTML==this.hdBtn.innerHTML&&(n[e].className="selected"),this.params.allowMaxDf)if(this.videoPlayData.videoCopies[e].quality>this.params.allowMaxDf)continue;R.addListener(n[e],"click",function(){o.isSwitchingQuality=!0,o.playerApi.showLoading();for(var e=0;e<o.spLi.length;e++)"selected"===o.spLi[e].className&&o.spLi[e];for(var t=0;t<n.length;t++)n[t].className="";this.className="selected",o.hdBtn.innerHTML=this.innerText,o.hdUL.style.display="none",o.hdBtn.classList.remove("ccH5Btn-hover"),o.isShowHDBtn=!1;var i=o.playerApi.getCurrentTime(),a=o.playerApi.getVideoSrc(),s=null;if((s=o.playerApi.isVideoPlay()?o.videoPlayData.videoCopies[this.index]:o.videoPlayData.audioCopies[this.index]).index=this.index,o.playerApi.setVideoSrc(s.playurl),o.playerApi.setNewCopy(s),o.playerApi.triggerPlayerEvent(o.playerApi.playerEvent.changeQuality,a,""),R.invokeWindow("on_switch_quality",o.videoPlayData.vid,s.quality),u.sessionStorage){var r=JSON.parse(u.sessionStorage.getItem("ccH5PlayerStorage"))||{};r.df=s.quality,u.sessionStorage.setItem("ccH5PlayerStorage",(0,h["default"])(r))}o.playerApi.resolvePlayState(i)})}},mute:function(){this.videoMute=!this.videoMute,this.volume=this.playerApi.getVideoVolume(),this.videoMute&&0!=this.volume?(this.vmPro.style.top="80px",this.vmPro.style.height="0px",this.setVol(0),this.vmBtn.style.backgroundPosition="right center"):(this.vmPro.style.top="20px",this.vmPro.style.height="60px",this.setVol(.8),this.vmBtn.style.backgroundPosition="left center")},setVol:function(e,t){if(this.playerApi.setVideoVolume(e),t||R.invokeWindow("on_player_volumechange",e,this.params.vid),u.sessionStorage){var i=JSON.parse(u.sessionStorage.getItem("ccH5PlayerStorage"))||{};i.volume=1*e,u.sessionStorage.setItem("ccH5PlayerStorage",(0,h["default"])(i))}},posVm:function(e){var t=R.getMousePos(e).y-u.pageYOffset-R.getPos(this.vmBar).top;if(t<80&&0<t){this.vmPro.style.top=t+"px",this.vmPro.style.height=80-t+"px";var i=((80-t)/80).toFixed(1);this.setVol(i),0==i?(this.vmBtn.style.backgroundPosition="right center",this.videoMute=!0):(this.vmBtn.style.backgroundPosition="left center",this.videoMute=!1)}},dragVm:function(){var t=this;this.vmDragBtn.ontouchstart=this.vmDragBtn.onmousedown=function(e){e.preventDefault(),t.parentEle.ontouchmove=t.parentEle.onmousemove=function(e){e.preventDefault(),t.posVm(e)},t.parentEle.ontouchend=t.parentEle.onmouseup=function(){t.parentEle.ontouchend=t.parentEle.onmouseup=t.parentEle.ontouchmove=t.parentEle.onmousemove=null}}},ctrlFadeIn:function(){if(!("true"===this.params.playReadyShowCtrol&&this.triggerPlayTimes<1)){clearTimeout(this.hide_timer);var e=this;this.ctrlBar.className="ccH5FadeIn",this.ccPlayerMore.show(),this.ccPlayerShare&&this.ccPlayerShare.show(),this.ccPlayerRightMenu&&this.ccPlayerRightMenu.show(),this.hide_timer=setTimeout(function(){e.ctrlBar.className="ccH5FadeOut",e.toggleHdHide(),e.isShowHDBtn=!1,e.toggleSpHide(),e.isShowSpBtn=!1,e.ccPlayerMore.hide(),this.ccPlayerShare&&this.ccPlayerShare.hide(),this.ccPlayerRightMenu&&this.ccPlayerRightMenu.hide()},4e3)}},ctrlFadeOut:function(){"true"===this.params.playReadyShowCtrol&&this.triggerPlayTimes<1||(clearTimeout(this.hide_timer),"true"!==this.params.ctrolShowing&&(this.ctrlBar.className="ccH5FadeOut"),this.ccPlayerMore.hide(),this.ccPlayerShare&&this.ccPlayerShare.hide(),this.ccPlayerRightMenu&&this.ccPlayerRightMenu.hide())},toggleFade:function(){var t=this;R.addListener(this.parentEle,"mouseover",function(e){R.isQQ()&&R.isIPhone()&&"replaybtn"===e.target.id&&(t.playerApi.videoPlay(),setTimeout(function(){t.playerApi.getVideostate()&&t.playerApi.videoPlay()},1e3)),t.ctrlFadeIn()}),R.addListener(this.parentEle,"mousemove",function(){t.ctrlFadeIn()}),R.addListener(this.parentEle,"mouseleave",function(){t.ctrlFadeOut()})},toggleCtrlBar:function(){"ccH5FadeOut"==this.ctrlBar.className?this.ctrlFadeIn():this.ctrlFadeOut()},initProgressDragEvent:function(e){if("0"!==this.params.progressbar_enable){var o=this,l=0,c=0;e.ontouchstart=e.onmousedown=function(e){e.preventDefault();var t=o.playerApi.getCurrentTime();R.invokeWindow("on_player_start_drag",parseInt(t),o.params.vid);var n=!1;d.ontouchmove=d.onmousemove=function(e){try{e.preventDefault&&e.preventDefault()}catch(event){return void console.log(event)}var t=R.getMousePos(e,o.params),i=R.getPos(o.progressBar),a=t.x-i.left;a<=0?a=0:a>=o.ctrlWidth&&(a=o.ctrlWidth),o.isOnDrag=!0;var s=o.playerApi.getTotalTime();l=a/o.ctrlWidth*s,n=!0,o.playerApi.hidePlayBtn();var r=o.playerApi.getCurrentTime();(c=r)<0?o.playerApi.showInfo(R.timeFormat(0)):s<r?o.playerApi.showInfo(R.timeFormat(s-1)):o.playerApi.showInfo(R.timeFormat(r)),o.proCurrent.style.width=a+"px"},d.ontouchend=d.onmouseup=function(e){o.isOnDrag=!1,d.ontouchend=d.onmouseup=d.ontouchmove=d.onmousemove=null,o.playerApi.hideInfo(),"true"==o.params.banDrag&&l>=o.playerApi.getLastVideoTime()&&l>=o.playerApi.getCurrPlayedMaxTime()||(o.playerApi.setCurrentTime(l),n&&o.onDragProgressBar(c,l),n=!1,o.params.controlBarNode||setTimeout(function(){o.playerApi.videoPlay()},100))}},this.progressBar.ontouchstart=this.progressBar.onclick=function(e){c=o.playerApi.getCurrentTime();var t=R.getMousePos(e,o.params),i=R.getPos(o.progressBar),a=t.x-i.left,s=o.playerApi.getTotalTime(),r=a/o.ctrlWidth*s;o.ccPlayerExercise?o.ccPlayerExercise.checkExercise(r):"true"==o.params.banDrag&&r>=o.playerApi.getLastVideoTime()&&r>=o.playerApi.getCurrPlayedMaxTime()||("true"!==o.params.banDrag&&o.proCurrent.style&&(o.proCurrent.style.width=r/s*o.ctrlWidth+"px"),o.playerApi.setCurrentTime(r),o.onDragProgressBar(c,r),o.ccPlayerQA&&o.ccPlayerQA.queryAnswer())}}},onDragProgressBar:function(e,t){var i=this.playerApi.getTotalTime();t<0?t=0:i<t&&(t=i),"true"===this.params.banDrag||parseInt(e)===parseInt(t)||parseInt(e)<0||R.invokeWindow("on_player_seek",parseInt(e),parseInt(t),this.params.vid)},initProgressBarMoveEvent:function(){if(!("ontouchstart"in u)){var l=this,c=this.videoPlayData.videothumbnails||[];0!=c.length&&(this.videoPlayData.videothumbnails.forEach(function(e,t){var i=new Image;e.url=e.url.replace(/http:/,"https:"),i.src=e.url;var a=parseInt(e.url.match(/[0-9]+(?=[^0-9]*$)/)[0]);c[a]=e}),this.progressBar.addEventListener("mousemove",function(e){var t=R.getMousePos(e).x-R.getPos(this).left,i=0;(i=0!==c.length?t-80:t-25)<0&&(i=0),i>this.clientWidth-50&&(i=this.clientWidth-50),0!==c.length&&i>this.clientWidth-160&&(i=this.clientWidth-160),l.preViewTime.style.left=i+"px",l.preViewTime.style.display="block";var a=t/l.ctrlWidth;1<a&&(a=1);var s=a*l.playerApi.getTotalTime();isNaN(s)&&(s=0);var r=R.timeFormat(s);if(0!==c.length){l.preViewTime.style.width="160px",l.preViewTime.style.paddingTop="90px",l.preViewTime.style.height="auto";var n=parseInt(s/6%10),o=parseInt(s/6/10);l.preViewTime.style.backgroundImage="url('"+c[parseInt(s/600)].url+"')",l.preViewTime.style.backgroundPosition=-160*n+"px "+-90*o+"px"}0===s&&(l.preViewTime.style.display="none"),l.preViewTime.querySelector("p").innerText=r}),this.progressBar.addEventListener("mouseout",function(e){l.preViewTime.style.display="none"}))}},hide:function(){this.ctrlBar.style.display="none"},show:function(){this.ctrlBar.style.display="block"},showMore:function(){R.queryEle(".ccH5More",this.parentEle).style.className="ccH5More ccH5FadeIn"},hideMore:function(){R.queryEle(".ccH5More",this.parentEle).style.className="ccH5More ccH5FadeOut"},resetSp:function(e){e?this.defaultRate=e:e=this.defaultRate,this.banSwitchSpeedCallback=!0;for(var t=0,i=0;i<this.rates.length;i++)if(e==this.rates[i]){t=i;break}this.spUL.getElementsByTagName("li")[t].click()},hightlightsInit:function(){"mark"===this.params.previewMode&&delete this.videoPlayData.exercises;var e=this.videoPlayData,t=this.playerApi.getTotalTime();if(e.exercises===undefined||R.isMoble()||R.isIPad()){if(e.videomarks)for(i=0;i<e.videomarks.length;i++){s=e.videomarks[i].marktime,r=e.videomarks[i].markdesc;this.createHightlights(s,r),(a=parseInt(s/t*this.ctrlWidth))<60&&this.parentEle.getElementsByClassName("ccHightlightsTips")[i].classList.add("hov"),a>this.ctrlWidth-60&&this.parentEle.getElementsByClassName("ccHightlightsTips")[i].classList.add("lasthov")}}else for(var i=0;i<e.exercises.length;i++){var a,s=e.exercises[i].showTime,r=e.exercises[i].title;this.createHightlights(s,r),(a=parseInt(s/t*this.ctrlWidth))<60&&this.parentEle.getElementsByClassName("ccHightlightsTips")[i].classList.add("hov"),a>this.ctrlWidth-60&&this.parentEle.getElementsByClassName("ccHightlightsTips")[i].classList.add("lasthov")}},createHightlights:function(e,t){var i=this.videoPlayData,a=d.createElement("span"),s=this.playerApi.getTotalTime(),r=parseInt(s),n=this;a.className="ccHightlights",a.style.left=(e/r*100).toFixed(4)+"%",i.videothumbnail&&0!==i.videothumbnail.length&&i.exercises===undefined?(a.addEventListener("mouseover",function(){n.preViewTimeTips.innerText=t}),a.addEventListener("mouseout",function(){n.preViewTimeTips.innerText=""})):a.innerHTML="<span class='ccHightlightsTips'>"+t+"</span>",this.progressBar.appendChild(a)},updateLoadBar:function(e,t){var i=Math.round(e/t*this.ctrlWidth);"240837"==this.videoPlayData.uid?this.loadBar.style.width=i+12+"px":this.loadBar.style.width=i+"px"},autoFitProgressBar:function(){var e=this.ctrlWidth;R.isAndroid()||R.isIPhone(this.params)?(this.ctrlWidth=this.parentEle.clientWidth-247,"240837"==this.videoPlayData.uid&&(this.ctrlWidth=this.parentEle.clientWidth-214),R.isAudioPlay(this.params,this.videoPlayData)&&("none"==this.hdBtn.style.display?(this.progressBar.style.right="85px",this.ctrlWidth=this.parentEle.clientWidth-204):(this.progressBar.style.right="138px",this.ctrlWidth=this.parentEle.clientWidth-257))):R.isIPad()?(this.ctrlWidth=this.parentEle.clientWidth-372,"231986"==this.videoPlayData.uid&&(this.ctrlWidth=this.parentEle.clientWidth-220)):this.ctrlWidth=this.parentEle.clientWidth,e!=this.ctrlWidth&&(this.proCurrent.style.width=this.playerApi.getCurrentTime()/this.playerApi.getTotalTime()*this.ctrlWidth+"px")},getQualities:function(){var t=[];return(this.playerApi.isVideoPlay()?this.videoPlayData.videoCopies:this.videoPlayData.audioCopies).forEach(function(e){e.quality&&e.desp&&t.push({value:e.quality,label:e.desp})}),t},setQuality:function(i){var a=0;(this.playerApi.isVideoPlay()?this.videoPlayData.videoCopies:this.videoPlayData.audioCopies).some(function(e,t){return a=t,e.quality==i})?this.hdUL.querySelectorAll("li")[a].click():console.error("设置清晰度的值不合法")},setVolume:function(e,t){!/^\d+(\.\d+)?$/.test(e)||1<e||e<0?console.error("设置音量取值范围为：[0-1]"):(0==(e=(1*e).toFixed(2))?(this.vmBtn.style.backgroundPosition="right center",this.videoMute=!0):(this.vmBtn.style.backgroundPosition="left center",this.videoMute=!1),this.vmPro.style.top=80*(1-e)+"px",this.vmPro.style.height=80*e+"px",this.setVol(e,t))},switchFullsBtnStyle:function(e){!0===e?(this.isClickExitFulls=!1,this.params.showFullScreenBtn+""!="false"&&(this.fullsBtn.style.display="none",this.exitFullsBtn.style.display="block")):(this.isClickExitFulls=!0,this.params.showFullScreenBtn+""!="false"&&(this.fullsBtn.style.display="block",this.exitFullsBtn.style.display="none"))},setVideoMarks:function(e){if(!(R.isIPad()||R.isIPhone()||R.isAndroid())){e=e||[];for(var t=0;t<e.length;t++){var i=e[t];i.hasOwnProperty("mark_desc")&&!i.hasOwnProperty("markdesc")&&(i.markdesc=i.mark_desc,i.marktime=i.mark_time,delete i.mark_desc,delete i.mark_time)}this.videoPlayData.videomarks=e,delete this.videoPlayData.exercises;for(var a=R.queryEleAll(".ccHightlights",this.parentEle),s=0;s<a.length;s++){var r=a[s];r.parentNode.removeChild(r)}this.hightlightsInit()}},showMarkDesc:function(e){for(var t=this.playerApi.getTotalTime(),i=(e/parseInt(t)*100).toFixed(4),a=R.queryEleAll(".ccHightlights",this.parentEle),s=0;s<a.length;s++){var r=a[s];if(r.style.left.replace(/%$/,"")==i){r.style.display="block",R.queryEle("span",r).style.display="block";var n=setTimeout(function(){r.style.display=null,R.queryEle("span",r).style.display=null,clearTimeout(n)},1500);return}}},setCutSection:function(e){e=e||[];var t=R.queryEle(".ccCutBox",this.parentEle);t&&t.parentNode.removeChild(t);var i=d.createElement("div");this.progressBar.appendChild(i),i.outerHTML='<div class="ccCutBox" style="height:10px;position:absolute;bottom:200%;left:0;right:0;cursor:default;"></div>';for(var a=0;a<e.length;a++){var s=e[a];this.createCutLine(s.start,s.end)}},createCutLine:function(e,t){this.lineBox=R.queryEle(".ccCutBox",this.parentEle);var i=d.createElement("div"),a=this.playerApi.getTotalTime(),s=parseInt(a),r='<div style="height:3px;position:absolute;bottom:3px;background:#ffcc01;left:'+(e/s*100+"%")+";width:"+((t-e)/s*100+"%")+'"><div style="position:absolute;width:3px;height:10px;left:0px;top:-100%;background:#ffcc01;border-radius:2px"></div><div style="position:absolute;width:3px;height:10px;right:0px;top:-100%;background:#ffcc01;border-radius:2px"></div></div>';this.lineBox.appendChild(i),i.outerHTML=r}},u.CCH5PlayerCtrol=function(e,t,i,a,s,r,n,o,l,c,d){var h=new p(e,t,i,a,s,r,n,o,l,c,d);return{init:function(){h.init()},hide:function(){h.hide()},show:function(){h.show()},updateLoadBar:function(e,t){h.updateLoadBar(e,t)},toggleCtrlBar:function(){h.toggleCtrlBar()},exitFulls:function(){h.exitFullsBtn.click()},resetSp:function(e){h.resetSp(e)},getQualities:function(){return h.getQualities()},setQuality:function(e){h.setQuality(e)},setVolume:function(e){h.setVolume(e)},switchFullsBtnStyle:function(e){h.switchFullsBtnStyle(e)},autoFitProgressBar:function(){h.autoFitProgressBar()},getCtrolDom:function(){return{fullsBtn:h.fullsBtn,progressBar:h.progressBar}},setVideoMarks:function(e){h.setVideoMarks(e)},showMarkDesc:function(e){h.showMarkDesc(e)},setCutSection:function(e){h.setCutSection(e)},destroy:function(){var e=!0,t=!1,i=undefined;try{for(var a,s=(0,q["default"])(h.intervals);!(e=(a=s.next()).done);e=!0){var r=a.value;u.clearInterval(r)}}catch(n){t=!0,i=n}finally{try{!e&&s["return"]&&s["return"]()}finally{if(t)throw i}}}}}}}(window),o=window,l=o.document,c=function c(e,t,i,a,s){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s},c.prototype={init:function(){this.createView(),this.initData(),this.registerVideoListener()},createView:function(){var e=l.createElement("div");if(this.parentEle.appendChild(e),e.outerHTML="<div id='ccH5classTestContainer' class='ccH5classTestContainer'><div id='ccH5classTest'></div><div class='outerBtnsBox'></div></div>",this.classTestOuterBox=R.queryEle("#ccH5classTestContainer",this.parentEle),this.classTestOuterBox.style.zIndex=this.zIndex,!(R.isAndroid()||R.isIPhone(this.params)||R.isIPad()||R.isWindowsPhoneOS())){var t=this.parentEle.offsetHeight/this.parentEle.offsetWidth,i=(.8*this.parentEle.offsetWidth).toFixed(2);this.classTestOuterBox.style.width=i+"px",this.classTestOuterBox.style.height=i*t+"px"}},initData:function(){this.ccMask=R.queryEle("#ccMask",this.parentEle),this.classTestContainer=R.queryEle("#ccH5classTest",this.parentEle),this.classTestExercisesIdx=0,this.classTestQuestionIdx=0,this.countPrevious=0,this.classTestAnswers={}},registerVideoListener:function(){var d=this,h=this.videoPlayData;this.playerApi.registerVideoEvent("timeupdate",function(){var e=h.exercises;if(!(e==undefined||e&&e.length<1||d.classTestExercisesIdx>=e.length)){var t=e[d.classTestExercisesIdx],i=d.playerApi.getCurrentTime(),a=parseInt(i),s=t.showTime;if("block"!==d.ccMask.style.display&&s<=a){var r=t.questions,n=d.classTestAnswers[d.classTestExercisesIdx],o=r?(0,E["default"])(r):[],l=n?(0,E["default"])(n):[];if(0<l.length&&l.length<o.length){var c=1*l[l.length-1];if(1+c>=o.length)return;return R.queryEleAll(".ccTestContainer",d.classTestContainer)[d.classTestQuestionIdx].style.display="none",d.classTestQuestionIdx=1+c,d.playerApi.videoPause(),d.updateCurrExerciseProgress(),R.queryEleAll(".ccTestContainer",d.classTestContainer)[d.classTestQuestionIdx].style.display="block",d.classTestOuterBox.style.display="block",d.ccMask.style.display="block",void setTimeout(function(){d.setListToBottom()},300)}d.playerApi.videoPause(),d.createExercises(h.exercises[d.classTestExercisesIdx],d),d.classTestOuterBox.style.display="block"}}})},createExercises:function(r,n){n.ccMask.style.display="block",this.changeTestStyle("small");for(var e='<div class="ccTestHeader"><div class="ccTestProgressBg"><div class="ccTestProgress"></div></div><div class="ccTestHeaderTitle"><div style="float:left;max-height:50px;overflow:hidden;max-width:80%;display:inline-block;">'+r.title+'</div><span><i class="currQuestionNum">1</i>/<i class="questionTotal"></i></span></div>'+(1===r.isJump?'<div class="ccTestJumpOverBtn"></div>':"")+"</div>",t=(0,E["default"])(r.questions).length,i=0;i<t;i++)e+=n.createQuestions(r.questions[i]);e+='<div class="ccTestContainer"></div>',n.classTestContainer.innerHTML=e,R.queryEle(".questionTotal",n.classTestContainer).innerHTML=t,R.queryEleAll(".ccTestContainer",n.classTestContainer)[n.classTestQuestionIdx].style.display="block",n.ccTestProgress=R.queryEle(".ccTestProgress",n.classTestContainer),n.updateCurrExerciseProgress(),setTimeout(function(){n.setListToBottom()},300),n.classTestContainer.onclick=function(e){var t=this.querySelectorAll(".ccTestContainer")[n.classTestQuestionIdx],i=R.queryEle("#submit",t);"label"===e.target.nodeName.toLowerCase()&&(0===n.videoPlayData.exercises[n.classTestExercisesIdx].questions[n.classTestQuestionIdx].type?(t.querySelectorAll("label").forEach(function(e){e.className=""}),e.target.className="selected"):"selected"===e.target.className?e.target.className="":e.target.className="selected",setTimeout(function(){n.checkSelected(t,n)},200));if("text"===e.target.type&&(i.className="submit",i.onclick=function(e){e.stopPropagation(),n.submitBtnEvent(t,n)}),1===r.isJump&&"ccTestJumpOverBtn"===e.target.className){n.continuePlay();var a=R.queryEle("#previous",n.classTestOuterBox),s=R.queryEle("#next",n.classTestOuterBox);a&&(a.onclick=null),s&&(s.onclick=null),R.queryEle(".outerBtnsBox",n.classTestOuterBox).innerHTML=""}}},createQuestions:function(e){var i="";return 0===e.type?e.answers.forEach(function(e,t){i+='<label><input type="radio" name="radio" style="visibility: hidden;">'+e.content+"</label>"}):1===e.type?e.answers.forEach(function(e,t){i+='<label><input type="checkbox" name="checkbox" style="visibility: hidden;">'+e.content+"</label>"}):i='\t\t<div class="front">'+e.content+'</div>\t\t<input type="text">\t\t<div class="end">'+e.content2+"</div>",'<div class="ccTestContainer"><div class=\'ccTestOuter\'>\t<div class="ccTestBox">\t\t<div class="title">\t\t\t<span class="testType">'+["单选","多选","填空"][e.type]+"</span>\t\t\t<p>"+(2===e.type?"":e.content)+'</p>\t\t</div>\t\t<div class="selectesBox '+(2===e.type?"blank":1===e.type?"checkBox":"")+'" >\t\t\t<div class="testMask"></div>'+i+'\t\t</div>\t</div> <div class="ccTestanswerOuter">\t    <div class="ccTestanswerBox">\t    </div>\t</div></div>\t<div class="ccTestBtnsBox">\t\t<button class="disabled" id="submit">提交</button>\t</div></div>'},checkSelected:function(t,i){var e=t.querySelector("#submit");Array.prototype.slice.call(t.querySelectorAll("input")).some(function(e){return e.checked})?(e.className="submit",e.onclick=function(e){e.stopPropagation(),i.submitBtnEvent(t,i)}):(e.className="disabled",e.onclick=null)},submitBtnEvent:function(e,a){var t=this.videoPlayData,i=e.querySelectorAll("label"),s=t.exercises[a.classTestExercisesIdx].questions[a.classTestQuestionIdx],r=s.type,n=s.answers,o=!1,l="",c=t.exercises[a.classTestExercisesIdx].isPlay,d=t.exercises[a.classTestExercisesIdx].backSecond;if(0<s.backSecond&&(d=s.backSecond),2!==r)i.forEach(function(e,t){"selected"===e.className?(n[t].right?e.className="right":(e.className="wrong",o=!0),l+=String.fromCharCode(65+t)+" "):(e.className="unselected",n[t].right&&(e.className="right",o=!0))});else{var h=e.querySelector("input"),u=h.value.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");u===n[0].content?h.className="correct":(h.className="wrong",o=!0),l=u}R.queryEle(".testMask",e).style.display="block",a.classTestAnswers[a.classTestExercisesIdx]===undefined&&(a.classTestAnswers[a.classTestExercisesIdx]={});var p=a.classTestAnswers[a.classTestExercisesIdx];p[a.classTestQuestionIdx]={questionId:null,isRight:null},p[a.classTestQuestionIdx].isRight=!0===o?0:1,p[a.classTestQuestionIdx].questionId=s.id;var y=R.queryEle(".ccTestanswerBox",e),m="",f=R.queryEle(".outerBtnsBox",a.classTestOuterBox);m=2!==r?n.reduce(function(e,t,i){return t.right?e+String.fromCharCode(65+i):e},m):n[0].content,y.style.display="block",y.innerHTML=' <div class="row">\t<span>答案:</span>\t<div class="answerBox">\t\t<p>你的答案：<i class="yourAns">'+l+'</i></p>\t\t<p>正确答案：<i class="right">'+m+'</i></p>\t</div> </div> <p class="details"><span>解析：</span>'+s.explainInfo+"</p>",e.querySelector(".ccTestBtnsBox").innerHTML="",f.innerHTML='<button  id="previous">上一题</button><button  id="next">下一题</button>'+(0<d?'<button  id="backViewBtn">回看</button>':"");var v=R.queryEle("#previous",a.classTestOuterBox),g=R.queryEle("#next",a.classTestOuterBox),A=R.queryEle("#backViewBtn",a.classTestOuterBox);1!==p[a.classTestQuestionIdx].isRight&&1!==c&&(g.style.display="none"),0<=a.classTestQuestionIdx-1?v.onclick=function(e){e.stopPropagation(),a.classTestContainer.querySelectorAll(".ccTestContainer").forEach(function(e){e.style.display="none"}),a.classTestQuestionIdx--,0===a.classTestQuestionIdx&&(v.className="disabled"),a.classTestQuestionIdx<0?a.classTestQuestionIdx=0:a.countPrevious++,g.style.display="inline-block",R.queryEleAll(".ccTestContainer",a.classTestContainer)[a.classTestQuestionIdx].style.display="block",a.updateCurrExerciseProgress(),a.classTestOuterBox.scrollTo!==undefined?a.classTestOuterBox.scrollTo(0,0):a.classTestOuterBox.scrollTop=0,a.classTestQuestionIdx>=P-1?g.innerText="完成":g.innerText="下一题"}:v.className="disabled";var P=(0,E["default"])(t.exercises[a.classTestExercisesIdx].questions).length;g.onclick=function(e){if(p[a.classTestQuestionIdx+1]&&p[a.classTestQuestionIdx+1].questionId||1===p[a.classTestQuestionIdx].isRight||1===c){e.stopPropagation(),a.classTestContainer.querySelectorAll(".ccTestContainer").forEach(function(e){e.style.display="none"}),a.classTestQuestionIdx++,--a.countPrevious<0&&(f.innerHTML="",g.onclick=null,v.onclick=null,a.countPrevious=0);var t=p[a.classTestQuestionIdx+1]&&p[a.classTestQuestionIdx+1].questionId,i=p[a.classTestQuestionIdx];i&&i.questionId&&1!==i.isRight&&1!==c&&!t&&(g.style.display="none"),v.className="",R.queryEleAll(".ccTestContainer",a.classTestContainer)[a.classTestQuestionIdx].style.display="block",setTimeout(function(){a.setListToBottom()},300),a.updateCurrExerciseProgress(),a.classTestQuestionIdx===P&&a.createFinal(a),a.classTestOuterBox.scrollTo!==undefined?a.classTestOuterBox.scrollTo(0,0):a.classTestOuterBox.scrollTop=0,a.classTestQuestionIdx==P-1?g.innerText="完成":g.innerText="下一题",a.classTestQuestionIdx==P&&(f.innerHTML="",g.onclick=null,v.onclick=null)}},a.classTestQuestionIdx==P-1?g.innerText="完成":g.innerText="下一题",0<d&&(A.onclick=function(){a.playerApi.setCurrentTime(d),a.continuePlay(P),R.queryEle(".outerBtnsBox",a.classTestOuterBox).innerHTML=""}),a.classTestOuterBox.scrollTo!==undefined?a.classTestOuterBox.scrollTo(0,1e4):a.classTestOuterBox.scrollTop=1e4},createFinal:function(s){for(var e=s.classTestAnswers[s.classTestExercisesIdx],t="",i=(0,E["default"])(e).length,a=0,r=[],n=0;n<i;n++)r.push(e[n]),1===e[n].isRight&&a++,t+='<div class="row" id="q'+e[n].questionId+'"><div class="tipsBox"><p>统计数据加载中...</p><div class="triangle"></div></div><span>第'+(n+1)+'题</span><div class="progressBox"><div class="'+(1===e[n].isRight?"right":"wrong")+'">统计数据加载中...</div></div></div>';s.classTestContainer.querySelectorAll(".ccTestContainer")[s.classTestQuestionIdx].innerHTML='\t\t<div class="finalBox">\t\t     <h3>你答对了<i class="right">'+a+"</i>题，共<span>"+i+"</span>题</h3>"+t+'\t\t</div>\t<div class="ccTestBtnsBox">\t    <button  class="continue">继续学习</button>  </div>';var o=s.videoPlayData.exercises[s.classTestExercisesIdx].id,l=(0,h["default"])(r);R.ccJsonp({url:"https://spark.bokecc.com/servlet/exercise/collect",data:{exerciseId:o,questionMes:l},success:function(e){var t=s.classTestContainer.querySelector(".finalBox"),i=null,a=null;if("OK"!==e.result)throw"发送数据失败参考 "+e.error;e.accuracy.forEach(function(e){i=t.querySelector("#q"+e.questionId),"right"===(a=i.querySelector(".progressBox div")).className?(i.querySelector(".tipsBox p").innerText="居然有"+e.accuracy+"%的人答对了",a.style.width=e.accuracy+"%",a.innerText=e.accuracy+"%"):(i.querySelector(".tipsBox p").innerText="居然有"+(100-e.accuracy)+"%的人答错了",a.style.width=100-e.accuracy+"%",a.innerText=100-e.accuracy+"%")})},error:function(){}}),s.classTestContainer.querySelector(".ccTestBtnsBox .continue").onclick=function(e){e.stopPropagation(),s.continuePlay()}},createClassTestMask:function(e){var t=e,i=R.queryEle("#ccMask",t.parentEle);i.innerHTML='<div class="box">\t<span>&times;</span>\t<p>请先完成练习</p>\t<div class="btns">\t\t<button id="back">返回听课</button>\t\t<button id="continue">去做练习</button>\t</div> </div>',i.style.display="block";var a=R.queryEle("span",i),s=R.queryEle("#back",i),r=R.queryEle("#continue",i);function n(){i.style.display="none",(R.isMoble()||R.isIPad())&&(i.innerHTML="",i.style.display="block")}a.onclick=n,s.onclick=n,r.onclick=function(){n(),t.playerApi.videoPause(),t.createExercises(t.videoPlayData.exercises[t.classTestExercisesIdx],t),t.classTestOuterBox.style.display="block",t.classTestQuestionIdx=0}},setProgressBarCheckExercise:function(e){if(this.videoPlayData.exercises!==undefined&&this.classTestExercisesIdx<this.videoPlayData.exercises.length){var t=null;this.videoPlayData.exercises[this.classTestExercisesIdx]!==undefined&&(t=this.videoPlayData.exercises[this.classTestExercisesIdx].showTime),t<e&&this.createClassTestMask(this)}},changeTestStyle:function(e){if(this.parentEle.clientHeight<600){var t=R.queryEle("#ccH5classTest",this.parentEle);if(!t)return;t.className="small"===e?"small":""}},setListToBottom:function(){var e=R.queryEleAll(".ccTestContainer",this.classTestContainer)[this.classTestQuestionIdx],t=R.queryEle(".ccTestOuter",e);if(t){var i=t,a=i.clientHeight,s=i.scrollHeight,r=10;if(i.scrollTop+a<=s)var n=setInterval(function o(){var e=i.scrollTop;if(i.scrollTop=i.scrollTop+r,i.scrollTop-e<r)return void clearInterval(n);Math.ceil(i.scrollTop)+a>=s&&clearInterval(n)},20)}},resetDom:function(){var e=R.queryEle("#ccH5classTestContainer",this.parentEle);e&&e.parentNode.removeChild(e),this.ccMask.style.display="none"},viewPointExercise:function(e){for(var t=this.classTestExercisesIdx=0;t<this.videoPlayData.exercises.length;t++){if(this.videoPlayData.exercises[t].showTime==e){this.classTestExercisesIdx=t;break}}this.playerApi.videoPause(),this.createExercises(this.videoPlayData.exercises[this.classTestExercisesIdx],this),this.classTestOuterBox.style.display="block",this.classTestQuestionIdx=0},updateCurrExerciseProgress:function(){var e=this.videoPlayData,t=(0,E["default"])(e.exercises[this.classTestExercisesIdx].questions).length;if(!(this.classTestQuestionIdx>=t)){var i=this.classTestQuestionIdx+1;R.queryEle(".currQuestionNum",this.classTestContainer).innerHTML=i,this.ccTestProgress.style.width=parseInt(i/t*100)+"%"}},continuePlay:function(e){this.classTestOuterBox.style.display="none",(!e||this.classTestQuestionIdx>=e-1)&&(this.classTestExercisesIdx++,this.classTestQuestionIdx=0),this.playerApi.videoPlay(),this.ccMask.style.display="none"},getExerciseIsShow:function(){var e=R.queryEle("#ccH5classTestContainer",this.parentEle);return!(!e||"block"!==e.style.display)}},o.CCH5PlayerExercise=function(e,t,i,a,s){var r=new c(e,t,i,a,s);return{init:function(){r.init()},checkExercise:function(e){r.setProgressBarCheckExercise(e)},changeTestStyle:function(e){r.changeTestStyle(e)},resetDom:function(){r.resetDom()},viewPointExercise:function(e){r.viewPointExercise(e)},getExerciseIsShow:function(){return r.getExerciseIsShow()}}},function(i){if("function"!=typeof CCH5PlayerLoadingPic){var n=function n(e,t,i,a,s){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s};n.prototype={constructor:n,init:function(){this.checkUrl()},checkUrl:function(){var e=this,t=this.params.loadingPic;if(/https?:\/\/.+/.test(t)&&/\.(gif|jpg|jpeg|png|GIF|JPG|PNG|JPEG)$/.test(t)){var i=new Image;i.src=t,i.onload=function(){e.createView(),e.initEvents(),e.registerVideoListener()},i.onerror=function(){console.error("片头素材加载失败")}}else console.error("片头素材地址或格式不符合规范")},createView:function(){var e=this,t=R.getRandomWinFuncName("cch5player");i[t]=function(){e.fitPicStyle()},this.picEle=document.createElement("img"),this.picEle.src=this.params.loadingPic,this.picEle.style.display="block",this.parentEle.appendChild(this.picEle),this.picEle.style.position="absolute",this.picEle.style.zIndex=this.zIndex,this.picEle.onload=i[t],this.picEle.style.userSelect="none;",this.picEle.style.maxHeight="100%",this.picEle.style.border="0"},registerVideoListener:function(){var t=this;this.playerApi.registerVideoEvent("progress",function(){if("none"!==t.picEle.style.display){var e=t.playerApi.getVideoBuffered();if(e&&!(e&&e.length<1))e.end(0)<3||(t.picEle.style.display="none")}})},initEvents:function(){var t=this;R.addListener(this.picEle,"click",function(e){(e||i.event).target.src===t.params.loadingPic&&t.playerApi.toggleVideoPlay()})},fitPicStyle:function(){if(!this.imgHasLoaded){this.imgHasLoaded=!0;var e=this.picEle.width,t=this.picEle.height,i=this.parentEle.offsetWidth,a=this.parentEle.offsetHeight;e/t<=i/a?(this.picEle.style.width="auto",this.picEle.style.height="100%"):(this.picEle.style.width="100%",this.picEle.style.height="auto");var s=(i-this.picEle.offsetWidth)/2,r=(a-this.picEle.offsetHeight)/2;this.picEle.style.right=s+"px",this.picEle.style.top=r+"px"}}},i.CCH5PlayerLoadingPic=function(e,t,i,a,s){var r=new n(e,t,i,a,s);return{init:function(){r.init()}}}}}(window),function(i){if("function"!=typeof CCH5PlayerLogo){var n=function n(e,t,i,a,s){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s,this.initedLogoWidth=null,this.initedLogoHeight=null,this.logoData=this.videoPlayData.config&&this.videoPlayData.config.logo};n.prototype={constructor:n,defaultPlayerW:640,defaultPlayerH:480,defaultMargin:14,init:function(){this.logoData&&this.logoData.url&&this.checkUrl()},checkUrl:function(){var e=this,t=this.logoData.url;if(/https?:\/\/.+/.test(t)&&/\.(gif|jpg|jpeg|png|GIF|JPG|PNG|JPEG)$/.test(t)){var i=new Image;i.src=t,i.onload=function(){e.createView(),e.setLogoPos(),e.fitLogoStyle(),e.initEvents()},i.onerror=function(){console.error("logo加载失败")}}else console.error("logo地址格式不符合规范")},createView:function(){this.logoParentEle=document.createElement("a"),this.logoParentEle.href=this.logoData.linkurl||"javascript:;",this.logoParentEle.style.display="block",this.logoData.linkurl&&(this.logoParentEle.target="_blank"),this.parentEle.appendChild(this.logoParentEle),this.logoParentEle.style.position="absolute",this.logoParentEle.style.zIndex=this.zIndex,this.logoEle=document.createElement("img"),this.logoEle.src=this.logoData.url,this.logoParentEle.appendChild(this.logoEle),this.logoEle.style.userSelect="none;",this.logoEle.style.border="0",this.logoEle.style.position="absolute",this.logoEle.style.opacity=this.logoData.opacity/100},initEvents:function(){var t=this;R.addListener(this.logoEle,"click",function(e){(e||i.event).target.src!==t.logoData.url||t.logoData.linkurl||t.playerApi.toggleVideoPlay()}),R.addListener(this.logoEle,"mousedown",function(e){e.preventDefault()})},setLogoPos:function(){var e=(this.defaultMargin/this.defaultPlayerW*100).toFixed(2),t=e;this.params.logo&&this.params.logo.url&&0<this.params.logo.posX&&(this.params.logo.posX=50<this.params.logo.posX?50:this.params.logo.posX,e=this.params.logo.posX),this.params.logo&&this.params.logo.url&&this.params.logo.posY&&(this.params.logo.posY=50<this.params.logo.posY?50:this.params.logo.posY,t=this.params.logo.posY);var i=this.logoData.position;2==i?(this.logoParentEle.style.top=t+"%",this.logoParentEle.style.right=e+"%",this.logoEle.style.top=0,this.logoEle.style.right=0):3==i?(this.logoParentEle.style.bottom=t+"%",this.logoParentEle.style.left=e+"%",this.logoParentEle.style.marginBottom="40px",this.logoEle.style.left=0,this.logoEle.style.bottom=0):4==i?(this.logoParentEle.style.bottom=t+"%",this.logoParentEle.style.right=e+"%",this.logoParentEle.style.marginBottom="40px",this.logoEle.style.right=0,this.logoEle.style.bottom=0):(this.logoParentEle.style.top=t+"%",this.logoParentEle.style.left=e+"%",this.logoEle.style.top=0,this.logoEle.style.left=0)},fitLogoStyle:function(){if(!this.logoHasLoaded){this.logoHasLoaded=!0;var e=this.logoEle.width,t=this.logoEle.height,i=100<e?21.74:10;this.params.logo&&this.params.logo.url&&0<this.params.logo.size&&(this.params.logo.size=30<this.params.logo.size?30:this.params.logo.size,i=this.params.logo.size),this.logoParentEle.style.width=i+"%",this.logoParentEle.style.height=i+"%",e/t<=this.logoParentEle.offsetWidth/this.logoParentEle.offsetHeight?(this.logoParentEle.style.maxHeight="30%",this.logoEle.style.width="auto",this.logoEle.style.height="100%"):(this.logoParentEle.style.maxWidth="30%",this.logoEle.style.width="100%",this.logoEle.style.height="auto")}}},i.CCH5PlayerLogo=function(e,t,i,a,s){var r=new n(e,t,i,a,s);return{init:function(){r.init()}}}}}(window),v=window,d=v.document,g.prototype={intervals:[],init:function(){this.currentActionIdx=0,this.marqueeLoop=this.videoPlayData.marquee.loop,this.marqueeBox={},this.registerVideoListener(),this.bindEvents()},createVttMarquee:function(){var e=this;this.vttTrack=null,this.cueCn=null,this.oVideo&&(this.vttTrack=this.oVideo.addTextTrack("subtitles","字幕","zh_CN"),this.vttTrack.mode="disabled",this.addVttCue(),this.vttMarqueeTimer&&clearInterval(this.vttMarqueeTimer),this.vttMarqueeTimer=setInterval(function(){e.addVttCue()},5e3),this.intervals.push(this.vttMarqueeTimer))},addVttCue:function(){var e=this.playerApi.getTotalTime()||0;if(!this.cueCn){var t=this.videoPlayData.marquee.text&&this.videoPlayData.marquee.text||{};if(this.cueCn=new VTTCue(0,e,t.content),this.vttTrack.addCue(this.cueCn),!d.getElementById("ccVttStyle")){var i="video::cue{background: none;text-shadow:none;background: none;font-size:"+t.font_size+"px;color:"+t.color.replace("0x","#")+";opacity:0.7}";R.addCssByStyle(i,"vttMarqueeStyle")}}var a=parseInt(9*Math.random(),10),s=[{pos:10,line:2},{pos:45,line:2},{pos:85,line:2},{pos:10,line:6},{pos:45,line:6},{pos:85,line:6},{pos:10,line:16},{pos:45,line:16},{pos:85,line:16}];this.cueCn.line=s[a].line,this.cueCn.position=s[a].pos},toggleVttMarquee:function(e){this.isFulls=e,this.vttTrack.mode=e?"showing":"disabled"},registerVideoListener:function(){var t=this;this.playerApi.registerVideoEvent("timeupdate",function(e){"true"===t.params.mobileFullsMarquee&&R.isMoble()&&(!t.vttTrack||t.cueCn&&!t.cueCn.track)&&e.target.currentTime&&t.createVttMarquee(),R.isIPhone()&&"true"===t.params.mobileFullsMarquee&&t.isFulls&&"showing"!==t.vttTrack.mode&&(t.vttTrack.mode="showing"),t.checkMarqueeInterval()}),R.isIPhone()&&"true"===this.params.mobileFullsMarquee&&this.playerApi.registerVideoEvent("webkitendfullscreen",function(){t.toggleVttMarquee(!1)})},bindEvents:function(){var e=this;d.addEventListener("webkitfullscreenchange",function(){e.checkMarqueeInterval()})},checkMarqueeInterval:function(){if(!((new Date).getTime()-this.lastCheckTime<4e3)){this.lastCheckTime=(new Date).getTime(),this.timer&&v.clearInterval(this.timer),this.animationIt&&v.clearInterval(this.animationIt);var e=this;this.timer=setInterval(function(){e.checkMarquee()},2e3),this.intervals.push(this.timer)}},checkMarquee:function(){if(0!=this.lastCheckTime){this.lastCheckTime=(new Date).getTime();for(var e=this.parentEle.children,t=0;t<e.length&&e[t]!==this.marqueeBox;t++);if(t!==e.length){R.isIE()||(this.marqueeBox.style="");var i=R.queryEle("video",this.parentEle);if(!i||i.style.zIndex>=this.zIndex)R.queryEle("video",this.parentEle).remove();else{var a=this.videoPlayData;if("text"===a.marquee.type)this.marqueeBox.innerText=a.marquee.text.content,this.marqueeBox.style.fontSize=a.marquee.text.font_size,this.marqueeBox.style.color=a.marquee.text.color.replace("0x","#");else{var s=R.queryEle("img",this.marqueeBox);s&&s.src==a.marquee.image.image_url?(s.className="",s.style="width:"+a.marquee.image.width+"px;height:"+a.marquee.image.height+"px;"):this.marqueeBox.innerHTML="<img src="+a.marquee.image.image_url+" width="+a.marquee.image.width+"px height="+a.marquee.image.height+"px >"}this.marqueeBox.style.left=this.start.x+"px",this.marqueeBox.style.top=this.start.y+"px",this.marqueeBox.style.opacity=this.start.a,this.marqueeBox.style.display="block",this.marqueeBox.style.position="absolute",this.marqueeBox.style.overflow="visible",this.marqueeBox.style.height="auto",this.marqueeBox.style.width="auto",this.marqueeBox.style.zIndex=this.zIndex,this.marqueeBox.style.visibility="visible",this.marqueeBox.style.whiteSpace="nowrap",this.marqueeBox.style.transition="unset",this.marqueeBox.className="",this.marqueeBox.id=""}}else this.createMarquee()}else this.createMarquee()},createMarquee:function(){var e=this.videoPlayData;this.marqueeBox=d.createElement("div"),"text"===e.marquee.type?(this.marqueeBox.innerText=e.marquee.text.content,this.marqueeBox.style.fontSize=e.marquee.text.font_size,this.marqueeBox.style.color=e.marquee.text.color.replace("0x","#")):this.marqueeBox.innerHTML="<img src="+e.marquee.image.image_url+" width="+e.marquee.image.width+"px height="+e.marquee.image.height+"px >",this.marqueeBox.style.position="absolute",this.marqueeBox.style.display="none",this.marqueeBox.style.zIndex=this.zIndex,this.marqueeBox.style.whiteSpace="nowrap",this.parentEle.appendChild(this.marqueeBox),this.marqueeAnimation(e.marquee.action)},marqueeAnimation:function(e){var t=this;this.marqueeBox.style.display="block";var i=e[this.currentActionIdx].duration;i<10&&(i=10);for(var a={x:e[this.currentActionIdx].start.xpos*this.parentEle.clientWidth,y:e[this.currentActionIdx].start.ypos*this.parentEle.clientHeight,a:e[this.currentActionIdx].start.alpha},s=e[this.currentActionIdx].end.xpos*this.parentEle.clientWidth,r=e[this.currentActionIdx].end.ypos*this.parentEle.clientHeight,n=e[this.currentActionIdx].end.alpha,o=Math.abs(s-a.x),l=Math.abs(r-a.y),c=l<o?o:l,d=10,h=0;h++<100;){var u=d*c/i;if(u<=2||d<=1)break;d=2*(d-1)/parseInt(u)}var p=(s-a.x)*d/i,y=(r-a.y)*d/i,m=(n-a.a)*d/i;this.marqueeBox.style.left=a.x,this.marqueeBox.style.top=a.y,this.marqueeBox.style.opacity=a.a,this.start=a;var f=0;this.animationIt&&v.clearInterval(this.animationIt),this.animationIt=setInterval(function(){f+=d,a.x=a.x+p,a.y=a.y+y,a.a=a.a+m,t.marqueeBox.style.left=a.x+"px",t.marqueeBox.style.top=a.y+"px",t.marqueeBox.style.opacity=a.a,i<=f&&(f=0,v.clearInterval(t.animationIt),setTimeout(function(){t.animationNext()},100))},d),this.intervals=[this.animationIt,this.timer]},animationNext:function(){if(this.marqueeBox.style.display="none",this.currentActionIdx++,this.currentActionIdx===this.videoPlayData.marquee.action.length){if(0==--this.marqueeLoop)return;this.currentActionIdx=0}this.marqueeAnimation(this.videoPlayData.marquee.action)}},v.CCH5PlayerMarquee=function(e,t,i,a,s,r){var n=new g(e,t,i,a,s,r);return{init:function(){n.init()},destroy:function(){for(var e in n.intervals)v.clearInterval(e)},toggleVttMarquee:function(e){n.toggleVttMarquee(e)}}},function(l){var d=l.document;if("function"!=typeof CCH5PlayerMore){var n=function n(e,t,i,a,s,r){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s,this.oVideo=r,this.intervals=[],this.hasMore=!1,this.trackIdx=i.defaultvtt};n.prototype={constructor:n,isUseBackupUrl:!1,showBtnList:!1,isCloseVtt:!1,init:function(){try{this.createView(),this.initData(),this.addEvents()}catch(e){console.error(e)}},addEvents:function(){if(this.hasMore){var t=this;R.addListener(this.switchUrlBtn,"click",function(){t.handelSwitchUrl()}),R.addListener(this.moreBtn,"click",function(){this.className="ccH5More ccH5FadeIn",t.showBtnList?t.hideTheBtnList():t.showTheBtnList()}),R.addListener(this.switchAudioBtn,"click",function(){t.playerApi.toggleVideoOrAudio()}),R.addListener(this.switchVttBtn,"click",function(){t.switchVttBox.style.visibility="visible",t.switchVttBox.style.top=0}),this.playerApi.registerVideoEvent("loadstart",function e(){t.playerApi.registerVideoEvent("play",i)})}function i(){if(t.playerApi.removeVideoEvent("play",i),R.queryEle("track",t.oVideo)){var e=t.oVideo.innerHTML;t.oVideo.innerHTML="",t.oVideo.innerHTML=e,setTimeout(function(){t.selectVttItem()},200)}}},initData:function(){this.moreBtn=R.queryEle(".ccH5More",this.parentEle),this.switchAudioBtn=R.queryEle(".ccH5SwitchAudio",this.parentEle),this.switchUrlBtn=R.queryEle("#ccH5SwitchUrl",this.parentEle),this.switchVttBtn=R.queryEle("#ccH5switchVtt",this.parentEle),this.btnList=R.queryEle("#ccBtnList",this.parentEle),this.initSwitchVtt();var e=this.videoPlayData;if(0!=e.videoCopies.length&&0!=e.audioCopies.length||(this.switchAudioBtn.style.display="none"),this.params.isShowUrlBtn+""!="false"&&0!=e.copies.length&&this.playerApi.getCurrentCopy().backupurl||(this.switchUrlBtn.style.display="none"),this.moreBtn.style.display="none",this.hasMore=!1,this.params.isShowMoreBtn+""!="false")for(var t=R.queryEleAll("li",this.btnList),i=0;i<t.length;i++)if("none"!=t[i].style.display){this.moreBtn.style.display="block",this.hasMore=!0;break}},createView:function(){var e="<div  class='ccH5More ccH5FadeOut'>     <ul id='ccBtnList' class='ccBtnList'>\t        <li id='ccH5SwitchUrl' class='ccH5SwitchUrl'>切换线路</li>\t\t    <li id='ccH5SwitchAudio' class='ccH5SwitchAudio'>"+(this.playerApi.isVideoPlay()?"音频播放":"视频播放")+"</li>\t\t    <li id='ccH5switchVtt' class='ccH5SwitchAudio'>字幕切换</li>     </ul></div>",t=d.createElement("section");this.parentEle.appendChild(t),t.outerHTML=e,R.queryEle(".ccH5More",this.parentEle).style.zIndex=this.zIndex},handelSwitchUrl:function(){var e=this.playerApi.getCurrentTime();this.isUseBackupUrl?this.playerApi.setVideoSrc(this.playerApi.getCurrentCopy().playurl):this.playerApi.setVideoSrc(this.playerApi.getCurrentCopy().backupurl),this.isUseBackupUrl=!this.isUseBackupUrl,this.playerApi.resolvePlayState(e),R.invokeWindow("on_player_play_url_change",this.params.vid)},showTheBtnList:function(){this.btnList.style.display="block",this.showBtnList=!0},hideTheBtnList:function(){this.btnList.style.display="none",this.showBtnList=!1},show:function(){this.hasMore&&(this.moreBtn.className="ccH5More ccH5FadeIn")},hide:function(){this.moreBtn.className="ccH5More ccH5FadeOut",this.btnList.style.display="none",this.showBtnList=!1},initSwitchVtt:function(){if("undefined"!=typeof this.videoPlayData.vtt&&this.videoPlayData.vtt){var e="video::cue{"+this.videoPlayData.vtt.cssStyle+" background: none; white-space:pre-wrap;}";R.addCssByStyle(e),this.createVttTrackHTML(),this.createVttListDom(),this.switchVttBox=R.queryEle("#switchVttBox",this.parentEle),this.switchVttContainer=R.queryEle("ul",this.switchVttBox),this.vttBtns=this.switchVttContainer.getElementsByTagName("li"),R.queryEle(".container",this.switchVttBox).style.width="auto",this.initSwitchVttBtns(),this.selectedDefaultVtt(),1==this.videoPlayData.subtitlemodel&&(this.bindVttFontSize=this.setVttFontSize.bind(this),this.playerApi.addGlobalEvent(l,"load",this.bindVttFontSize),this.playerApi.addGlobalEvent(l,"resize",this.bindVttFontSize))}(this.videoPlayData.vtt2===undefined||R.isLieBao()||R.isSougou()||R.isUC()||9===R.IEVersion())&&(this.switchVttBtn.style.display="none")},createVttListDom:function(){var e=d.createElement("div");this.parentEle.appendChild(e),e.outerHTML="<div class='switchVttBox' id='switchVttBox'>  \t<div class='container'>\t \t \t<ul><li></li><li></li><li></li><li></li></ul>\t \t</div>"},createVttTrackHTML:function(){var e;e=-1!=this.videoPlayData.vtt.vttUrl.indexOf("bokecc.com")?this.videoPlayData.vtt.vttUrl.replace(/http:/i,"https:"):this.videoPlayData.vtt.vttUrl,this.addTrackDom(e,"简体中文","default"),this.videoPlayData.vtt2!==undefined&&this.videoPlayData.bilingual!==undefined&&(this.addTrackDom(this.videoPlayData.vtt2.vttUrl.replace(/http:/i,"https:"),"vtt2"),this.addTrackDom(this.videoPlayData.bilingual.vttUrl.replace(/http:/i,"https:"),"bilingual"))},addTrackDom:function(e,t,i){var a=d.createElement("track");a.src=e,a.srclang="zh-cn",a.label=t,a.kind="subtitles",i&&this.videoPlayData.vtt2===undefined&&(a["default"]="default"),this.oVideo.appendChild(a)},initSwitchVttBtns:function(){var e=this.videoPlayData;if(e.vtt!==undefined){var t="",i=1;t+='<li id="vtt">'+e.vtt.vttName+"</li>",e.vtt2!==undefined&&(t+='<li id="vtt2">'+e.vtt2.vttName+"</li>",i++),e.bilingual!==undefined&&(t+='<li id="bilingual">'+e.bilingual.vttName+"</li>",i++),t+='<li id="closeVtt">关闭字幕</li>',this.switchVttContainer.innerHTML=t;1<i?(this.bindVttEvent("vtt",this.vttBtns,0,this),this.bindVttEvent("vtt2",this.vttBtns,1,this),this.bindVttEvent("bilingual",this.vttBtns,2,this)):this.bindVttEvent("vtt",this.vttBtns,0,this),this.handleClickCloseVtt()}else this.switchVttBtn.style.display="none"},bindVttEvent:function(r,n,o,l){var c=this.videoPlayData;this.parentEle.querySelector("#"+r).onclick=function(){for(var e=0;e<n.length;e++)n[e].className="";this.classList.add("active");var t=l.oVideo.textTracks;if(t){for(var i=0;i<t.length;i++)t[i].mode="disabled";setTimeout(function(){l.oVideo.textTracks[o].mode="showing"},100),l.switchVttBox.style.visibility="hidden",l.switchVttBox.style.top="150%",l.trackIdx=o,l.videoPlayData.defaultvtt=o,l.isCloseVtt=!1;var a=d.getElementById("ccVttStyle");a.parentNode.removeChild(a);var s="video::cue{"+c[r].cssStyle+" background: none; white-space:pre-wrap;}";R.addCssByStyle(s),1==l.videoPlayData.subtitlemodel&&l.setVttFontSize()}}},setVttFontSize:function(){if("undefined"!=typeof this.videoPlayData.vtt){var e=this.parentEle.clientWidth,t=this.videoPlayData.subtitlefontsize||13,i=R.isMoble()?1.5:1,a=parseInt(t/480*e*i);a=140<a?140:a<12?12:a;var s=d.getElementById("ccVttStyle"),r=s.innerHTML,n=/font-size:-*\d{1,}px/;if(-1==r.match(n)[0].indexOf(a)){var o=r.replace(n,"font-size:"+a+"px");s.innerHTML=o}}},selectedDefaultVtt:function(){var e=this.videoPlayData.defaultvtt;if(e!==undefined&&this.videoPlayData.vtt2!==undefined){this.parentEle.querySelector("#"+{0:"vtt",1:"vtt2",2:"bilingual"}[e]).click()}},handleClickCloseVtt:function(){var t=this;this.parentEle.querySelector("#closeVtt").onclick=function(){for(var e=0;e<t.vttBtns.length;e++)t.vttBtns[e].className="";this.classList.add("active");for(e=0;e<t.oVideo.textTracks.length;e++)t.oVideo.textTracks[e].mode="disabled";t.switchVttBox.style.visibility="hidden",t.switchVttBox.style.top="150%",t.isCloseVtt=!0}},selectVttItem:function(){this.vttBtns[this.trackIdx].click()},getIsCloseVttFlag:function(){return this.isCloseVtt},resetVttDom:function(){for(var e=this.oVideo.getElementsByTagName("track"),t=e.length-1;0<=t;t--){var i=e[t];i.parentNode.removeChild(i)}var a=R.queryEle("#switchVttBox",this.parentEle);a&&a.parentNode.removeChild(a),this.switchVttBtn.style.display="block",this.trackIdx=this.videoPlayData.defaultvtt}},l.CCH5PlayerMore=function(e,t,i,a,s,r){var o=new n(e,t,i,a,s,r);return{init:function(){o.init()},hide:function(){o.hide()},show:function(){o.show()},destroy:function(){var e=!0,t=!1,i=undefined;try{for(var a,s=(0,q["default"])(o.intervals);!(e=(a=s.next()).done);e=!0){var r=a.value;l.clearInterval(r)}}catch(n){t=!0,i=n}finally{try{!e&&s["return"]&&s["return"]()}finally{if(t)throw i}}},initSwitchVtt:function(){o.initSwitchVtt()},resetVttDom:function(){o.resetVttDom()},setVttFontSize:function(){o.setVttFontSize()}}}}}(window),function(o){var l=o.document;if("function"!=typeof CCH5PlayerMouseMenu){var n=function n(e,t,i,a,s){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s};n.prototype={constructor:n,init:function(){var e=this.videoPlayData.config;this.hasMouseMenu=e&&e.mousemenu&&e.mousemenu.mousemenu&&e.mousemenu.mousemenu.length,this.showMouseMenu=e&&e.mousemenu&&e.mousemenu.showmousemenu||0,this.createView(),this.addEvents()},createView:function(){if(this.hasMouseMenu){this.menuData=this.videoPlayData.config.mousemenu.mousemenu;for(var e="",t=0;t<this.menuData.length;t++)e+='<li data-mouse-index="'+this.menuData[t].index+'"'+(this.menuData[t].content?"data-target":"cc-no-target")+">"+this.menuData[t].name+"</li>";var i='<div class="ccH5MouseMenu"><ul>'+e+"</ul></div>",a=l.createElement("div");this.parentEle.appendChild(a),a.outerHTML=i,this.menuBox=R.queryEle(".ccH5MouseMenu",this.parentEle),this.menuBox.style.zIndex=this.zIndex,this.menuUl=R.queryEle("ul",this.menuBox)}},addEvents:function(){var n=this;R.addListener(this.parentEle,"contextmenu",function(e){var t=e||o.event;if(t.preventDefault(),n.hasMouseMenu&&1==n.showMouseMenu){n.menuBox.style.display="block";var i=t.clientX,a=t.clientY,s=o.innerWidth,r=o.innerHeight;n.menuBox.style.left=Math.min(s-202,i)+"px",n.menuBox.style.top=Math.min(r-230,a)+"px"}}),this.hasMouseMenu&&(R.addListener(this.menuUl,"click",function(e){for(var t=e.target.getAttribute("data-mouse-index"),i=null,a=0;a<n.menuData.length;a++)if(t===n.menuData[a].index){i=n.menuData[a];break}if(t&&i.content){var s=i.content;-1===i.content.indexOf("http://")&&-1===i.content.indexOf("https://")&&(s="//"+s);var r=l.createElement("a");r.setAttribute("href",s),r.setAttribute("target","_blank"),l.body.appendChild(r),r.click(),l.body.removeChild(r)}else e.preventDefault()}),R.addListener(this.parentEle,"click",function(e){""!==e.target.getAttribute("cc-no-target")&&n.hide()}),R.addListener(o,"click",function(e){""!==e.target.getAttribute("cc-no-target")&&n.hide()}))},hide:function(){"block"===this.menuBox.style.display&&(this.menuBox.style.display="none")}},o.CCH5PlayerMouseMenu=function(e,t,i,a,s){var r=new n(e,t,i,a,s);return{init:function(){r.init()}}}}}(window),function(e){var o=e.document;if("function"!=typeof CCH5PlayList){var t;(t=o.createElement("link")).href="//p.bokecc.com/css/html5player/playlist.css",t.rel="stylesheet",t.type="text/css",o.getElementsByTagName("head")[0].appendChild(t);var n=function n(e,t,i,a,s){this.playerApi=e,this.params=t,this.zIndex=i,this.parentEle=a,this.currPlayer=s};n.prototype={currPlayer:null,expandNum:0,init:function(){this.getPlayList()},getPlayList:function(){var i=this,e={userid:this.params.siteid,listid:this.params.listid};R.ccJsonp({url:"//p.bokecc.com/servlet/geth5playlist",data:e,success:function(e){if(e&&1===e.result){if(e.videolist&&e.videolist.length<1)return void i.showErrTip("播放列表为空");var t=i.params.vid||e.videolist[0].videoid;e.playtype&&(i.params.playtype=e.playtype+""),i.createNewPlayer(t),i.createView(e.videolist,t),i.addEvents()}else i.showErrTip("获取播放列表失败")},error:function(){}})},showErrTip:function(e){this.parentEle.innerHTML=R.createTips(this.params,e)},createView:function(e,t){e=e||[];for(var i="",a=0;a<e.length;a++){var s=e[a];i+='<li class="ccH5-plist-li '+(t===s.videoid?"selected-item":"")+'" id="'+s.videoid+'">        <div class="plist-li-left">             <img src="'+s.imgurl+'">             <span>'+s.playtime+'</span>         </div>       <div class="plist-li-right">'+s.title+"</div>   </li>"}var r='<div class="ccH5PlayListBox"><div class="ccH5-plist-title">列表</div><div class="close-plist-btn"></div><div class="ccH5-plist-box"><ul class="ccH5-plist-ul" id="ccH5PlayList">'+i+"</ul></div></div>",n=o.createElement("div");this.parentEle.appendChild(n),n.outerHTML=r,this.playListBox=R.queryEle(".ccH5PlayListBox",this.parentEle),this.playListBox.style.zIndex=this.zIndex},addEvents:function(){var t=this;this.playListUl=R.queryEle("#ccH5PlayList",this.parentEle),this.playListItems=this.playListUl.getElementsByTagName("li"),this.closeListBtn=R.queryEle(".close-plist-btn",this.parentEle),R.addListener(this.closeListBtn,"click",function(e){t.hidePlayList()}),this.initListEvent()},initListEvent:function(){for(var a=this,s=this.playListItems,e=0;e<s.length;e++)R.addListener(s[e],"click",function(e){for(var t=this.id,i=0;i<s.length;i++)s[i].classList.remove("selected-item");this.classList.add("selected-item"),a.hidePlayList(),a.createNewPlayer(t,!0)})},createNewPlayer:function(e,t){this.currPlayer.switchVideo(e,t)},setListStyle:function(){if("2"==this.params.playListStyle&&this.playListItems&&!this.playListUl.classList.contains("ccPlayListStyle2")){this.playListUl.classList.add("ccPlayListStyle2");for(var e=this.playListItems,t=0;t<e.length;t++)e[t].style.height="auto",R.queryEle(".plist-li-left",e[t]).style.display="none"}},showPlayList:function(){"1"==this.params.playListExpand&&(this.setDefaultExpandStyle(),this.expandNum++),this.setListStyle(),this.playListBox.classList.remove("ccH5PlayListHide"),this.playListBox.classList.add("ccH5PlayListShow"),this.currPlayer&&this.currPlayer.ccPlayerCtrol&&this.currPlayer.ccPlayerCtrol.hide()},hidePlayList:function(){"1"==this.params.playListExpand&&this.setDefaultExpandStyle(),this.playListBox.classList.remove("ccH5PlayListShow"),this.playListBox.classList.add("ccH5PlayListHide"),this.currPlayer&&this.currPlayer.ccPlayerCtrol&&this.currPlayer.ccPlayerCtrol.show()},isShowing:function(){return!!this.playListBox.classList.contains("ccH5PlayListShow")},fullScreenFixedList:function(e){this.playListBox.style.position=e?"fixed":"absolute"},setDefaultExpandStyle:function(){this.expandNum<1?this.playListBox.style.transition="none":this.playListBox.style.transition="all .3s ease-in"},getListExpandNum:function(){return this.expandNum}},e.CCH5PlayList=function(e,t,i,a,s){var r=new n(e,t,i,a,s);return{init:function(){r.init()},isShowing:function(){return r.isShowing()},showPlayList:function(){r.showPlayList()},hidePlayList:function(){r.hidePlayList()},fullScreenFixedList:function(e){r.fullScreenFixedList(e)},getListExpandNum:function(){return r.getListExpandNum()}}}}}(window),function(e){e.document;if("function"!=typeof CCH5PlayerPwd){var r=function r(e,t,i,a,s){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s};r.prototype={constructor:r,init:function(){R.loadScript("https://p.bokecc.com/js/player/cc_md5.js"),this.createView(),this.addEvents()},createView:function(){var e=this.params.height,t=this.params.width;isNaN(this.params.height)||(e=this.params.height+"px"),isNaN(this.params.width)||(t=this.params.width+"px");var i="<div style='width:"+t+"; height:"+e+"; min-height:280px; background: #000;color: #fff; text-align: center; font-size: 14px; display:table;'>\t<div id='pwdBox' style='display:table-cell; vertical-align: middle; font-size:20px;'>\t\t<div id='pwdTips' style='display:none;font-size:14px;'></div>\t\t<input id='ccPwd' style='border-radius:4px;-webkit-appearance: none; padding:6px;font-size:15px;border:0;height:20px;' type='password' placeholder='请输入密码'>\t\t<input id='ccSubmit' style='border-radius:4px;-webkit-appearance: none; padding:7px 12px;border:0;background:#e1742d;color:#fff;height:32px;box-sizing: border-box;font-size:13.3333px' type='submit' value='确认'>\t</div></div>";this.parentEle.innerHTML=i},addEvents:function(){var t=R.queryEle("#pwdTips",this.parentEle),e=R.queryEle("#ccSubmit",this.parentEle),i=R.queryEle("#pwdBox",this.parentEle),a=this,s=2;e.onclick=function(){var e=R.queryEle("#ccPwd",a.parentEle).value;if(hex_md5(e)!==a.videoPlayData.passwd)return t.style.display="block",void(0==s?i.innerHTML="<span>您已多次尝试失败，请联系管理员</span>":(t.innerHTML="<span style='color:#ff2944;'>密码错误，请重新输入</span>（剩余"+s+"次机会）",s--));a.videoPlayData.passwdValid=!0,a.playerApi.readyH5Play()}}},e.CCH5PlayerPwd=r}}(window),u=window,f=u.document,p=function p(e,t,i,a,s){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s},p.prototype={ans:{},answerd:{},isQuestionsShow:!1,init:function(){this.registerVideoListener()},registerVideoListener:function(){var e=this;this.playerApi.registerVideoEvent("timeupdate",function(){e.videoPlayData.questions!=undefined&&(e.monitorQuestion(),e.queryAnswer())})},monitorQuestion:function(){for(var e=this,c=this,d=this.videoPlayData,t=this.playerApi.getCurrentTime(),i=parseInt(t),a=0;a<d.questions.length;a++){var h,s,r,u,n,o,p,y,m;if(!this.isQuestionsShow&&!this.ans["ans_"+d.questions[a].id]&&d.questions[a].showTime==i)!function(){var l=function l(){for(var e=0;e<arguments.length;e++)return arguments[e].toString()==arguments[e+1]};for(h=a,e.playerApi.videoPause(),e.playerApi.isEnterFullscreenInWeChat()&&alert("请退出全屏回答问题"),s=f.fullscreenElement||f.msFullscreenElement||f.mozFullScreenElement||f.webkitFullscreenElement||!1,r=R.isIPhone()&&R.isWeixin()&&e.playerApi.displayingFullscreen(),(s||r)&&e.playerApi.exitFullScreen(),e.isQuestionsShow=!0,e.playerApi.setOuterApiProps({isQuestionsShow:e.isQuestionsShow}),R.invokeWindow("on_player_qa_show",d.questions[h],d.vid),u=[],o=n=0;o<d.questions[a].answers.length;o++)1==(p=d.questions[a].answers[o].right)&&n++,u.push(p);1<n?e.checkboxSelect(a):e.radioSelect(a),setTimeout(function(){e.setListToBottom()},500),R.queryEle("#ccQuestionSubmit",e.parentEle).onclick=function(){for(var e,t=R.queryEle(".ccInputBox",c.parentEle).getElementsByTagName("input"),i=[],a=[],s=0,r=0;r<t.length;r++)i.push(t[r].checked),t[r].checked&&(a.push(d.questions[h].answers[r].id),a.join(","),s++);if(0!=s){if(l(u,i))c.createRightAnswer(d.questions[h].explainInfo,h),e=1;else{var n=d.questions[h].explainInfo;d.questions[h].createTime&&(n=d.questions[h].explainWrongAns||""),c.createWrongAnswer(n,h),e=0}if(R.invokeWindow("on_player_qa_result",{question:d.questions[h],answersId:a,isRight:e},d.vid),!d.questions[h].createTime){var o=(new Date).getTime();c.answerd["first_"+d.questions[h].id]||(R.ccJsonp({url:"https://ikkyu.bokecc.com/servlet/report",data:{vid:c.params.vid,qid:d.questions[h].id,answer:a,status:e,terminal_type:30,time:o},success:function(e){}}),c.answerd["first_"+d.questions[h].id]=!0,c.playerApi.setOuterApiProps({answerd:c.answerd}))}}else c.createQuestionTips()},y=R.queryEle("#ccJumpOver",e.parentEle),m=R.queryEle(".ccQuestionDiv",c.parentEle),d.questions[a].jump||(y.style.display="none"),y.onclick=function(){c.parentEle.removeChild(m),c.playerApi.videoPlay(),c.ans["ans_"+d.questions[h].id]=!0,c.isQuestionsShow=!1,c.playerApi.setOuterApiProps({isQuestionsShow:c.isQuestionsShow,ans:c.ans}),R.invokeWindow("on_player_qa_skip",d.questions[h],d.vid)}}()}},queryAnswer:function(){for(var e=this.videoPlayData,t=this.playerApi.getCurrentTime(),i=0,a=0;a<e.questions.length;a++)if(!this.ans["ans_"+e.questions[a].id]){var s=e.questions[a].showTime;if(s<t){i=s;break}}0<i&&(this.playerApi.videoPause(),this.playerApi.setCurrentTime(i))},createQuestionBox:function(e){return"<div class='ccQuestionBox'>  <img class='ccQuestionBg' src='"+(R.isIPhone()||R.isAndroid()?"https://p.bokecc.com/images/questionimage/ccquestionbgphone.jpg":"https://p.bokecc.com/images/questionimage/ccquestionbg.png")+"'>  <div class='ccQuestion'>  \t<div class='ccProblem'><span class='ccCheckTips fl'>单选</span><span class='fl tim'>题目:</span><span class='text fl'>"+e+"</span></div>     <ul class='ccQuestionList'></ul>     <div class='ccInputBox'></div>  </div>  <input id='ccJumpOver' style='width: 8%' type='button' value='跳过'>  <input id='ccQuestionSubmit' style='width: 8%' type='submit' value='提交'></div>"},radioSelect:function(e){var t=this.videoPlayData,i=f.createElement("div"),a=t.questions[e].content.replace(/\{([^\{\}]*)\}/g,'<img src="$1"/>');a=a.replace(/<img src="http:\/\/([^\"]+)bokecc.com([^\"]+)"\/>/g,'<img src="https://$1bokecc.com$2"/>'),i.className="ccQuestionDiv",i.innerHTML=this.createQuestionBox(a),this.parentEle.appendChild(i),R.queryEle(".ccQuestionDiv",this.parentEle).style.zIndex=this.zIndex,"true"==this.params.ctrolShowing&&(R.queryEle(".ccQuestionBox",this.parentEle).style.minWidth="480px",R.queryEle(".ccQuestionBg",this.parentEle).style.margin="0");for(var s=0;s<t.questions[e].answers.length;s++){var r=R.queryEle(".ccQuestionList",this.parentEle),n=R.queryEle(".ccInputBox",this.parentEle),o=f.createElement("li"),l=t.questions[e].answers[s].content.replace(/\{([^\{\}]*)\}/g,'<img src="$1"/>');l=l.replace(/<img src="http:\/\/([^\"]+)bokecc.com([^\"]+)"\/>/g,'<img src="https://$1bokecc.com$2"/>'),o.innerHTML="<i class='radioBg'></i><span>"+l+"</span>",r.appendChild(o);var c=f.createElement("input");c.type="radio",n.appendChild(c)}var d=r.getElementsByTagName("li"),h=n.getElementsByTagName("input");for(s=0;s<d.length;s++)d[s].index=s,d[s].onclick=function(){for(var e=0;e<d.length;e++)d[e].classList.remove("active"),h[e].removeAttribute("checked");this.classList.add("active"),h[this.index].setAttribute("checked",!0)};R.queryEle(".ccCheckTips",i).innerText="单选"},checkboxSelect:function(e){var t=this.videoPlayData,i=f.createElement("div"),a=t.questions[e].content.replace(/\{([^\{\}]*)\}/g,'<img src="$1"/>');a=a.replace(/<img src="http:\/\/([^\"]+)bokecc.com([^\"]+)"\/>/g,'<img src="https://$1bokecc.com$2"/>'),i.className="ccQuestionDiv",i.innerHTML=this.createQuestionBox(a),this.parentEle.appendChild(i),R.queryEle(".ccQuestionDiv",this.parentEle).style.zIndex=this.zIndex,"true"==this.params.ctrolShowing&&(R.queryEle(".ccQuestionBox",this.parentEle).style.minWidth="480px",R.queryEle(".ccQuestionBg",this.parentEle).style.margin="0");for(var s=0;s<t.questions[e].answers.length;s++){var r=R.queryEle(".ccQuestionList",this.parentEle),n=R.queryEle(".ccInputBox",this.parentEle),o=f.createElement("li"),l=t.questions[e].answers[s].content.replace(/\{([^\{\}]*)\}/g,'<img src="$1"/>');l=l.replace(/<img src="http:\/\/([^\"]+)bokecc.com([^\"]+)"\/>/g,'<img src="https://$1bokecc.com$2"/>'),o.innerHTML="<i class='checkboxBg'></i><span>"+l+"</span>",r.appendChild(o);var c=f.createElement("input");c.type="checkbox",n.appendChild(c)}var d=r.getElementsByTagName("li"),h=n.getElementsByTagName("input");for(s=0;s<d.length;s++)d[s].index=s,d[s].onclick=function(){1==this.classList.contains("active")?(this.classList.remove("active"),h[this.index].removeAttribute("checked")):(this.classList.add("active"),h[this.index].setAttribute("checked",!0))};R.queryEle(".ccCheckTips",i).innerText="多选"},createQuestionTips:function(){var e=R.queryEle(".ccQuestionBox",this.parentEle),t=f.createElement("div");t.className="ccTips",t.innerHTML="<span>请选择答案</span><div class='dark'></div>",e.appendChild(t),setTimeout(function(){e.removeChild(t)},3e3)},createWrongAnswer:function(e,t){var i,a=this.videoPlayData,s=this,r=R.queryEle(".ccQuestionDiv",this.parentEle),n=R.queryEle(".ccQuestionBox",this.parentEle),o=f.createElement("div");i=R.isIPhone()||R.isAndroid()?"https://p.bokecc.com/images/questionimage/wronganswerphone.jpg":"https://p.bokecc.com/images/questionimage/wronganswer.png",o.className="ccWrongTips",o.innerHTML="<div class='dark'></div><div class='ccWrongAnswer'><img src='"+i+"' alt=''><div class='txt'><p>"+(e||"")+"</p></div><input type='submit' id='wrongBtn' value='继续播放'><input style='display:none' type='submit' id='questionscontinueBtn' value='继续播放'></div>",n.appendChild(o);var l=R.queryEle("#wrongBtn",this.parentEle),c=a.questions[t].backSecond,d=t,h=a.questions[t].keepPlay;if(-1!=c&&(l.value="回看知识点",h)){var u=R.queryEle("#questionscontinueBtn",this.parentEle);u.style.display="block",u.onclick=function(){s.parentEle.removeChild(r),s.playerApi.videoPlay(),s.ans["ans_"+a.questions[d].id]=!0,s.isQuestionsShow=!1,s.playerApi.setOuterApiProps({isQuestionsShow:s.isQuestionsShow,ans:s.ans})}}l.onclick=function(){-1==c?(s.parentEle.removeChild(r),s.playerApi.videoPlay(),s.ans["ans_"+a.questions[d].id]=!0,s.isQuestionsShow=!1,s.playerApi.setOuterApiProps({isQuestionsShow:s.isQuestionsShow,ans:s.ans})):(s.parentEle.removeChild(r),s.playerApi.setCurrentTime(c),h&&(s.ans["ans_"+a.questions[d].id]=!0),s.playerApi.videoPlay(),s.isQuestionsShow=!1,s.playerApi.setOuterApiProps({isQuestionsShow:s.isQuestionsShow,ans:s.ans}),R.invokeWindow("on_player_qa_review",a.questions[t],0,a.vid))}},createRightAnswer:function(e,t){var i,a=this,s=this.videoPlayData,r=R.queryEle(".ccQuestionDiv",this.parentEle),n=R.queryEle(".ccQuestionBox",this.parentEle),o=f.createElement("div"),l=s.questions[t].backSecond;i=R.isIPhone()||R.isAndroid()?"https://p.bokecc.com/images/questionimage/rightanswerphone.jpg":"https://p.bokecc.com/images/questionimage/rightanswer.png",o.className="ccRightTips",o.innerHTML="<div class='dark'></div><div class='ccRightAnswer'><img src='"+i+"' alt=''><div class='txt'><p>"+e+"</p></div><input style='display:none' type='submit' id='questionBackBtn' value='回看知识点'><input type='submit' id='rightBtn' value='继续播放'></div>",n.appendChild(o);var c=t;if(R.queryEle("#rightBtn",this.parentEle).onclick=function(){a.parentEle.removeChild(r),a.playerApi.videoPlay(),a.ans["ans_"+s.questions[c].id]=!0,a.isQuestionsShow=!1,a.playerApi.setOuterApiProps({isQuestionsShow:a.isQuestionsShow,ans:a.ans})},-1!=l){var d=R.queryEle("#questionBackBtn",this.parentEle);d.style.display="block",d.onclick=function(){a.parentEle.removeChild(r),a.playerApi.setCurrentTime(l),a.playerApi.videoPlay(),a.ans["ans_"+s.questions[c].id]=!0,a.isQuestionsShow=!1,a.playerApi.setOuterApiProps({isQuestionsShow:a.isQuestionsShow,ans:a.ans}),R.invokeWindow("on_player_qa_review",s.questions[t],1,s.vid)}}},setListToBottom:function(){var i=this,a=R.queryEle(".ccQuestion",this.parentEle);if(a){var s=a.clientHeight,r=a.scrollHeight,n=10;if(a.scrollTop+s<=r)var o=setInterval(function l(){var e=a.scrollTop;if(a.scrollTop=a.scrollTop+n,a.scrollTop-e<n)return void clearInterval(o);if(Math.ceil(a.scrollTop)+s>=r){clearInterval(o);var t=R.queryEle(".ccQuestion",i.parentEle);t.scrollTop+t.clientHeight<=t.scrollHeight&&r!=t.scrollHeight&&i.setListToBottom()}},10)}},getIsQuestionsShow:function(){return this.isQuestionsShow},setQA:function(){var e=R.queryEle(".ccQuestionDiv",this.parentEle);e&&e.parentNode.removeChild(e),this.answerd={},this.ans={},this.isQuestionsShow=!1},viewPointQA:function(e){var t=R.queryEle(".ccQuestionDiv",this.parentEle);t&&t.parentNode.removeChild(t),this.isQuestionsShow=!1;var i=this.videoPlayData.questions;this.queryAnswer();for(var a=0;a<i.length;a++)if(i[a].showTime>=parseInt(e)){var s=i[a].id;this.ans["ans_"+s]=!1}}},u.CCH5PlayerQA=function(e,t,i,a,s){var r=new p(e,t,i,a,s);return{init:function(){r.init()},queryAnswer:function(){r.queryAnswer()},getIsQuestionsShow:function(){return r.getIsQuestionsShow()},setQA:function(){r.setQA()},viewPointQA:function(e){r.viewPointQA(e)}}},function(e){var o=e.document;if("function"!=typeof CCH5PlayerRightMenu){var n=function n(e,t,i,a,s){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s};n.prototype={constructor:n,init:function(){this.createView()},createView:function(){for(var e=this.videoPlayData.config.rightmenu.rightmenu,t=this.videoPlayData.config.rightmenu.showrightmenuname,i=this.videoPlayData.config.rightmenu.showrightmenu,a="",s=0;s<e.length;s++)a+='<a class="ccH5RightMenuBtn" target="_blank" href="'+e[s].content+'"><img src="'+e[s].iconurl+'" '+(0==t?'class="icon-pos"':"")+' alt="">\t<div'+(0==t?' style="display:none"':"")+">"+e[s].name+"</div></a>";var r='<div id="ccH5RightMenu" class="ccH5FadeOut"'+(i?'style="opacity:1"':"")+'">'+a+"</div>",n=o.createElement("div");this.parentEle.appendChild(n),n.outerHTML=r,this.menuBox=R.queryEle("#ccH5RightMenu",this.parentEle),this.menuBox.style.zIndex=this.zIndex},show:function(){this.menuBox.className="ccH5FadeIn"},hide:function(){this.menuBox.className="ccH5FadeOut"}},e.CCH5PlayerRightMenu=function(e,t,i,a,s){var r=new n(e,t,i,a,s);return{init:function(){r.init()},hide:function(){r.hide()},show:function(){r.show()}}}}}(window),function(l){var n=l.document;if("function"!=typeof CCH5PlayerShare){var r=function r(e,t,i,a,s){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s,this.hasShare=!0};r.prototype={constructor:r,intervals:[],init:function(){this.createView(),this.initData(),this.addEvents()},addEvents:function(){var i=this;this.shareBtn=R.queryEle("#share-btn",this.parentEle),this.shareBox=R.queryEle("#ccH5-share-box",this.parentEle),this.shareBtn.style.display="block",/firefox/i.test(navigator.userAgent)&&(this.shareBtn.style.top="70%");var e="https://p.bokecc.com/qrplay.bo?uid="+this.videoPlayData.uid+"&vid="+this.videoPlayData.vid;R.ccJsonp({url:"https://p.bokecc.com/api/video/qrcodeimage",data:{qrwidth:120,qrheight:120,qrurl:e},success:function(e){i.shareBox.querySelector(".qrcode-box img")&&(i.shareBox.querySelector(".qrcode-box img").src="data:image/png;base64,"+e)},error:function(){}}),this.shareBtn.addEventListener("click",function(){i.shareBox.style.display="block"}),R.queryEle(".title .right",this.parentEle).addEventListener("click",function(){i.shareBox.style.display="none"}),R.queryEle("#wb",this.parentEle).addEventListener("click",function(){var e=encodeURIComponent("https://p.bokecc.com/qrplay.bo?uid="+i.videoPlayData.uid+"&vid="+i.videoPlayData.vid),t=encodeURIComponent(i.videoPlayData.img);l.open("http://service.weibo.com/share/share.php?url="+e+"&title= &pic="+t)}),R.queryEle("#kj",this.parentEle).addEventListener("click",function(){var e=encodeURIComponent("https://p.bokecc.com/qrplay.bo?uid="+i.videoPlayData.uid+"&vid="+i.videoPlayData.vid),t=encodeURIComponent(i.videoPlayData.img);l.open("https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+e+"&pics="+t)}),R.queryEleAll(".btn",this.parentEle).forEach(function(e){e.addEventListener("click",function(){this.parentNode.querySelector("input").select(),n.execCommand("Copy"),alert("复制成功")})})},initData:function(){var e='<script src="https://p.bokecc.com/player?vid='+this.videoPlayData.vid+"&siteid="+this.videoPlayData.uid+'&autoStart=false&width=600&height=490&playertype=1" type="text/javascript"><\/script>';R.queryEle("#jsCodeInput",this.parentEle).value=e;var t="";t=this.videoPlayData.pageaddr?this.videoPlayData.pageaddr:"https://p.bokecc.com/qrplay.bo?uid="+this.videoPlayData.uid+"&vid="+this.videoPlayData.vid,R.queryEle("#videoAddrInput",this.parentEle).value=t},createView:function(){var e=R.queryEle("#ccH5RightMenu",this.parentEle),t=e?"":"position: absolute;top: 50%;right: 5px;transform: translateY(-50%);";this.videoPlayData.config&&this.videoPlayData.config.rightmenu.showrightmenu&&(t+="opacity:1;");var i='<div id="share-btn" class="ccH5FadeOut" style="display:none;'+t+'">\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAASOklEQVR4Xu1d0ZEdpxJlIrAdgaQIZEVgMQlYjsDrCCxFYDkCSxE8OYInJTBIEXgVgfdFYCsCXh0XY1+t9+6Fhm6YmUOVSh/LQHOac5uGppkcCxEgAmcRmIgNESAC5xEgQTg7iMA9CJAgnB5EgAThHCACMgRoQWS48auDIECCHETRHKYMARJEhhu/OggCJMhBFM1hyhAgQWS48auDIECCHETRHKYMARJEhhu/OggCJMhBFK05zBDClzHGx9M0fe2c+/JWXzcxxpt5nj9oyqDVNgmiheyO2wUhnHPfOueeOeee3kGKc6O/ds69jzG+n+f53RYgIkG2oKVBZAwhgAw/JmLUSvWnc+6Nc+619/6mtjGt70kQLWR31G4ixk/JWmiMDER54b0HaYYqJMhQ6hhLmLSU+sU5d2UgGcjx0nv/2qCv7C5IkGyojlUxhACH+7/OuYfGI3/rnPthFGtCghhrfwvdhRBgMf7TUVb4JN957+HUdy0kSFf4x+t8AHKsoGDJ5XuThAQZb452k2ggcgxDEhKk23Qcq+MByXFKkie9toJJkLHmaRdpkkMeCg78rOW89t4/se4U/ZEgPVAfrM8Qwm/OOexajVx+9t6/tBaQBLFGfLD+QgiYdDgE3ELBUst0Z4sE2cK0UJIxhIAzDliP2wGGRT3GGD9O04Tzi/fOuZvVX0hLN/TxLMb4bJqmL4oa/nfl99jWqmyj6HMSpAiufVUOISDE43vpqGKMH6Zpwuk3iHGxYCMgxviqkijgSFZ/FwXKqECCZIC0xyopjOSPirHhtBsEKyqpX3yHaGBJMbUiJIhERTv4JoTw3DmHOKuiEmP8NE3Ts9pf8RDCqxQZXNR/qvzIatuXBJGoZwffVOxcIQQE/kZ1qVjime1okSDVat5eA8k5/10gefOJuSzL9TRNjwtlMTsXIUEKNbOH6pJT8xjj/3CltnWUbbprgkPK0vJVa1nuEoAEKVXLDuqHELBEKnWSRU55DlzLsryfpumbnLondZot9e7rlwQp1MoeqgsnpNovtsSiOeeaL/doQfYwuxuMIYQQC5t5571HggaVItxy/tV7r37TkRZEReVjNyogiPqv9bIsN9M0PchFDoeU8zwjiYRqIUFU4R2vceGvtQVBivwQEmS8ubULiYS7RmoO+gpqqV9EguxiOo43CFqQMp1wiVWG1y5qj+iDhBBwcJmdQYUWZBdTccxBlBJEezIKrRp3scacXtuXqnS9n0bMc5Dtq54jyEFAGEmr5qiHEBBqUrply5P0HGWzTjkCIQQc+iFrYklBniqEmTfNnyvcVYPcahbtFBQ66SVTZCd1hWt+jL7peUiSA9ajKGEErvjO81z0jVR1JIgUuQ1/J52YacjNllohBKQ3lYSLNCXqfaokQTY80SWip+UVbhJmb6ne6gdLLKz/q+6FV5AD4vBGoUT5/OY8AumSFIjRKujwueSpgmS9YDlEcmhvOd9GkBbkAKwKIeBVKOS/qkrvcwdUsCJY7mRZk0ZyMKvJAeasyRBTXir8Wms7tOvbg2+nafq0JndblgWXoL5EkodkMaoIam09oCRaEJOpattJWsYgWyIyl+ypmPkeK2gkyJ6mj3MuOeGwGlW/1gPCYrZzxXOQAbVfK1JywkGM0hPp2q7Vv++xtKIFUVerXQchhHU5tTer4VKiuoetT/BztcMlVi5SA9ZLYRrYutV2wruMPpHjqXVGdy6xuqi7XafGzzO3E7ygpRHIwV2sAoWNUjWEgGzsyGvbfDmVJiXOS65jjNiyrX2uQARbSlKH/L+mb4HcJSyXWCIV2n9k4IS/w7bw6dseMcY3grSgteBAjqtePsdt4UmQWnUafJ+ccJXnx9KvNYhxZ0JqqxeokvWCHMVPKmiqgATRRLey7eSEY+tWGlh4SYLXCEG59GudrBcIKn5s54Igvybr1fSuyaXB5/ydBMlBybhObUDfJXHTy1D4tS5a469EafGcWrJcsBavLhH00ng0/06CaKIraLtRQN+dPa9OuPceTn5VSfl0n8YYn+ZmRExvGSKwEa9ENXljpGoQGR+TIBkgWVRJgYU409A6CVdzfpPFw1kMloK3l4N/RfrmRvxaYF3SBwlSgpZCXe3AwrSUwa5QVki6whA33SQJ0lF9DW73XZL+59HX+JcG0PvvJEgHDSjc7vtsFMkJh9W46TC8XXVJghir08AJH+4swRjipt2RIE3hPN+YQWDhsGcJRhCrdEOCqMD6T6N0wpUBVm6eBFEEWPN2XzrTwCGbSgiKIiybapoEUVCXdmAhnXAFpZ1pkgRpjLXm7b5kNbA7tYlT6MbQdmmOBGkE+yiBhY2Gw2YSAiRI5VTQvt2X4pewdcuT8EpdST4nQSSopW8MbvfRCa/QT4tPN0WQFND3bUpSgCundwX24U4BwrjXfx9anyhrO+HOuc9u97VQNNuQITA8QdLaHhd1kL5Seg8bZMHdA7xrJ76Uk5ZTa55bGeL3fHXpdl/zDtngRQSGJUhaviB1ZuuUNiAKsvQVxSnRCb84l3ZZYTiCGNyLWBWJA7bXlyyKwe2+j9M0Yeu26HbfLmfjgIMaiiCayQnOYA8rgsdg7pycBoGFuA9efbtvwHm1G5GGIEjlk2AtlPHZYzAGVkztdl8LMNjGPwh0J0iajHhxVStzR66+4Zu8cM6pPRvA2325qhinXleCJHLglVPp7lRrJLHDpSULb/e11pZBe90IkpZVvw1gOVRhlqbYURWKjWcj0JMgIEfrLdzsgWtXbJliR1tWtn8egS4ECSFg5wYHbnstvN23E82aEyQduMHv2F2hE747ldo/4hlC+L2F34ElDOKtpmnCWcZ6Kv51jPFhh4zkmBld3tDb35Qca0SmFiSlq0QyZnFJTi+iXM9eGkrBhEiL+TI3LaZUIN7ukyK3je+sCSK2HtJ7EVrp+0dN17+NabcdKc0IUmk9qk6ecd4SY3zf8MWkrGcDtjMNKOk5BCwJgiUR7nKUlnfee4S6V5UWJJFasSrB+XFXBEwIkg4F/ygdaZqQeOVUfIfjtE/pDhpT7JRqbj/1rQgCC4B4q9LypHUYuNAnufbePykVnvW3j4AVQSQHg7j9d9UaYlizGOONwB/5qpUlaz0mtqeHgAlBlmWBg/xN4TCaW4+1f+FJPu6NMB9VoRK3Xt2EICGEWAIUTqTneVYLf09RxIgFKyk8CCxBayd1hyRIugqL++hqpZS0FjKpDZYNixFQJ8iov9alyz6cmM/zrPV+oFiB/FAXAQuCYFKVBif+oP2gPAmiO7H20joJkqlJWpBMoHZWzYIgcLYRg1VS1B1iWpASdRy3rjpBAO2IDrFApiYhL8edatscuQlBlmX5s/Bg7sZ7/0gLUmHIibpV0xov25UjYEUQHhTKdcQvOyJgQhDhybVaqEnyiUrT+zwqzefbUa/suhECVgSRBiv61g/HSMiqfbLfSJdsRgEBK4Lg17o43D298QGSdA135ym6wszbSJMmBEk7WUjtiXc+Sstb7/13pR/drl+ZxVEtcLJ2XPxeFwFLgkiXWUAA7/MhmlZkSdKuFe6jlPodDpe25nnebYI73em1/dbNCAKolmXBPYwHQtiQ2gchKNmPWTZ6EUo97EWIBz8zQMCUIJWJG1Y4QBAs13Bwd6dFSWl/cP8dj+QUW41buPMeiMFEHLULU4IkKyI5EzmHH8iyPtoJImAptP7fEnP0g4PCbOvVsnO21Q8Bc4IIw9/7IfR5z6L3DUcRnnKUI2BOEIgoTJxQPjq9L7LeN9Trni1bIdCFIApLLSu8TvvB0g5vDCKJHMtOEehGkJRdBP7I441ji921F0zosHEtnhG/G0HSUgspePZAEgyHjvwOOdKVIDskCYZER35HROlOkJUkaWJJcveOqg468qNqpkCuIQiyyhtCeJ7e9PiiYAwjV6UjP7J2MmQbiiDJmuAOO1KVqlmT9FQafuGRKRGkfF544zED2s+q0JEvRWyQ+sMR5MSarC9ElaYsPQttIgZ8BLxQ9XeYSgpNAWEk0cYlqqQjX4LWAHWHJcgJUWBRrmKMVxWBjnh1FmHz9+bWTW+IvBLkES5VJR35UsQ61R+eIKe4rG8P4hHQGOOa5RCPdj5YH/VE/WmaYB3wa/1e8nwCwuNjjG8qCJmrTjryuUh1qrcpglhjhOjjGCMsiuamAciMJd/P1uNjf5cRIEEuYJTulFg58ghdwXKQZRAESJBMRdCRzwRqZ9VIkEKFGjry2FBAjBe2iFk6IUCCCIE3dORxJoTLWqL7+MLh8bOEAAlSORXoyFcCOPjnJEgDBdGRbwDioE2QIA0VQ0e+IZiDNEWCKCiCjrwCqJ2aJEEUgacjrwiuUdMkiAHQdOQNQFbqggRRAvZ2s3TkjYBu3A0J0hjQS83t0ZHHmGKMD6ZpuvOZ7BjjNRL8zfP84RI+o/2dBOmkkS078ska4kIbEpKDFCXpXRFljSgBpI4dPkqABOlEkLXbLTnyyfr9lIhRQopzKP+VZ3nkAE0SpDNBTogybGj9CTGulOAqztyvJMe/miVBrJDO6GdERz6EAIuBi10WBUsvPDcxTNwZCWKh9sI+RnDkkwx4dMj68SCQA09ODJFJnwQpnLyW1Xs58pXP1bWCaIiHi0iQVupUbMfYkcdW7H8Kd6a0Ro+ryC+0Gs9plwTJQWmQOkYn8oOM9m8xcGkMd2K6FBKkC+zyTg0debmQ7b/sttwiQdor06RFQ0feZDwXOoHj7iUpnGqFJ0FqEez8vaEj33mk7tp7/8RaCBLEGnGl/gwdeaURZDWLu/lWZzJ/CUSCZOllO5V6OPIxxo/TNOGQD5ksPzu/SFvGiNfCv9qE5FhqPbGM4SJBtjP3syW1cuRTMvDnl3Ier4KnqF+kdK1JSG5qRUiQ7Gm3vYrKjvyv3ntRbFallYMVeWQVjkKCbG/eF0us4MhXb7smmfA+pSTvcXX/uSCSILlI7aBeI0f+tff+eQs4II9zLgjaMtvRIkEE2tn6J1jipHCSoqHEGD/M83znrcGihk4qhxCwK4WI4dLylcUyiwQpVcsO6icn/g/BULCDhOuzTcuyLDeCt1hMllkkSFNVb6OxEAKuyiKUvaSInfJLnQgtWrOl3n3ykSCXtLfDv4cQEPz3Y+HQcEfj3ifsCtv7u7rEomks9+6SnwSRanXD3y3Lgt2j0rMI1TV/CAHkKzlIvPHeP9JWAwmijfCA7ZcSxOLXWuKse+/V5696BwPOj8OLFEL4reQqLQly+ClzLABCCLFkxEYEwdnKLyVy0YKUoMW62Qgsy3I9TdPj3A+MCFJ8HkKC5GqQ9YoQKPVBnNO/i0EfpEiFrKyJgIAgEEd7F6vUL/o4z7N6SiI66ZozcdC2Jb/WKaHbG40hpajj30vatlj2QR4SpEQrO6krPLnGZSivAYGQsCb3QkgQDY0P3qbkFzsNCRxpmvEwnaLDepQmw24uy11qI0EGn8xa4gkDBJFkGgGLzXLnhhCQpK744pXFDhaXWFqzbwPtCuOxMLK33vvvWgxRuNRD13hbBAGX6oUWRB3iMTuoWGZhQHjT44eakVWQA92qBU7eHhMJUqPljX8r3O5dR417IfADipdbIQScmItuJSJRxDzPD62gJ0GskB6wn4orr+toQA6EzuNuxkWihBC+T2+N1Exwk4tS6wBJkAEnrqVIlVbkVFSEq7+NMeJ24Cc82omHPbE7NU0T/AX8K92p+gwKa+tBJ91yJg7aV0rshlPsLRSTrd1TIGhBtjAtlGUUHtQpS/Wv5s12rkgQa9VuoL+GS63mo00ZHL/O8XNad04L0hrRjbaHE+0YI8Lg4TcMU2KMn6ZpeqqRTSVnkCRIDkoHqVOZ7bA5Sr3JQSe9uUq33+AoJEnkeNY69qtUQ7QgpYgdoH7Kwv625NZhS1hGsBzreEiQlprdUVspyhaHgDjcMyu454Fzkx4O+V2DJEHMVL/NjpCFMcb4Stt5T1bjZc8XbUmQbc7R7lJrPsiTiIFTeDzEczFcxRoMWhBrxDfcXyLKVYzxqtY/SWcbuML7akRi0AfZ8EQdQfTTtwdjjE9zHsJJ/gVuJOJOSfMs8Rq40IJooHrANpN1OZdlBA/eDLd8ylETCZKDEuscFgES5LCq58BzECBBclBincMiQIIcVvUceA4CJEgOSqxzWARIkMOqngPPQYAEyUGJdQ6LAAlyWNVz4DkIkCA5KLHOYREgQQ6reg48BwESJAcl1jksAiTIYVXPgecg8H+UMa0yglfUhgAAAABJRU5ErkJggg==" alt="">\t\t\t<span>分享</span>\t</div>',a=n.createElement("div");if(e){var s=e.firstChild;e.insertBefore(a,s)}else this.parentEle.appendChild(a);a.outerHTML=i,a.style.zIndex=this.zIndex;var r=n.createElement("div");this.parentEle.appendChild(r),r.outerHTML='<div id="ccH5-share-box" style="display:none">\t\t\t<div class="main-box">\t\t\t    <div class="title">\t\t\t        <p class="left" style="font-size:14px;line-height:30px;">分享</p>\t\t\t        <p class="right">&times;</p>\t\t\t    </div>\t\t\t    <div class="body">\t\t\t        <div class="first" style="box-sizing: content-box;">\t\t\t            <span>分享到</span>\t\t\t            <img id="wb" style="width:32px;" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAgACADASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABQIDAf/EABYBAQEBAAAAAAAAAAAAAAAAAAIABP/aAAwDAQACEAMQAAABajE3NpagtA2JrGMY7e5X/8QAHBAAAgIDAQEAAAAAAAAAAAAAAQIAAwQRExIh/9oACAEBAAEFAozqsJ+BpbZzTlbZGa5JrYfXfK2X9EYWMpWsjY5wVqDP/8QAGhEAAgMBAQAAAAAAAAAAAAAAAAECAxIhMf/aAAgBAwEBPwGFafZMdeSS0eRyj//EABsRAAIDAAMAAAAAAAAAAAAAAAABAgMREiEx/9oACAECAQE/AV2S1ELUljJ2cvD/xAAiEAACAQIFBQAAAAAAAAAAAAAAARECIQMQMkFhEiIjMZH/2gAIAQEABj8CO5xlcnfYmPopsizMN1aSrrrac2p4PNqZfchlqqkT7fOX/8QAHRABAAICAwEBAAAAAAAAAAAAAQARITFRYXFBgf/aAAgBAQABPyG5oX1Nkf2JZhnSTvDEGRbf2FTjYOJSwkW8T0F5cTIWhm+UoDQwO+p2GsITDZwyppjReped8zubn//aAAwDAQACAAMAAAAQ7XL7/8QAGREBAAMBAQAAAAAAAAAAAAAAAQARIVGB/9oACAEDAQE/EDchCBaI8gg2qhXuT//EABgRAQEBAQEAAAAAAAAAAAAAAAEAESEx/9oACAECAQE/EG+JJpZoj4F//8QAHRABAAICAwEBAAAAAAAAAAAAAQARITFBUWFxgf/aAAgBAQABPxCKTJaFmaHCrFkhgSPCWEwpSj2LLTOyr+XDXa1BkeswUndYITS0oLpxuWepuCrAdcsMuWh887Hc2YNg4IcdMIQqneB/F6lEffELVFq9T//Z">\t\t\t            <img id="kj" style="width:32px;" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAeACADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDz3I9vy/8Ar12X7Pvw1Hxc+L+jaLNHNNYNIbm/EeVK20fzPk5yoY7Y9wOQZBjnFbH7MfhHwL8TvGUfh7xV/wAJBDq2oSFdMktJ9trckKWMLhULo+FZg5bYQCDsKr5n2p8Gv2fPhv8AA1by6sY/EVnNeRolzcKq3TlFyQAZpiVGTkhcAkDPQV914+fSOwHCVHG8NYejWp5lOk/YzkoQornTiqsakqibUPea5Yv34ckuV3t+R+F/hHis+q4fNqs6csJGa9pFOUp+7q4OCi0ubRO7Xuy5lfS/wr+0J8Nl+E/xh1rR4YZINPEgubBWJObeT5lAJJLKp3R5JJPlnPOa4vOT/wDWr9QP2mf2KfAPjHRND1LxNca9/bM1s7WFmYRBcCBmyTJNbzmLbkAgEuw38KMtj4M/ah8E+BfhV4xk8O+GP+Egm1jT3U6i93PutbXcgdYlDIHeQqyOWB2KpABdiwj7PBXx9o56sFwhmmHrvNYUYus0oVKdopJ1Z1I1W4c6cZSVSMZKc1FJ3jfHxI8La2UyxGeYSrT+pSqNU1eUZatvkjFwSly6pOMmuWN21rbxeXU/KUsWZRHh9wYqVKncCCOQQQCCOQQCORX6rfBH4taR8Avg3oeseNoVutYs9Mt/tWualqSRtbXAhUs6I8RQzBgSGYOxK9M5z+SDXwf7y7lzyp6MPTgg/liuu+Nvx+8Q/tBeLY9Y8Sy2rS26GO1tbSHyrW0Qtu2qpJZiCTh3Zn5xuxxXveN3hLmvHOZZRTwdWnh6GGlVnVqypwqVItqmoRpRmmry95uTaUeWMtZKKfm+G/HmE4Yw2OnVhKrVqqEYQUnGDs5OUptO9l7qSs27taJtn6eeKfiBoPxe+H2s614Xuda1a61Wym8jVIvEEc8zTmI+XiTyDtcZXAZTt4+XAAr8rzrH2t3mBkxcO02ZJTK5LEsSznl2JJJY8sSSeTWl8FPjx4g/Z/8AGDa14bmtUuJkEdzbXUPm212m7dtdQQVJIHzoVfjG7HFcrPqfmzSPsWMMxbYv3VyegyScD3JNcvgT4M5h4f5nm9KvVhiMPiXSnSqqEYVG17TnhVjFatNxakm1K8mlFtxW3iX4hYbivCYGcISp1aSnGcOZyhry8soN7J2kmrJrRapJn//Z">\t\t\t            <img id="wx" style="width:32px;" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAgACADASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAwQFAAL/xAAXAQADAQAAAAAAAAAAAAAAAAAAAgMB/9oADAMBAAIQAxAAAAFpg3cUlirTlmRqXguLJhff/8QAHRAAAgICAwEAAAAAAAAAAAAAAQIAAxITBBARM//aAAgBAQABBQJVLzRHUoZV8iBg6ZiyspKrMStys3gnIIFfW5xHYuf/xAAXEQADAQAAAAAAAAAAAAAAAAAAAhEB/9oACAEDAQE/AYNkMeDPkP/EABgRAAMBAQAAAAAAAAAAAAAAAAABAhEh/9oACAECAQE/AZhYOcFTQ64f/8QAGxAAAgMBAQEAAAAAAAAAAAAAAAEQESExMmH/2gAIAQEABj8Cw9GzWlON4JD+lT0tn//EACEQAAIBAgYDAAAAAAAAAAAAAAERADFhECFBUXGBkaHw/9oACAEBAAE/ITi8p9KJgd4CEu3AtFS8I0A6hPPMGhjpuMARjmbQbry49BiBl7iaoFP/2gAMAwEAAgADAAAAEAS+pv/EABgRAQEBAQEAAAAAAAAAAAAAAAEAESEx/9oACAEDAQE/EA52fo8kGSsF/8QAGREBAQEAAwAAAAAAAAAAAAAAAQARITFB/9oACAECAQE/EOUTZ1p1EZ5C4C//xAAgEAEAAgICAgMBAAAAAAAAAAABABEhMUFRYfBxkaHB/9oACAEBAAE/EHogG1ojj399znG0NMY4TG4Yd1LBVSlOUwd9JSUfm/5CGOk+4ZRVEK0u3x5gMOiFCr+/bgCi7o/UCmhQFwEuLKiuGkFgmmoFOZ//2Q==">\t\t\t            <div class="qrcode-box">\t\t\t\t\t\t\t<img src="" alt="">\t\t\t            </div>\t\t\t        </div>\t\t\t        <div class="rows">\t\t\t            <span>JS代码</span>\t\t\t            <input id=\'jsCodeInput\' readonly=\'readonly\' style=\'color:#000;\' type=\'text\'>\t\t\t            <div class="btn" style="padding:0">复制</div>\t\t\t        </div>\t\t\t        <div class="rows">\t\t\t            <span class="video-adress">视频地址</span>\t\t\t            <input id="videoAddrInput" readonly="readonly" style="color:#000;" type="text">\t\t\t            <div class="btn" style="padding:0">复制</div>\t\t\t        </div>\t\t\t    </div>\t\t\t</div>\t</div>',r.style.zIndex=this.zIndex},show:function(){this.hasShare&&(this.shareBtn.className="ccH5FadeIn")},hide:function(){this.hasShare&&(this.shareBtn.className="ccH5FadeOut")}},l.CCH5PlayerShare=function(e,t,i,a,s){var o=new r(e,t,i,a,s);return{init:function(){o.init()},hide:function(){o.hide()},show:function(){o.show()},clearIntervals:function(){var e=!0,t=!1,i=undefined;try{for(var a,s=(0,q["default"])(o.intervals);!(e=(a=s.next()).done);e=!0){var r=a.value;l.clearInterval(r)}}catch(n){t=!0,i=n}finally{try{!e&&s["return"]&&s["return"]()}finally{if(t)throw i}}}}}}}(window),function(a){var n=a.document;if("function"!=typeof CCH5PlayerStatistic){var o=function o(e,t,i,a,s){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.playerVersion=s,this.videoData={load_start_point:0,load_end_point:0,isSeeked:!1,bufferedArray:[],isEnded:!1,isPlayError:!1,playBtnClicked:!1,buffered:!1,isBuffering:!1,isPlaying:!1,isSeeking:!1,userPause:!1,duration:0,currentTime:0,seekingTime:0,isStart:!1,t1:(new Date).getTime(),watingNum:1,canplayNum:1,isDraging:!1,isDraging2:!1,isChangeQuality:!1,isChangeQuality2:!1,isResume:!1,isEnded2:!1,isCanplay:!1},this.heartId=null,this.dataPack={upid:i.UPID||99999,userid:t.siteid,videoid:t.vid,time:0,stage:0,random:0,id:0,uvid:null},this.config={uid:t.siteid,vid:t.vid,video:"cc_"+t.vid},this.getUvid()};o.prototype={constructor:o,init:function(){this.addEvents(),this.start()},addEvents:function(){var a=this,e=this.playerApi.playerEvent.changeQuality;this.playerApi.addPlayerEventListenner(e,function(e,t){a.send({stage:37,upid:a.dataPack.upid,userid:a.dataPack.userid,videoid:a.dataPack.videoid,source_url:encodeURIComponent(e.split("?")[0]),destination_url:encodeURIComponent(t.split("?")[0]),time:a.dataPack.time,random:a.dataPack.random,terminal_type:a.isPC()?40:30}),a.videoData.isChangeQuality=!0,a.videoData.isChangeQuality2=!0});var t=this.playerApi.playerEvent.changeSpeed;this.playerApi.addPlayerEventListenner(t,function(e,t,i){a.send({stage:38,upid:a.dataPack.upid,userid:a.dataPack.userid,videoid:a.dataPack.videoid,play_url:encodeURIComponent(i.split("?")[0]),source_speed:e,target_speed:t,time:a.dataPack.time,random:a.dataPack.random,terminal_type:a.isPC()?40:30})});var i=n.getElementById("replaybtn"),s=0;null!==i&&(i.onclick=function(){1<++s&&(a.sendClick("https://m-click.bokecc.com/flash/playaction?",{uid:a.dataPack.userid,vid:a.dataPack.videoid,action:"replay",data:a.dataPack.time,random:a.dataPack.random,terminal_type:30}),a.send({stage:77,upid:a.dataPack.upid,userid:a.dataPack.userid,videoid:a.dataPack.videoid,play_position:Math.floor(1e3*a.videoData.currentTime),video_duration:Math.floor(1e3*a.videoData.duration),time:a.dataPack.time,random:a.dataPack.random,terminal_type:a.isPC()?40:30}))})},sendReadyPlayState:function(e,t,i){this.freshDataPack(),this.randomData();var a=e?1:0,s={stage:10,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,status:a,pl_time:1,pi_time:t,uvid:this.dataPack.uvid,ready_time:(new Date).getTime()-this.playerApi.getPlayStartTime(),time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30,cv:this.playerVersion};!e&&i&&(s.reason=i),this.send(s)},smartBuffer:function(){var e=this;this.smartInterval=setInterval(function(){0==e.videoData.isSeeked&&0==e.videoData.userPause&&0==e.videoData.isSeeking&&1==e.videoData.isPlaying&&e.videoData.currentTime==e.playerApi.getCurrentTime()&&(e.videoData.isPlaying=!1)},300)},start:function(){var i=this,e=!0,t=!1,a=undefined;try{for(var s,r=(0,q["default"])(["canplay","loadstart","progress","durationchange","waiting","play","pause","seeking","seeked","ended","error","stalled","loadedmetadata","timeupdate","playing","suspend","canplaythrough"]);!(e=(s=r.next()).done);e=!0){!function(t){i.playerApi.registerVideoEvent(t,function(e){i[t]&&i[t]&&i[t](e)})}(s.value)}}catch(n){t=!0,a=n}finally{try{!e&&r["return"]&&r["return"]()}finally{if(t)throw a}}},isInBuffered:function(){var e,t=this.videoData.bufferedArray,i=!0,a=!1,s=undefined;try{for(var r,n=(0,q["default"])(t);!(i=(r=n.next()).done);i=!0){var o=r.value;if((e=this.playerApi.getCurrentTime())>o.start&&e<o.end-10)return!1}}catch(l){a=!0,s=l}finally{try{!i&&n["return"]&&n["return"]()}finally{if(a)throw s}}return!0},canplay:function(e){if(this.videoData.canplayNum++,2<this.videoData.canplayNum){if(this.videoData.isCanplay=!0,1==this.videoData.isDraging)return;if(1==this.videoData.isChangeQuality)return;this.send({stage:33,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,play_url:encodeURIComponent(/blob:|mediasource:/.test(e.target.currentSrc.split("?")[0])?e.target.querySelector("source").src:e.target.currentSrc.split("?")[0]),play_position:Math.floor(1e3*e.target.currentTime),load_start_point:this.videoData.load_start_point,load_end_point:this.videoData.load_end_point,buffered_size:-1,buffered_time:this.videoData.load_end_point,time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30})}this.videoData.isDraging=!1,this.videoData.isChangeQuality=!1},play:function(e){0==this.videoData.playBtnClicked?this.videoData.playBtnClicked=!0:(0==this.videoData.isEnded&&0==this.videoData.isChangeQuality2&&(this.videoData.isResume=!0,this.send({stage:33,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,play_url:encodeURIComponent(/blob:|mediasource:/.test(e.target.currentSrc.split("?")[0])?e.target.querySelector("source").src:e.target.currentSrc.split("?")[0]),play_position:Math.floor(1e3*e.target.currentTime),load_start_point:this.videoData.load_start_point,load_end_point:this.videoData.load_end_point,buffered_size:-1,buffered_time:this.videoData.load_end_point,time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30}),this.send({stage:35,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,type:1,time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30}),this.sendClick("https://m-click.bokecc.com/flash/playaction?",{uid:this.dataPack.userid,vid:this.dataPack.videoid,data:this.dataPack.time,random:this.dataPack.random,terminal_type:30})),this.videoData.isEnded=!1,this.videoData.isChangeQuality2=!1),this.videoData.userPause=!1},pause:function(e){this.videoData.userPause=!0,e.target.currentTime!=this.videoData.duration&&(this.send({stage:35,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,type:0,time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30}),this.sendClick("https://m-click.bokecc.com/flash/playaction?",{uid:this.dataPack.userid,vid:this.dataPack.videoid,action:"pause",data:this.dataPack.time,random:this.dataPack.random,terminal_type:30}))},seeking:function(e){this.videoData.isSeeked=!0,this.videoData.isSeeking=!0,this.videoData.isDraging=!0},seeked:function(e){var t;this.videoData.isDraging=!0,1==this.videoData.isEnded2?this.videoData.isDraging2=!1:this.videoData.isDraging2=!0,0==this.videoData.isEnded&&0==this.videoData.isChangeQuality&&(this.send({stage:36,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,start_position:Math.floor(1e3*this.videoData.currentTime),end_position:Math.floor(1e3*e.currentTarget.currentTime),load_start_point:this.videoData.load_start_point,load_end_point:this.videoData.load_end_point,time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30}),t=this.isInBuffered()?"unbuffereddrag":"buffereddrag",this.sendClick("https://m-click.bokecc.com/flash/playaction?",{uid:this.dataPack.userid,vid:this.dataPack.videoid,action:t,data:this.dataPack.time,random:this.dataPack.random,terminal_type:30}));this.videoData.isSeeking=!1,this.videoData.isChangeQuality=!1,this.videoData.isEnded2=!1},loadstart:function(e){},progress:function(e){this.videoData.bufferedArray=[];var t=this.playerApi.getVideoBuffered();if(t){for(var i=t.length,a=0;a<i;a++){var s={start:0,end:0};s.start=t.start(a),s.end=t.end(a),this.videoData.bufferedArray.push(s)}0<i&&(void 0===t.start(i-1)||void 0===t.end(i-1)?(this.videoData.load_start_point=0,this.videoData.load_end_point=0):(this.videoData.load_start_point=Math.floor(1e3*t.start(i-1)),this.videoData.load_end_point=Math.floor(1e3*t.end(i-1))))}},waiting:function(e){if(0!=this.videoData.isStart){if(1==this.videoData.isDraging)return;if(1==this.videoData.isChangeQuality)return;this.videoData.watingNum++,this.send({stage:32,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,play_url:encodeURIComponent(/blob:|mediasource:/.test(e.target.currentSrc.split("?")[0])?e.target.querySelector("source").src:e.target.currentSrc.split("?")[0]),play_position:Math.floor(1e3*e.target.currentTime),load_start_point:this.videoData.load_start_point,load_end_point:this.videoData.load_end_point,buffer_left:Math.floor(1e3*this.videoData.duration-this.videoData.load_end_point),time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30}),2==this.videoData.watingNum&&this.sendClick("https://m-click.bokecc.com/playlog.php?",{id:encodeURIComponent(this.dataPack.id),VIP:2,action:1,flvURL:encodeURIComponent(/blob:|mediasource:/.test(e.target.currentSrc.split("?")[0])?e.target.querySelector("source").src:e.target.currentSrc.split("?")[0]),bufferPercent:this.videoData.load_end_point/1e4,userID:this.dataPack.userid,videoID:this.dataPack.videoid,status:2,data:this.dataPack.time,random:this.dataPack.random,terminal_type:30}),4==this.videoData.watingNum&&this.sendClick("https://m-click.bokecc.com/playlog.php?",{id:encodeURIComponent(this.dataPack.id),VIP:2,action:3,flvURL:encodeURIComponent(/blob:|mediasource:/.test(e.target.currentSrc.split("?")[0])?e.target.querySelector("source").src:e.target.currentSrc.split("?")[0]),bufferPercent:this.videoData.load_end_point/1e4,userID:this.dataPack.userid,videoID:this.dataPack.videoid,status:2,data:this.dataPack.time,random:this.dataPack.random,terminal_type:30})}this.videoData.isDraging=!1,this.videoData.isChangeQuality=!1},ended:function(e){this.videoData.isEnded=!0,this.videoData.isDraging2=!1,this.videoData.isResume=!1,this.videoData.isEnded2=!0,this.send({stage:40,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,play_url:encodeURIComponent(/blob:|mediasource:/.test(e.target.currentSrc.split("?")[0])?e.target.querySelector("source").src:e.target.currentSrc.split("?")[0]),play_position:Math.floor(1e3*e.target.currentTime),load_start_point:this.videoData.load_start_point,load_end_point:this.videoData.load_end_point,video_duration:Math.floor(1e3*this.videoData.duration),retry:0,time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30}),this.sendClick("https://m-click.bokecc.com/flash/playaction?",{uid:this.dataPack.userid,vid:this.dataPack.videoid,action:"finish",data:this.dataPack.time,random:this.dataPack.random,terminal_type:30}),this.heartStop()},stalled:function(){(new Date).getTime();switch(a.videoStatus){case 0:115;break;case 2:113;break;case 4:116;break;case 5:207}},durationchange:function(e){},timeupdate:function(e){this.videoData.isPlaying=!0,this.videoData.currentTime=e.currentTarget.currentTime},playing:function(e){this.videoData.duration=e.currentTarget.duration,this.videoData.isPlaying=!0,this.videoData.userPause=!1;var t=this.params.customerId||"";if(0==this.videoData.isStart){this.smartBuffer();var i=(new Date).getTime();this.videoData.isStart=!0,this.send({stage:31,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,play_url:encodeURIComponent(/blob:|mediasource:/.test(e.target.currentSrc.split("?")[0])?e.target.querySelector("source").src:e.target.currentSrc.split("?")[0]),play_position:Math.floor(1e3*e.target.currentTime),load_start_point:this.videoData.load_start_point,load_end_point:this.videoData.load_end_point,pre_adduration:0,group_test_count:1,total_test_time:1,video_duration:Math.floor(1e3*this.videoData.duration),video_size:-1,page_url:encodeURIComponent(a.location.href),uvid:this.dataPack.uvid,ready_time:Math.floor(i-this.videoData.t1),time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30,custom_id:t}),this.sendClick("https://m-click.bokecc.com/playlog.php?",{id:encodeURIComponent(this.dataPack.id),VIP:2,action:0,flvURL:encodeURIComponent(/blob:|mediasource:/.test(e.target.currentSrc.split("?")[0])?e.target.querySelector("source").src:e.target.currentSrc.split("?")[0]),bufferPercent:this.videoData.load_end_point/1e4,userID:this.dataPack.userid,videoID:this.dataPack.videoid,status:2,data:this.dataPack.time,random:this.dataPack.random,terminal_type:30})}0==this.videoData.isResume&&0==this.videoData.isDraging2&&0==this.videoData.isCanplay&&this.send({stage:77,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,play_position:Math.floor(1e3*this.videoData.currentTime),video_duration:Math.floor(1e3*this.videoData.duration),time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30}),this.videoData.isResume=!1,this.videoData.isDraging2=!1,this.videoData.isCanplay=!1,this.heartSend()},canplaythrough:function(e){},suspend:function(e){},error:function(e){this.heartStop();var t=!(this.videoData.isPlayError=!0);if(e.target.error&&e.target.error.code)switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:"客户端主动终止视频加载";break;case e.target.error.MEDIA_ERR_NETWORK:"播放过程中视频加载失败";break;case e.target.error.MEDIA_ERR_DECODE:"解码错误";break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:this.dataPack.stage=34,t=!0;break;default:"未知错误"}t?this.send({stage:34,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,play_url:encodeURIComponent(/blob:|mediasource:/.test(event.target.currentSrc.split("?")[0])?event.target.querySelector("source").src:event.target.currentSrc.split("?")[0]),play_position:Math.floor(1e3*event.target.currentTime),load_start_point:0,load_end_point:0,status:1,time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30}):this.send({stage:34,upid:this.dataPack.upid,userid:this.dataPack.userid,videoid:this.dataPack.videoid,play_url:encodeURIComponent(/blob:|mediasource:/.test(event.target.currentSrc.split("?")[0])?event.target.querySelector("source").src:event.target.currentSrc.split("?")[0]),play_position:Math.floor(1e3*event.target.currentTime),load_start_point:this.videoData.load_start_point,load_end_point:this.videoData.load_end_point,status:2,time:this.dataPack.time,random:this.dataPack.random,terminal_type:this.isPC()?40:30}),this.sendClick("https://m-click.bokecc.com/playlog.php?",{id:encodeURIComponent(this.dataPack.id),VIP:2,action:2,flvURL:encodeURIComponent(/blob:|mediasource:/.test(event.target.currentSrc.split("?")[0])?event.target.querySelector("source").src:event.target.currentSrc.split("?")[0]),bufferPercent:this.videoData.load_end_point/1e4,userID:this.dataPack.userid,videoID:this.dataPack.videoid,status:2,data:this.dataPack.time,random:this.dataPack.random,terminal_type:30})},setCookie:function(e,t,i){var a=new Date;a.setTime(a.getTime()+60*(i||24)*60*1e3*365),n.cookie=e+"="+escape(t)+";expires="+a.toGMTString()+";path=/"},getCookie:function(e){var t=n.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},isPC:function(){if(!/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i.test(navigator.userAgent))return!0},initDataPack:function(){for(var e=1;e<=32;e++){Math.floor(16*Math.random()).toString(16),8!=e&&12!=e&&16!=e&&20!=e||"-"}},freshDataPack:function(){this.dataPack.time=(new Date).getTime()},randomData:function(){this.dataPack.random=Math.floor(Math.random()*Math.pow(10,7))},idData:function(){var e=new Date,t=e.getHours(),i=e.getMinutes(),a=e.getSeconds();this.dataPack.id=(3600*t+60*i+a).toString(36)+"_"+Math.round(999999*Math.random()).toString(36)},getUvid:function(){var e;null!=this.getCookie("uniqueVisitorId")?e=this.getCookie("uniqueVisitorId"):(e=function t(){var e=function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}(),this.setCookie("uniqueVisitorId",e)),this.dataPack.uvid=i.hex_sha1(e).toUpperCase()},parseJsonToParams:function(e){var t=[];for(var i in e){var a=i+"="+e[i];t.push(a)}return t.join("&")},heartSend:function(){if(!this.heartId){var e=this;this.heartId=setInterval(function(){e.send({stage:77,upid:e.dataPack.upid,userid:e.dataPack.userid,videoid:e.dataPack.videoid,play_position:Math.floor(1e3*e.videoData.currentTime),video_duration:Math.floor(1e3*e.videoData.duration),time:e.dataPack.time,random:e.dataPack.random,terminal_type:e.isPC()?40:30})},1e4)}},heartStop:function(){clearInterval(this.heartId),this.heartId=null},send:function(e){this.idData(),this.freshDataPack(),this.randomData(),this.sendRequest("https://m-flare.bokecc.com/flash/playlog",e)},sendClick:function(e,t){this.idData(),this.freshDataPack(),this.randomData(),this.sendRequest(e,t)},sendRequest:function(e,t){var i="";if(t){var a=this.parseJsonToParams(t)+"&"+i;i=a.substring(0,a.length-1)}var s=n.getElementsByTagName("head")[0]||n.documentElement,r=n.createElement("script");-1<e.indexOf("?")?r.src=e+"&"+i:r.src=e+"?"+i,s.insertBefore(r,s.firstChild),r.onload=r.onreadystatechange=function(){this.readyState&&!/loaded|complete/.test(r.readyState)||(r.onload=r.onreadystatechange=null,s&&r.parentNode&&s.removeChild(r))}}};var i={hexcase:0,b64pad:"",chrsz:8,hex_sha1:function(e){return this.binb2hex(this.core_sha1(this.str2binb(e),e.length*this.chrsz))},b64_sha1:function(e){return this.binb2hex(this.core_sha1(this.str2binb(e),e.length*this.chrsz))},str_sha1:function(e){return this.binb2hex(this.core_sha1(this.str2binb(e),e.length*this.chrsz))},hex_hmac_sha1:function(e,t){return this.binb2hex(this.core_hmac_sha1(e,t))},b64_hmac_sha1:function(e,t){return this.binb2b64(this.core_hmac_sha1(e,t))},str_hmac_sha1:function(e,t){return this.binb2str(this.core_hmac_sha1(e,t))},sha1_vm_test:function(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==this.hex_sha1("abc")},core_sha1:function(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var i=Array(80),a=1732584193,s=-271733879,r=-1732584194,n=271733878,o=-1009589776,l=0;l<e.length;l+=16){for(var c=a,d=s,h=r,u=n,p=o,y=0;y<80;y++){i[y]=y<16?e[l+y]:this.rol(i[y-3]^i[y-8]^i[y-14]^i[y-16],1);var m=this.safe_add(this.safe_add(this.rol(a,5),this.sha1_ft(y,s,r,n)),this.safe_add(this.safe_add(o,i[y]),this.sha1_kt(y)));o=n,n=r,r=this.rol(s,30),s=a,a=m}a=this.safe_add(a,c),s=this.safe_add(s,d),r=this.safe_add(r,h),n=this.safe_add(n,u),o=this.safe_add(o,p)}return Array(a,s,r,n,o)},sha1_ft:function(e,t,i,a){return e<20?t&i|~t&a:e<40?t^i^a:e<60?t&i|t&a|i&a:t^i^a},sha1_kt:function(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514},core_hmac_sha1:function(e,t){var i=this.str2binb(e);16<i.length&&(i=this.core_sha1(i,e.length*this.chrsz));for(var a=Array(16),s=Array(16),r=0;r<16;r++)a[r]=909522486^i[r],s[r]=1549556828^i[r];var n=this.core_sha1(a.concat(this.str2binb(t)),512+t.length*this.chrsz);return this.core_sha1(s.concat(n),672)},safe_add:function(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i},rol:function(e,t){return e<<t|e>>>32-t},str2binb:function(e){for(var t=Array(),i=(1<<this.chrsz)-1,a=0;a<e.length*this.chrsz;a+=this.chrsz)t[a>>5]|=(e.charCodeAt(a/this.chrsz)&i)<<24-a%32;return t},binb2str:function(e){for(var t="",i=(1<<this.chrsz)-1,a=0;a<32*e.length;a+=this.chrsz)t+=String.fromCharCode(e[a>>5]>>>24-a%32&i);return t},binb2hex:function(e){for(var t=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",i="",a=0;a<4*e.length;a++)i+=t.charAt(e[a>>2]>>8*(3-a%4)+4&15)+t.charAt(e[a>>2]>>8*(3-a%4)&15);return i},binb2b64:function(e){for(var t="",i=0;i<4*e.length;i+=3)for(var a=(e[i>>2]>>8*(3-i%4)&255)<<16|(e[i+1>>2]>>8*(3-(i+1)%4)&255)<<8|e[i+2>>2]>>8*(3-(i+2)%4)&255,s=0;s<4;s++)8*i+6*s>32*e.length?t+=this.b64pad:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>6*(3-s)&63);return t}};a.CCH5PlayerStatistic=function(e,t,i,a,s){var r=new o(e,t,i,a,s);return{init:function(){r.init()},sendReadyPlayState:function(e,t,i){r.sendReadyPlayState(e,t,i)},destroy:function(){r.heartId&&clearInterval(r.heartId),r.smartInterval&&clearInterval(r.smartInterval)}}},a.CCH5PlayerStatistic.PLAY_FAIL_REASONS={VIDEO_DOING:113,VIDEO_DISABLE:114,VIDEO_ERROR:115,NO_COPY:116,RESULT_FAILE:120,AUTH_ERROR:207,NET_ERROR:121}}}(window),window,y=window.document,m=function m(e,t,i,a,s){this.playerApi=e,this.params=t,this.videoPlayData=i,this.parentEle=a,this.zIndex=s},m.prototype={isCanClose:!1,init:function(){this.createView(),this.initData(),this.registerVideoListener()},createView:function(){var e=y.createElement("div");this.parentEle.appendChild(e),e.outerHTML="<div id='ccVisitorBox' style='display:none'></div><p class='ccVisitorSuccessTips'>提交成功，感谢您的填写</p>",R.queryEle("#ccVisitorBox",this.parentEle).style.zIndex=this.zIndex,R.queryEle(".ccVisitorSuccessTips",this.parentEle).style.zIndex=this.zIndex},initData:function(){this.ccMask=R.queryEle("#ccMask",this.parentEle),this.visitorBox=R.queryEle("#ccVisitorBox",this.parentEle)},registerVideoListener:function(){var t=this,i=this;this.playerApi.registerVideoEvent("timeupdate",function(){if(t.videoPlayData.visitor){var e=t.playerApi.getCurrentTime();parseInt(e)>=t.videoPlayData.visitor.appearTime&&!1===i.isCanClose&&i.createVistorView(t.videoPlayData.visitor)}})},createVistorView:function(e){if(null===this.ccMask){var t=y.createElement("div");t.className="ccMask",t.id="ccMask",this.parentEle.appendChild(t),this.ccMask=t}if(null===this.visitorBox){var i=y.createElement("div");i.id="ccVisitorBox",this.parentEle.appendChild(i),this.visitorBox=i}var a=e.visitorMessage.reduce(function(e,t){return e+'<div class="row"><span>'+t.visitorMes+'</span><input type="text" placeholder='+t.visitorTip+"></div>"},""),s='<button class="jumpOver">跳过</button>';0===e.isJump&&(s="");var r='<div class="header">\t    <a href=http://'+e.jumpURL+">\t\t    <img src="+e.imageURL+" alt="+e.title+" title="+e.title+'>\t\t</a>\t</div>\t<div class="body">'+a+'  <p class="ccVisitorErrorTips"></p>\t</div>\t<div class="footer">\t    <button class="submit">提交</button>'+s+"\t</div>";this.playerApi.videoPause(),this.ccMask.style.display="block",this.visitorBox.style.display="block",this.visitorBox.innerHTML=r,this.visitorSubmitBtn=R.queryEle(".submit",this.visitorBox),this.jumpOverBtn=R.queryEle(".jumpOver",this.visitorBox),this.visitorSubmitBtn.addEventListener("click",this.visitorSubmit.bind(this,e)),0!==e.isJump&&this.jumpOverBtn.addEventListener("click",this.closeVisitor.bind(this))},visitorSubmit:function(e){for(var t=R.queryEleAll("input",this.visitorBox),i=R.queryEleAll("span",this.visitorBox),a=[],s=!1,r=0;r<t.length;r++)if(""===t[r].value.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")){s=!0;break}if(s)alert("请检查是否有未填项");else{for(r=0;r<t.length;r++){var n={};n.collector=i[r].innerText,n.collectorMes=t[r].value,a.push(n)}var o=(0,h["default"])(a),l=this,c=e.appearTime;R.ccJsonp({url:"https://spark.bokecc.com/servlet/visitor/collect",data:{visitorId:e.visitorId,videoId:this.videoPlayData.vid,userId:this.videoPlayData.uid,message:o},success:function(e){var t=R.queryEle(".ccVisitorErrorTips",l.visitorBox),i=R.queryEle(".ccVisitorSuccessTips",l.parentEle);if("OK"!==e.result)throw t.innerText="请尝试重新提交或联系网站管理员",t.style.display="block",setTimeout(function(){t.style.display="none"},4e3),"发送数据失败参考 "+e.error;l.closeVisitor(c),i.style.display="block",setTimeout(function(){i.style.display="none"},3e3)},error:function(){}})}},closeVisitor:function(e){this.ccMask.style.display="none",this.visitorBox.style.display="none",this.isCanClose=!0,this.videoPlayData.visitor=null,e!==undefined&&"number"==typeof e&&this.playerApi.setCurrentTime(e),this.playerApi.videoPlay()},getVistorIsShow:function(){var e=R.queryEle("#ccVisitorBox",this.parentEle);return!(!e||"block"!==e.style.display)}},window.CCH5PlayerVistor=function(e,t,i,a,s){var r=new m(e,t,i,a,s);return{init:function(){r.init()},getVistorIsShow:function(){return r.getVistorIsShow()}}},function(x){var b=x.document;if("function"!=typeof CCH5PlayerVr){var n=function n(e,t,i,a,s,r){this.playerApi=e,this.params=t,this.data=i,this.parentEle=a,this.zIndex=s,this.oVideo=r,this.renderer=null,this.vrPlayerBox=null,this.isDestroy=!1};n.prototype={constructor:n,intervals:[],init:function(){this.initData();var e=this;R.loadScript(["https://p.bokecc.com/js/player/three.min.js","https://p.bokecc.com/js/player/DeviceOrientationControls.js"],function(){e.on_vr_init(),e.initEvents()})},initData:function(){(R.isIPad()||R.isIPhone()||R.isAndroid())&&(this.parentEle.style.width=x.innerWidth+"px",this.parentEle.style.height=x.innerHeight+"px"),this.vrPlayerBox=R.queryEle(".ccH5playerBox",this.parentEle),this.vr_w=this.vrPlayerBox.clientWidth,this.vr_h=this.vrPlayerBox.clientHeight},initEvents:function(){var t=this;this.canvas.addEventListener("touchstart",function(e){1==e.touches.length&&t.playerApi.toggleCtrlBar()})},on_vr_init:function(){var i=this;this.playerApi.registerVideoEvent("playing",function(){h(),c()});var t=90,a=new THREE.PerspectiveCamera(t,x.innerWidth/x.innerHeight,1,1e3);a.zoom=.8,a.lookAt({x:0,y:0,z:0});var e=new THREE.Scene,s=new THREE.VideoTexture(this.oVideo);s.minFilter=THREE.LinearFilter,s.format=THREE.RGBFormat;var r=new THREE.MeshBasicMaterial({map:s}),n=new THREE.SphereBufferGeometry(500,this.vr_w/10,this.vr_h/10);n.scale(-1,1,1);var o=new THREE.Mesh(n,r);o.rotation.y=-1.6,e.add(o),this.initRenderer();var l=0,c=function c(){i.isDestroy||(l=requestAnimationFrame(c),i.renderer.clear(),i.renderer.domElement.style.zIndex=i.zIndex,i.renderer.render(e,a))},d=0,h=function h(){i.isDestroy||(d=requestAnimationFrame(h))};this.playerApi.registerVideoEvent("ended",function(){cancelAnimationFrame(l),cancelAnimationFrame(d)});var u=function u(e){return Math.max(Math.min(90*Math.PI/180,e),-90*Math.PI/180)},p={},y=function y(e){R.preventEvent(e);var t=R.getMousePos(e);o.rotation.y-=(t.x-p.x)/i.vr_w*2,o.rotation.x=u(o.rotation.x+(t.y-p.y)/i.vr_h*2),p=t},m=function m(e){b.removeEventListener("touchend",m,{passive:!1}),b.removeEventListener("touchmove",y,{passive:!1})},f=function f(e){p=R.getMousePos(e),o.rotation.x,o.rotation.y,b.addEventListener("touchend",m,{passive:!1}),b.addEventListener("touchmove",y,{passive:!1})},v=function v(e){R.preventEvent(e);var t=R.getMousePos(e);o.rotation.y-=(t.x-p.x)/i.vr_w*2,o.rotation.x=u(o.rotation.x-(t.y-p.y)/i.vr_h*2),p=t},g=function g(e){b.removeEventListener("mouseup",g),b.removeEventListener("mousemove",v,{passive:!1})},A=function A(e){p=R.getMousePos(e),o.rotation.x,o.rotation.y,b.addEventListener("mouseup",g),b.addEventListener("mousemove",v,{passive:!1})};this.canvas.addEventListener("touchstart",f),this.canvas.addEventListener("mousedown",A);var P=function P(e){e.preventDefault(),e.scale&&(1<e.scale&&(t-=2)<20&&(t=20),e.scale<1&&120<(t+=2)&&(t=120)),a.fov=t,a.updateProjectionMatrix()},E=function E(e){e.preventDefault(),e.wheelDelta?(0<e.wheelDelta&&(t-=1<t?5:0)<20&&(t=20),e.wheelDelta<0&&120<(t+=t<1e3?5:0)&&(t=120)):e.detail&&(0<e.detail&&(t-=5)<20&&(t=20),e.detail<0&&120<(t+=5)&&(t=120)),a.fov=t,a.updateProjectionMatrix()};this.canvas.addEventListener("mousewheel",E,!1),this.canvas.addEventListener("gesturechange",P,!1)},initRenderer:function(){var e=new THREE.WebGLRenderer({antialias:!0});e.setSize(this.vr_w,this.vr_h),e.domElement.style.position="absolute",e.domElement.style.zIndex=1,e.domElement.style.width="100%",e.domElement.style.height="100%",this.vrPlayerBox.appendChild(e.domElement),this.renderer=e,this.canvas=e.domElement}},x.CCH5PlayerVr=function(e,t,i,a,s,r){var o=new n(e,t,i,a,s,r);return{init:function(){o.init()},destroy:function(){o.renderer.clear();var e=o.isDestroy=!0,t=!1,i=undefined;try{for(var a,s=(0,q["default"])(o.intervals);!(e=(a=s.next()).done);e=!0){var r=a.value;x.clearInterval(r)}}catch(n){t=!0,i=n}finally{try{!e&&s["return"]&&s["return"]()}finally{if(t)throw i}}}}}}}(window)},{"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/json/stringify":3,"babel-runtime/core-js/object/assign":4,"babel-runtime/core-js/object/keys":5,"babel-runtime/helpers/typeof":8}],2:[function(e,t,i){t.exports={"default":e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":9}],3:[function(e,t,i){t.exports={"default":e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":10}],4:[function(e,t,i){t.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":11}],5:[function(e,t,i){t.exports={"default":e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":12}],6:[function(e,t,i){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":13}],7:[function(e,t,i){t.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":14}],8:[function(e,t,i){"use strict";i.__esModule=!0;var a=n(e("../core-js/symbol/iterator")),s=n(e("../core-js/symbol")),r="function"==typeof s["default"]&&"symbol"==typeof a["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof s["default"]&&e.constructor===s["default"]&&e!==s["default"].prototype?"symbol":typeof e};function n(e){return e&&e.__esModule?e:{"default":e}}i["default"]="function"==typeof s["default"]&&"symbol"===r(a["default"])?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof s["default"]&&e.constructor===s["default"]&&e!==s["default"].prototype?"symbol":void 0===e?"undefined":r(e)}},{"../core-js/symbol":6,"../core-js/symbol/iterator":7}],9:[function(e,t,i){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":74,"../modules/es6.string.iterator":79,"../modules/web.dom.iterable":83}],10:[function(e,t,i){var a=e("../../modules/_core"),s=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(e){return s.stringify.apply(s,arguments)}},{"../../modules/_core":21}],11:[function(e,t,i){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":21,"../../modules/es6.object.assign":76}],12:[function(e,t,i){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":21,"../../modules/es6.object.keys":77}],13:[function(e,t,i){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":21,"../../modules/es6.object.to-string":78,"../../modules/es6.symbol":80,"../../modules/es7.symbol.async-iterator":81,"../../modules/es7.symbol.observable":82}],14:[function(e,t,i){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":71,"../../modules/es6.string.iterator":79,"../../modules/web.dom.iterable":83}],15:[function(e,t,i){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],16:[function(e,t,i){t.exports=function(){}},{}],17:[function(e,t,i){var a=e("./_is-object");t.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":37}],18:[function(e,t,i){var l=e("./_to-iobject"),c=e("./_to-length"),d=e("./_to-absolute-index");t.exports=function(o){return function(e,t,i){var a,s=l(e),r=c(s.length),n=d(i,r);if(o&&t!=t){for(;n<r;)if((a=s[n++])!=a)return!0}else for(;n<r;n++)if((o||n in s)&&s[n]===t)return o||n||0;return!o&&-1}}},{"./_to-absolute-index":63,"./_to-iobject":65,"./_to-length":66}],19:[function(t,i,a){var r=t("./_cof"),n=t("./_wks")("toStringTag"),o="Arguments"==r(function(){return arguments}());i.exports=function(t){var i,a,s;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(a=function(t,i){try{return t[i]}catch(e){}}(i=Object(t),n))?a:o?r(i):"Object"==(s=r(i))&&"function"==typeof i.callee?"Arguments":s}},{"./_cof":20,"./_wks":72}],20:[function(e,t,i){var a={}.toString;t.exports=function(e){return a.call(e).slice(8,-1)}},{}],21:[function(e,t,i){var a=t.exports={version:"2.6.10"};"number"==typeof __e&&(__e=a)},{}],22:[function(e,t,i){var r=e("./_a-function");t.exports=function(a,s,e){if(r(a),s===undefined)return a;switch(e){case 1:return function(e){return a.call(s,e)};case 2:return function(e,t){return a.call(s,e,t)};case 3:return function(e,t,i){return a.call(s,e,t,i)}}return function(){return a.apply(s,arguments)}}},{"./_a-function":15}],23:[function(e,t,i){t.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},{}],24:[function(e,t,i){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":29}],25:[function(e,t,i){var a=e("./_is-object"),s=e("./_global").document,r=a(s)&&a(s.createElement);t.exports=function(e){return r?s.createElement(e):{}}},{"./_global":30,"./_is-object":37}],26:[function(e,t,i){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],27:[function(e,t,i){var o=e("./_object-keys"),l=e("./_object-gops"),c=e("./_object-pie");t.exports=function(e){var t=o(e),i=l.f;if(i)for(var a,s=i(e),r=c.f,n=0;s.length>n;)r.call(e,a=s[n++])&&t.push(a);return t}},{"./_object-gops":51,"./_object-keys":54,"./_object-pie":55}],28:[function(e,t,i){var m=e("./_global"),f=e("./_core"),v=e("./_ctx"),g=e("./_hide"),A=e("./_has"),P="prototype",E=function(e,t,i){var a,s,r,n=e&E.F,o=e&E.G,l=e&E.S,c=e&E.P,d=e&E.B,h=e&E.W,u=o?f:f[t]||(f[t]={}),p=u[P],y=o?m:l?m[t]:(m[t]||{})[P];for(a in o&&(i=t),i)(s=!n&&y&&y[a]!==undefined)&&A(u,a)||(r=s?y[a]:i[a],u[a]=o&&"function"!=typeof y[a]?i[a]:d&&s?v(r,m):h&&y[a]==r?function(a){var e=function(e,t,i){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(e);case 2:return new a(e,t)}return new a(e,t,i)}return a.apply(this,arguments)};return e[P]=a[P],e}(r):c&&"function"==typeof r?v(Function.call,r):r,c&&((u.virtual||(u.virtual={}))[a]=r,e&E.R&&p&&!p[a]&&g(p,a,r)))};E.F=1,E.G=2,E.S=4,E.P=8,E.B=16,E.W=32,E.U=64,E.R=128,t.exports=E},{"./_core":21,"./_ctx":22,"./_global":30,"./_has":31,"./_hide":32}],29:[function(t,i,a){i.exports=function(t){try{return!!t()}catch(e){return!0}}},{}],30:[function(e,t,i){var a=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},{}],31:[function(e,t,i){var a={}.hasOwnProperty;t.exports=function(e,t){return a.call(e,t)}},{}],32:[function(e,t,i){var a=e("./_object-dp"),s=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,i){return a.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},{"./_descriptors":24,"./_object-dp":46,"./_property-desc":57}],33:[function(e,t,i){var a=e("./_global").document;t.exports=a&&a.documentElement},{"./_global":30}],34:[function(e,t,i){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":24,"./_dom-create":25,"./_fails":29}],35:[function(e,t,i){var a=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},{"./_cof":20}],36:[function(e,t,i){var a=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==a(e)}},{"./_cof":20}],37:[function(e,t,i){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],38:[function(e,t,i){"use strict";var a=e("./_object-create"),s=e("./_property-desc"),r=e("./_set-to-string-tag"),n={};e("./_hide")(n,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,i){e.prototype=a(n,{next:s(1,i)}),r(e,t+" Iterator")}},{"./_hide":32,"./_object-create":45,"./_property-desc":57,"./_set-to-string-tag":59,"./_wks":72}],39:[function(e,t,i){"use strict";var A=e("./_library"),P=e("./_export"),E=e("./_redefine"),x=e("./_hide"),b=e("./_iterators"),T=e("./_iter-create"),w=e("./_set-to-string-tag"),k=e("./_object-gpo"),C=e("./_wks")("iterator"),S=!([].keys&&"next"in[].keys()),B="values",_=function(){return this};t.exports=function(e,t,i,a,s,r,n){T(i,t,a);var o,l,c,d=function(e){if(!S&&e in y)return y[e];switch(e){case"keys":case B:return function(){return new i(this,e)}}return function(){return new i(this,e)}},h=t+" Iterator",u=s==B,p=!1,y=e.prototype,m=y[C]||y["@@iterator"]||s&&y[s],f=m||d(s),v=s?u?d("entries"):f:undefined,g="Array"==t&&y.entries||m;if(g&&(c=k(g.call(new e)))!==Object.prototype&&c.next&&(w(c,h,!0),A||"function"==typeof c[C]||x(c,C,_)),u&&m&&m.name!==B&&(p=!0,f=function(){return m.call(this)}),A&&!n||!S&&!p&&y[C]||x(y,C,f),b[t]=f,b[h]=_,s)if(o={values:u?f:d(B),keys:r?f:d("keys"),entries:v},n)for(l in o)l in y||E(y,l,o[l]);else P(P.P+P.F*(S||p),t,o);return o}},{"./_export":28,"./_hide":32,"./_iter-create":38,"./_iterators":41,"./_library":42,"./_object-gpo":52,"./_redefine":58,"./_set-to-string-tag":59,"./_wks":72}],40:[function(e,t,i){t.exports=function(e,t){return{value:t,done:!!e}}},{}],41:[function(e,t,i){t.exports={}},{}],42:[function(e,t,i){t.exports=!0},{}],43:[function(e,t,i){var a=e("./_uid")("meta"),s=e("./_is-object"),r=e("./_has"),n=e("./_object-dp").f,o=0,l=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return l(Object.preventExtensions({}))}),d=function(e){n(e,a,{value:{i:"O"+ ++o,w:{}}})},h=t.exports={KEY:a,NEED:!1,fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,a)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[a].i},getWeak:function(e,t){if(!r(e,a)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[a].w},onFreeze:function(e){return c&&h.NEED&&l(e)&&!r(e,a)&&d(e),e}}},{"./_fails":29,"./_has":31,"./_is-object":37,"./_object-dp":46,"./_uid":69}],44:[function(e,t,i){"use strict";var u=e("./_descriptors"),p=e("./_object-keys"),y=e("./_object-gops"),m=e("./_object-pie"),f=e("./_to-object"),v=e("./_iobject"),s=Object.assign;t.exports=!s||e("./_fails")(function(){var e={},t={},i=Symbol(),a="abcdefghijklmnopqrst";return e[i]=7,a.split("").forEach(function(e){t[e]=e}),7!=s({},e)[i]||Object.keys(s({},t)).join("")!=a})?function(e,t){for(var i=f(e),a=arguments.length,s=1,r=y.f,n=m.f;s<a;)for(var o,l=v(arguments[s++]),c=r?p(l).concat(r(l)):p(l),d=c.length,h=0;h<d;)o=c[h++],u&&!n.call(l,o)||(i[o]=l[o]);return i}:s},{"./_descriptors":24,"./_fails":29,"./_iobject":35,"./_object-gops":51,"./_object-keys":54,"./_object-pie":55,"./_to-object":67}],45:[function(a,e,t){var s=a("./_an-object"),r=a("./_object-dps"),n=a("./_enum-bug-keys"),o=a("./_shared-key")("IE_PROTO"),l=function(){},c="prototype",d=function(){var e,t=a("./_dom-create")("iframe"),i=n.length;for(t.style.display="none",a("./_html").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),d=e.F;i--;)delete d[c][n[i]];return d()};e.exports=Object.create||function(e,t){var i;return null!==e?(l[c]=s(e),i=new l,l[c]=null,i[o]=e):i=d(),t===undefined?i:r(i,t)}},{"./_an-object":17,"./_dom-create":25,"./_enum-bug-keys":26,"./_html":33,"./_object-dps":47,"./_shared-key":60}],46:[function(t,i,a){var s=t("./_an-object"),r=t("./_ie8-dom-define"),n=t("./_to-primitive"),o=Object.defineProperty;a.f=t("./_descriptors")?Object.defineProperty:function(t,i,a){if(s(t),i=n(i,!0),s(a),r)try{return o(t,i,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(t[i]=a.value),t}},{"./_an-object":17,"./_descriptors":24,"./_ie8-dom-define":34,"./_to-primitive":68}],47:[function(e,t,i){var n=e("./_object-dp"),o=e("./_an-object"),l=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var i,a=l(t),s=a.length,r=0;r<s;)n.f(e,i=a[r++],t[i]);return e}},{"./_an-object":17,"./_descriptors":24,"./_object-dp":46,"./_object-keys":54}],48:[function(t,i,a){var s=t("./_object-pie"),r=t("./_property-desc"),n=t("./_to-iobject"),o=t("./_to-primitive"),l=t("./_has"),c=t("./_ie8-dom-define"),d=Object.getOwnPropertyDescriptor;a.f=t("./_descriptors")?d:function(t,i){if(t=n(t),i=o(i,!0),c)try{return d(t,i)}catch(e){}if(l(t,i))return r(!s.f.call(t,i),t[i])}},{"./_descriptors":24,"./_has":31,"./_ie8-dom-define":34,"./_object-pie":55,"./_property-desc":57,"./_to-iobject":65,"./_to-primitive":68}],49:[function(t,i,a){var s=t("./_to-iobject"),r=t("./_object-gopn").f,n={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];i.exports.f=function(t){return o&&"[object Window]"==n.call(t)?function(t){try{return r(t)}catch(e){return o.slice()}}(t):r(s(t))}},{"./_object-gopn":50,"./_to-iobject":65}],50:[function(e,t,i){var a=e("./_object-keys-internal"),s=e("./_enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(e){return a(e,s)}},{"./_enum-bug-keys":26,"./_object-keys-internal":53}],51:[function(e,t,i){i.f=Object.getOwnPropertySymbols},{}],52:[function(e,t,i){var a=e("./_has"),s=e("./_to-object"),r=e("./_shared-key")("IE_PROTO"),n=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=s(e),a(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?n:null}},{"./_has":31,"./_shared-key":60,"./_to-object":67}],53:[function(e,t,i){var n=e("./_has"),o=e("./_to-iobject"),l=e("./_array-includes")(!1),c=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var i,a=o(e),s=0,r=[];for(i in a)i!=c&&n(a,i)&&r.push(i);for(;t.length>s;)n(a,i=t[s++])&&(~l(r,i)||r.push(i));return r}},{"./_array-includes":18,"./_has":31,"./_shared-key":60,"./_to-iobject":65}],54:[function(e,t,i){var a=e("./_object-keys-internal"),s=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return a(e,s)}},{"./_enum-bug-keys":26,"./_object-keys-internal":53}],55:[function(e,t,i){i.f={}.propertyIsEnumerable},{}],56:[function(e,t,i){var s=e("./_export"),r=e("./_core"),n=e("./_fails");t.exports=function(e,t){var i=(r.Object||{})[e]||Object[e],a={};a[e]=t(i),s(s.S+s.F*n(function(){i(1)}),"Object",a)}},{"./_core":21,"./_export":28,"./_fails":29}],57:[function(e,t,i){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],58:[function(e,t,i){t.exports=e("./_hide")},{"./_hide":32}],59:[function(e,t,i){var a=e("./_object-dp").f,s=e("./_has"),r=e("./_wks")("toStringTag");t.exports=function(e,t,i){e&&!s(e=i?e:e.prototype,r)&&a(e,r,{configurable:!0,value:t})}},{"./_has":31,"./_object-dp":46,"./_wks":72}],60:[function(e,t,i){var a=e("./_shared")("keys"),s=e("./_uid");t.exports=function(e){return a[e]||(a[e]=s(e))}},{"./_shared":61,"./_uid":69}],61:[function(e,t,i){var a=e("./_core"),s=e("./_global"),r="__core-js_shared__",n=s[r]||(s[r]={});(t.exports=function(e,t){return n[e]||(n[e]=t!==undefined?t:{})})("versions",[]).push({version:a.version,mode:e("./_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":21,"./_global":30,"./_library":42}],62:[function(e,t,i){var l=e("./_to-integer"),c=e("./_defined");t.exports=function(o){return function(e,t){var i,a,s=String(c(e)),r=l(t),n=s.length;return r<0||n<=r?o?"":undefined:(i=s.charCodeAt(r))<55296||56319<i||r+1===n||(a=s.charCodeAt(r+1))<56320||57343<a?o?s.charAt(r):i:o?s.slice(r,r+2):a-56320+(i-55296<<10)+65536}}},{"./_defined":23,"./_to-integer":64}],63:[function(e,t,i){var a=e("./_to-integer"),s=Math.max,r=Math.min;t.exports=function(e,t){return(e=a(e))<0?s(e+t,0):r(e,t)}},{"./_to-integer":64}],64:[function(e,t,i){var a=Math.ceil,s=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?s:a)(e)}},{}],65:[function(e,t,i){var a=e("./_iobject"),s=e("./_defined");t.exports=function(e){return a(s(e))}},{"./_defined":23,"./_iobject":35}],66:[function(e,t,i){var a=e("./_to-integer"),s=Math.min;t.exports=function(e){return 0<e?s(a(e),9007199254740991):0}},{"./_to-integer":64}],67:[function(e,t,i){var a=e("./_defined");t.exports=function(e){return Object(a(e))}},{"./_defined":23}],68:[function(e,t,i){var s=e("./_is-object");t.exports=function(e,t){if(!s(e))return e;var i,a;if(t&&"function"==typeof(i=e.toString)&&!s(a=i.call(e)))return a;if("function"==typeof(i=e.valueOf)&&!s(a=i.call(e)))return a;if(!t&&"function"==typeof(i=e.toString)&&!s(a=i.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":37}],69:[function(e,t,i){var a=0,s=Math.random();t.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++a+s).toString(36))}},{}],70:[function(e,t,i){var a=e("./_global"),s=e("./_core"),r=e("./_library"),n=e("./_wks-ext"),o=e("./_object-dp").f;t.exports=function(e){var t=s.Symbol||(s.Symbol=r?{}:a.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:n.f(e)})}},{"./_core":21,"./_global":30,"./_library":42,"./_object-dp":46,"./_wks-ext":71}],71:[function(e,t,i){i.f=e("./_wks")},{"./_wks":72}],72:[function(e,t,i){var a=e("./_shared")("wks"),s=e("./_uid"),r=e("./_global").Symbol,n="function"==typeof r;(t.exports=function(e){return a[e]||(a[e]=n&&r[e]||(n?r:s)("Symbol."+e))}).store=a},{"./_global":30,"./_shared":61,"./_uid":69}],73:[function(e,t,i){var a=e("./_classof"),s=e("./_wks")("iterator"),r=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(e!=undefined)return e[s]||e["@@iterator"]||r[a(e)]}},{"./_classof":19,"./_core":21,"./_iterators":41,"./_wks":72}],74:[function(e,t,i){var a=e("./_an-object"),s=e("./core.get-iterator-method");t.exports=e("./_core").getIterator=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}},{"./_an-object":17,"./_core":21,"./core.get-iterator-method":73}],75:[function(e,t,i){"use strict";var a=e("./_add-to-unscopables"),s=e("./_iter-step"),r=e("./_iterators"),n=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=n(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=undefined,s(1)):s(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),r.Arguments=r.Array,a("keys"),a("values"),a("entries")},{"./_add-to-unscopables":16,"./_iter-define":39,"./_iter-step":40,"./_iterators":41,"./_to-iobject":65}],76:[function(e,t,i){var a=e("./_export");a(a.S+a.F,"Object",{assign:e("./_object-assign")})},{"./_export":28,"./_object-assign":44}],77:[function(e,t,i){var a=e("./_to-object"),s=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return s(a(e))}})},{"./_object-keys":54,"./_object-sap":56,"./_to-object":67}],78:[function(e,t,i){},{}],79:[function(e,t,i){"use strict";var a=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:undefined,done:!0}:(e=a(t,i),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":39,"./_string-at":62}],80:[function(e,t,i){"use strict";var a=e("./_global"),n=e("./_has"),s=e("./_descriptors"),r=e("./_export"),o=e("./_redefine"),l=e("./_meta").KEY,c=e("./_fails"),d=e("./_shared"),h=e("./_set-to-string-tag"),u=e("./_uid"),p=e("./_wks"),y=e("./_wks-ext"),m=e("./_wks-define"),f=e("./_enum-keys"),v=e("./_is-array"),g=e("./_an-object"),A=e("./_is-object"),P=e("./_to-object"),E=e("./_to-iobject"),x=e("./_to-primitive"),b=e("./_property-desc"),T=e("./_object-create"),w=e("./_object-gopn-ext"),k=e("./_object-gopd"),C=e("./_object-gops"),S=e("./_object-dp"),B=e("./_object-keys"),_=k.f,I=S.f,D=w.f,L=a.Symbol,V=a.JSON,M=V&&V.stringify,H="prototype",q=p("_hidden"),R=p("toPrimitive"),O={}.propertyIsEnumerable,F=d("symbol-registry"),j=d("symbols"),Q=d("op-symbols"),N=Object[H],W="function"==typeof L&&!!C.f,U=a.QObject,z=!U||!U[H]||!U[H].findChild,J=s&&c(function(){return 7!=T(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,i){var a=_(N,t);a&&delete N[t],I(e,t,i),a&&e!==N&&I(N,t,a)}:I,Y=function(e){var t=j[e]=T(L[H]);return t._k=e,t},G=W&&"symbol"==typeof L.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof L},K=function(e,t,i){return e===N&&K(Q,t,i),g(e),t=x(t,!0),g(i),n(j,t)?(i.enumerable?(n(e,q)&&e[q][t]&&(e[q][t]=!1),i=T(i,{enumerable:b(0,!1)})):(n(e,q)||I(e,q,b(1,{})),e[q][t]=!0),J(e,t,i)):I(e,t,i)},X=function(e,t){g(e);for(var i,a=f(t=E(t)),s=0,r=a.length;s<r;)K(e,i=a[s++],t[i]);return e},Z=function(e){var t=O.call(this,e=x(e,!0));return!(this===N&&n(j,e)&&!n(Q,e))&&(!(t||!n(this,e)||!n(j,e)||n(this,q)&&this[q][e])||t)},$=function(e,t){if(e=E(e),t=x(t,!0),e!==N||!n(j,t)||n(Q,t)){var i=_(e,t);return!i||!n(j,t)||n(e,q)&&e[q][t]||(i.enumerable=!0),i}},ee=function(e){for(var t,i=D(E(e)),a=[],s=0;i.length>s;)n(j,t=i[s++])||t==q||t==l||a.push(t);return a},te=function(e){for(var t,i=e===N,a=D(i?Q:E(e)),s=[],r=0;a.length>r;)!n(j,t=a[r++])||i&&!n(N,t)||s.push(j[t]);return s};W||(o((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=u(0<arguments.length?arguments[0]:undefined),i=function(e){this===N&&i.call(Q,e),n(this,q)&&n(this[q],t)&&(this[q][t]=!1),J(this,t,b(1,e))};return s&&z&&J(N,t,{configurable:!0,set:i}),Y(t)})[H],"toString",function(){return this._k}),k.f=$,S.f=K,e("./_object-gopn").f=w.f=ee,e("./_object-pie").f=Z,C.f=te,s&&!e("./_library")&&o(N,"propertyIsEnumerable",Z,!0),y.f=function(e){return Y(p(e))}),r(r.G+r.W+r.F*!W,{Symbol:L});for(var ie="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ae=0;ie.length>ae;)p(ie[ae++]);for(var se=B(p.store),re=0;se.length>re;)m(se[re++]);r(r.S+r.F*!W,"Symbol",{"for":function(e){return n(F,e+="")?F[e]:F[e]=L(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),r(r.S+r.F*!W,"Object",{create:function(e,t){return t===undefined?T(e):X(T(e),t)},defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ne=c(function(){C.f(1)});r(r.S+r.F*ne,"Object",{getOwnPropertySymbols:function(e){return C.f(P(e))}}),V&&r(r.S+r.F*(!W||c(function(){var e=L();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,i,a=[e],s=1;s<arguments.length;)a.push(arguments[s++]);if(i=t=a[1],(A(t)||e!==undefined)&&!G(e))return v(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!G(t))return t}),a[1]=t,M.apply(V,a)}}),L[H][R]||e("./_hide")(L[H],R,L[H].valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(a.JSON,"JSON",!0)},{"./_an-object":17,"./_descriptors":24,"./_enum-keys":27,"./_export":28,"./_fails":29,"./_global":30,"./_has":31,"./_hide":32,"./_is-array":36,"./_is-object":37,"./_library":42,"./_meta":43,"./_object-create":45,"./_object-dp":46,"./_object-gopd":48,"./_object-gopn":50,"./_object-gopn-ext":49,"./_object-gops":51,"./_object-keys":54,"./_object-pie":55,"./_property-desc":57,"./_redefine":58,"./_set-to-string-tag":59,"./_shared":61,"./_to-iobject":65,"./_to-object":67,"./_to-primitive":68,"./_uid":69,"./_wks":72,"./_wks-define":70,"./_wks-ext":71}],81:[function(e,t,i){e("./_wks-define")("asyncIterator")},{"./_wks-define":70}],82:[function(e,t,i){e("./_wks-define")("observable")},{"./_wks-define":70}],83:[function(e,t,i){e("./es6.array.iterator");for(var a=e("./_global"),s=e("./_hide"),r=e("./_iterators"),n=e("./_wks")("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<o.length;l++){var c=o[l],d=a[c],h=d&&d.prototype;h&&!h[n]&&s(h,n,c),r[c]=r.Array}},{"./_global":30,"./_hide":32,"./_iterators":41,"./_wks":72,"./es6.array.iterator":75}]},{},[1]);